{"version":3,"file":"Screenshot.bundled.js","mappings":"0PAMO,SAASA,EAAUC,GACtB,WAAkBA,EAAQC,IAAI,GAAI,CAAEC,QAAS,SAAUC,MAAK,SAAUC,IAClE,IAAAC,QAAOD,EAAM,GAAGJ,EAAQM,OAAS,iBACrC,GACJ,CAEO,SAASC,EAAUP,GACtB,UAAiBA,EAAQC,IAAI,IAAIE,MAAK,SAAUK,IAC5C,IAAAH,QAAOG,EAAS,GAAGR,EAAQM,OAAS,iBACxC,GACJ,CAEO,SAASG,EAAUT,GACtB,UAAiBA,EAAQC,IAAI,IAAIE,MAAK,SAAUK,GAC5C,MAAME,EAAM,IAAI,KAGVC,EAAYD,EAAIE,SAASC,SAASC,WAClCC,EAAaL,EAAIE,SAASC,SAASG,YACnCC,EAAejB,EAAQC,IAAIiB,QAC3BC,EAAgBnB,EAAQC,IAAImB,SAC5BC,EAAyE,IAAjEC,KAAKC,IAAIZ,EAAYM,EAAcF,EAAaI,GAE9DT,EAAIc,SACAhB,EACA,MACY,KAAZG,EACa,KAAbI,EACAM,EAAQJ,EACRI,EAAQF,GAGZT,EAAIe,KAAK,GAAGzB,EAAQM,OAAS,iBACjC,GACJ,C","sources":["webpack://@galaxyproject/galaxy-client/./src/mvc/visualization/chart/components/screenshot.js"],"sourcesContent":["/** This class enables users to export/download a chart as PNG, SVG or PDF. */\n\nimport domtoimage from \"dom-to-image\";\nimport { saveAs } from \"file-saver\";\nimport { jsPDF } from \"jspdf\";\n\nexport function createPNG(options) {\n    domtoimage.toBlob(options.$el[0], { bgcolor: \"#fff\" }).then(function (blob) {\n        saveAs(blob, `${options.title || \"my-chart\"}.png`);\n    });\n}\n\nexport function createSVG(options) {\n    domtoimage.toSvg(options.$el[0]).then(function (dataUrl) {\n        saveAs(dataUrl, `${options.title || \"my-chart\"}.svg`);\n    });\n}\n\nexport function createPDF(options) {\n    domtoimage.toPng(options.$el[0]).then(function (dataUrl) {\n        const doc = new jsPDF();\n        // Calculate scaled image size.  We want to leave a small margin, but\n        // fill the page width otherwise.\n        const pageWidth = doc.internal.pageSize.getWidth();\n        const pageHeight = doc.internal.pageSize.getHeight();\n        const elementWidth = options.$el.width();\n        const elementHeight = options.$el.height();\n        const scale = Math.min(pageWidth / elementWidth, pageHeight / elementHeight) * 0.95;\n\n        doc.addImage(\n            dataUrl,\n            \"png\",\n            pageWidth * 0.025,\n            pageHeight * 0.025,\n            scale * elementWidth,\n            scale * elementHeight\n        );\n\n        doc.save(`${options.title || \"my-chart\"}.pdf`);\n    });\n}\n"],"names":["createPNG","options","$el","bgcolor","then","blob","saveAs","title","createSVG","dataUrl","createPDF","doc","pageWidth","internal","pageSize","getWidth","pageHeight","getHeight","elementWidth","width","elementHeight","height","scale","Math","min","addImage","save"],"sourceRoot":""}