"use strict";(self.webpackChunk_galaxyproject_galaxy_client=self.webpackChunk_galaxyproject_galaxy_client||[]).push([[257],{61820:(e,t,i)=>{i.d(t,{lK:()=>zt,kg:()=>q,Gr:()=>v,D5:()=>m});var r={};i.r(r),i.d(r,{currentVersion:()=>O,retrieveLastVersion:()=>T,retrieveVersion:()=>A,save:()=>k,undo:()=>w});var s={};i.r(s),i.d(s,{defaultOptions:()=>j,options:()=>L});var a={};i.r(a),i.d(a,{dataTypeOf:()=>F,typeOf:()=>P});var n={};i.r(n),i.d(n,{applyGraph:()=>B,removeGraph:()=>z});var o={};i.r(o),i.d(o,{DataParser:()=>re,FormatParser:()=>se,TypeParser:()=>ie});var l={};i.r(l),i.d(l,{clean:()=>ve});var m={};i.r(m),i.d(m,{Grammar:()=>Ve,Register:()=>Xe,TokenStack:()=>$e,Translator:()=>We,deepCopy:()=>we,downgradeCsl:()=>Oe,fetchFile:()=>ze,fetchFileAsync:()=>Ue,fetchId:()=>qe,setUserAgent:()=>Me,upgradeCsl:()=>Ee});var u={};i.r(u),i.d(u,{add:()=>ct,addDataParser:()=>ot,addTypeParser:()=>W,chain:()=>Qe,chainAsync:()=>Ze,chainLink:()=>Ye,chainLinkAsync:()=>et,data:()=>at,dataAsync:()=>nt,get:()=>ht,has:()=>dt,hasDataParser:()=>lt,hasTypeParser:()=>K,list:()=>gt,listDataParser:()=>ut,listTypeParser:()=>Y,remove:()=>ft,removeDataParser:()=>mt,removeTypeParser:()=>Q,treeTypeParser:()=>Z,type:()=>J,typeMatcher:()=>ee,util:()=>bt});var p={};i.r(p),i.d(p,{add:()=>vt,addAsync:()=>yt,reset:()=>Et,set:()=>_t,setAsync:()=>xt});var c={};i.r(c),i.d(c,{sort:()=>kt});var h={};i.r(h),i.d(h,{add:()=>It,format:()=>Rt,has:()=>Ct,list:()=>Dt,register:()=>St,remove:()=>Nt});var f={};i.r(f),i.d(f,{format:()=>Lt,get:()=>Pt,getIds:()=>jt});var d={};i.r(d),i.d(d,{async:()=>Ft,validateOptions:()=>R,validateOutputOptions:()=>D});var g={};i.r(g),i.d(g,{add:()=>Mt,get:()=>Xt,has:()=>Gt,htmlDict:()=>Vt,list:()=>$t,register:()=>Ut,remove:()=>qt,textDict:()=>Ht});var b={};i.r(b),i.d(b,{add:()=>Wt,get:()=>Kt,has:()=>Qt,list:()=>Zt,remove:()=>Yt});var v={};i.r(v),i.d(v,{add:()=>ii,config:()=>b,dict:()=>g,has:()=>si,input:()=>u,list:()=>ai,output:()=>h,remove:()=>ri});var y={};i.r(y),i.d(y,{parse:()=>ni});var _={};i.r(_),i.d(_,{default:()=>li,parse:()=>li});var x={};i.r(x),i.d(x,{parse:()=>mi});var E={};function O(){return this.log.length}function A(e=1){if(e<=0||e>this.currentVersion())return null;{const[t,i]=this.log[e-1],r=new this.constructor(JSON.parse(t),JSON.parse(i));return r.log=this.log.slice(0,e),r}}function w(e=1){return this.retrieveVersion(this.currentVersion()-e)}function T(){return this.retrieveVersion(this.currentVersion())}function k(){return this.log.push([JSON.stringify(this.data),JSON.stringify(this._options)]),this}i.r(E),i.d(E,{parse:()=>ui});const S=["real","string"],I=["json","html","string","rtf"],N=["csl","bibtex","bibtxt","citation-*","ris","ndjson"],C=["string","function"];function D(e){if("object"!=typeof e)throw new TypeError("Options not an object!");const{format:t,type:i,style:r,lang:s,append:a,prepend:n}=e;if(t&&!S.includes(t))throw new TypeError(`Option format ("${t}") should be one of: ${S}`);if(i&&!I.includes(i))throw new TypeError(`Option type ("${i}") should be one of: ${I}`);if(r&&!N.includes(r)&&!/^citation/.test(r))throw new TypeError(`Option style ("${r}") should be one of: ${N}`);if(s&&"string"!=typeof s)throw new TypeError("Option lang should be a string, but is a "+typeof s);if(n&&!C.includes(typeof n))throw new TypeError("Option prepend should be a string or a function, but is a "+typeof n);if(a&&!C.includes(typeof a))throw new TypeError("Option append should be a string or a function, but is a "+typeof a);if(/^citation/.test(r)&&"json"===i)throw new Error(`Combination type/style of json/citation-* is not valid: ${i}/${r}`);return!0}function R(e){if("object"!=typeof e)throw new TypeError("Options should be an object");if(e.output)D(e.output);else{if(e.maxChainLength&&"number"!=typeof e.maxChainLength)throw new TypeError("Option maxChainLength should be a number");if(e.forceType&&"string"!=typeof e.forceType)throw new TypeError("Option forceType should be a string");if(null!=e.generateGraph&&"boolean"!=typeof e.generateGraph)throw new TypeError("Option generateGraph should be a boolean");if(null!=e.strict&&"boolean"!=typeof e.strict)throw new TypeError("Option strict should be a boolean");if(null!=e.target&&"string"!=typeof e.target)throw new TypeError("Option target should be a boolean")}return!0}const j={format:"real",type:"json",style:"csl",lang:"en-US"};function L(e,t){return D(e),t&&this.save(),Object.assign(this._options,e),this}function P(e){switch(e){case void 0:return"Undefined";case null:return"Null";default:return e.constructor.name}}function F(e){switch(typeof e){case"string":return"String";case"object":if(Array.isArray(e))return"Array";if("Object"===P(e))return"SimpleObject";if("Null"!==P(e))return"ComplexObject";default:return"Primitive"}}function B(e,t){if(e._graph){const i=t.findIndex((({type:e})=>"@else/list+object"===e));-1!==i&&t.splice(i+1,0,...e._graph.slice(0,-1))}return e._graph=t,e}function z(e){return delete e._graph,e}var U=i(34155);const M={_output(e,t,i){this._log.push(t,i),this._levels.indexOf(e)<this._levels.indexOf(this.level)||this._console.log(t,...i)},_console:null,_log:[],_levels:["http","debug","unmapped","info","warn","error","silent"],level:"silent"};for(const e of M._levels)M[e]=(t,...i)=>M._output(e,t,i);"function"==typeof console.Console?M._console=new console.Console(U.stderr):M._console=console;const q=M,G={},$={},X={};function V(e,t){switch(t){case"Array":return 0===e.length||e.every((e=>"@csl/object"===J(e)))?"@csl/list+object":"@else/list+object";case"SimpleObject":case"ComplexObject":return"@csl/object";default:return"@invalid"}}function H(e=[],t){for(const i of e)if(G[i].predicate(t))return H(G[i].extensions,t)||i}function J(e){const t=F(e);if("Array"===t&&0===e.length)return V(e,t);return H($[t],e)||V(e,t)}function W(e,{dataType:t,predicate:i,extends:r}){let s=[];e in X&&(s=X[e],delete X[e],q.debug("[core]",`Subclasses "${s}" finally registered to parent type "${e}"`));const a={predicate:i,extensions:s};if(G[e]=a,r){const t=G[r];t?t.extensions.push(e):(X[r]||(X[r]=[]),X[r].push(e),q.debug("[core]",`Subclass "${e}" is waiting on parent type "${r}"`))}else{($[t]||($[t]=[])).push(e)}}function K(e){return Object.prototype.hasOwnProperty.call(G,e)}function Q(e){delete G[e];const t=[...Object.keys($).map((e=>$[e])),...Object.keys(G).map((e=>G[e].extensions)).filter((e=>e.length>0))];t.forEach((t=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)}))}function Y(){return Object.keys(G)}function Z(){const e=t=>({name:t,children:G[t].extensions.map(e)});return{name:"Type tree",children:Object.keys($).map((t=>({name:t,children:$[t].map(e)})))}}const ee=/^(?:@(.+?))(?:\/(?:(.+?)\+)?(?:(.+)))?$/;function te(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ie{constructor(e){te(this,"validDataTypes",["String","Array","SimpleObject","ComplexObject","Primitive"]),this.data=e}validateDataType(){const e=this.data.dataType;if(e&&!this.validDataTypes.includes(e))throw new RangeError(`dataType was ${e}; expected one of ${this.validDataTypes}`)}validateParseType(){const e=this.data.predicate;if(e&&!(e instanceof RegExp||"function"==typeof e))throw new TypeError(`predicate was ${typeof e}; expected RegExp or function`)}validateTokenList(){const e=this.data.tokenList;if(e&&"object"!=typeof e)throw new TypeError(`tokenList was ${typeof e}; expected object or RegExp`)}validatePropertyConstraint(){const e=this.data.propertyConstraint;if(e&&"object"!=typeof e)throw new TypeError(`propertyConstraint was ${typeof e}; expected array or object`)}validateElementConstraint(){const e=this.data.elementConstraint;if(e&&"string"!=typeof e)throw new TypeError(`elementConstraint was ${typeof e}; expected string`)}validateExtends(){const e=this.data.extends;if(e&&"string"!=typeof e)throw new TypeError(`extends was ${typeof e}; expected string`)}validate(){if(null===this.data||"object"!=typeof this.data)throw new TypeError(`typeParser was ${typeof this.data}; expected object`);this.validateDataType(),this.validateParseType(),this.validateTokenList(),this.validatePropertyConstraint(),this.validateElementConstraint(),this.validateExtends()}parseTokenList(){let e=this.data.tokenList;if(!e)return[];e instanceof RegExp&&(e={token:e});const{token:t,split:i=/\s+/,trim:r=!0,every:s=!0}=e,a=s?"every":"some";return[e=>(e=>r?e.trim():e)(e).split(i)[a]((e=>t.test(e)))]}parsePropertyConstraint(){return[].concat(this.data.propertyConstraint||[]).map((({props:e,match:t,value:i})=>{switch(e=[].concat(e),t){case"any":case"some":return t=>e.some((e=>e in t&&(!i||i(t[e]))));case"none":return t=>!e.some((e=>e in t&&(!i||i(t[e]))));default:return t=>e.every((e=>e in t&&(!i||i(t[e]))))}}))}parseElementConstraint(){const e=this.data.elementConstraint;return e?[t=>t.every((t=>J(t)===e))]:[]}parsePredicate(){return this.data.predicate instanceof RegExp?[this.data.predicate.test.bind(this.data.predicate)]:this.data.predicate?[this.data.predicate]:[]}getCombinedPredicate(){const e=[...this.parsePredicate(),...this.parseTokenList(),...this.parsePropertyConstraint(),...this.parseElementConstraint()];return 0===e.length?()=>!0:1===e.length?e[0]:t=>e.every((e=>e(t)))}getDataType(){return this.data.dataType?this.data.dataType:this.data.predicate instanceof RegExp||this.data.tokenList?"String":this.data.elementConstraint?"Array":"Primitive"}get dataType(){return this.getDataType()}get predicate(){return this.getCombinedPredicate()}get extends(){return this.data.extends}}class re{constructor(e,{async:t}={}){this.parser=e,this.async=t}validate(){const e=this.parser;if("function"!=typeof e)throw new TypeError(`parser was ${typeof e}; expected function`)}}class se{constructor(e,t={}){this.format=e,t.parseType&&(this.typeParser=new ie(t.parseType)),t.parse&&(this.dataParser=new re(t.parse,{async:!1})),t.parseAsync&&(this.asyncDataParser=new re(t.parseAsync,{async:!0}))}validateFormat(){const e=this.format;if(!ee.test(e))throw new TypeError(`format name was "${e}"; didn't match expected pattern`)}validate(){this.validateFormat(),this.typeParser&&this.typeParser.validate(),this.dataParser&&this.dataParser.validate(),this.asyncDataParser&&this.asyncDataParser.validate()}}var ae=i(53106);function ne(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function oe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(i),!0).forEach((function(t){le(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ne(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function le(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const me=1,ue=2,pe=3,ce=4,he={article:!0,"article-journal":!0,"article-magazine":!0,"article-newspaper":!0,bill:!0,book:!0,broadcast:!0,chapter:!0,classic:!0,collection:!0,dataset:!0,document:!0,entry:!0,"entry-dictionary":!0,"entry-encyclopedia":!0,event:!0,figure:!0,graphic:!0,hearing:!0,interview:!0,legal_case:!0,legislation:!0,manuscript:!0,map:!0,motion_picture:!0,musical_score:!0,pamphlet:!0,"paper-conference":!0,patent:!0,performance:!0,periodical:!0,personal_communication:!0,post:!0,"post-weblog":!0,regulation:!0,report:!0,review:!0,"review-book":!0,software:!0,song:!0,speech:!0,standard:!0,thesis:!0,treaty:!0,webpage:!0,"journal-article":"article-journal","book-chapter":"chapter","posted-content":"manuscript","proceedings-article":"paper-conference"},fe={author:ue,chair:ue,"collection-editor":ue,compiler:ue,composer:ue,"container-author":ue,contributor:ue,curator:ue,director:ue,editor:ue,"editorial-director":ue,"executive-producer":ue,guest:ue,host:ue,interviewer:ue,illustrator:ue,narrator:ue,organizer:ue,"original-author":ue,performer:ue,producer:ue,"reviewed-author":ue,recipient:ue,"script-writer":ue,"series-creator":ue,translator:ue,accessed:pe,"available-date":pe,container:pe,"event-date":pe,issued:pe,"original-date":pe,submitted:pe,type:ce,categories:"object",custom:"object",id:["string","number"],language:"string",journalAbbreviation:"string",shortTitle:"string",abstract:"string",annote:"string",archive:"string",archive_collection:"string",archive_location:"string","archive-place":"string",authority:"string","call-number":"string","chapter-number":"string","citation-number":"string","citation-key":"string","citation-label":"string","collection-number":"string","collection-title":"string","container-title":"string","container-title-short":"string",dimensions:"string",division:"string",DOI:"string",edition:["string","number"],event:"string","event-title":"string","event-place":"string","first-reference-note-number":"string",genre:"string",ISBN:"string",ISSN:"string",issue:["string","number"],jurisdiction:"string",keyword:"string",locator:"string",medium:"string",note:"string",number:["string","number"],"number-of-pages":"string","number-of-volumes":["string","number"],"original-publisher":"string","original-publisher-place":"string","original-title":"string",page:"string","page-first":"string","part-number":["string","number"],"part-title":"string",PMCID:"string",PMID:"string",printing:"string",publisher:"string","publisher-place":"string",references:"string","reviewed-title":"string","reviewed-genre":"string",scale:"string",section:"string",source:"string",status:"string",supplement:["string","number"],title:"string","title-short":"string",URL:"string",version:"string",volume:["string","number"],"volume-title":"string","volume-title-short":"string","year-suffix":"string"};function de(e,t){return"object"==typeof e&&null!==e&&(e.literal||e.given||e.family)?e:t&&"string"==typeof e?(0,ae.Qc)(e):void 0}function ge(e,t){return e.every((e=>"number"==typeof e))?e:!t||e.some((e=>isNaN(parseInt(e))))?void 0:e.map((e=>parseInt(e)))}function be(e,t,i){const r=[].concat(fe[e]);switch(fe[e]){case me:return de(t,i);case ue:return function(e,t){if(e instanceof Array){const i=e.map((e=>de(e,t))).filter(Boolean);return i.length?i:void 0}}(t,i);case pe:return function(e,t){const i="date-parts";if("object"==typeof e&&null!==e){if(e[i]instanceof Array&&e[i].every((e=>e instanceof Array))){const r=e[i].map((e=>ge(e,t))).filter(Boolean);return r.length?oe(oe({},e),{},{"date-parts":r}):void 0}if(e instanceof Array&&e.every((e=>e[i]instanceof Array))){const r=e.map((e=>ge(e[i],t))).filter(Boolean);return r.length?{"date-parts":r}:void 0}if(e[i]instanceof Array){const r=ge(e[i],t);return r&&{"date-parts":[r]}}return"literal"in e||"raw"in e?e:void 0}}(t,i);case ce:return function(e,t){return e=be("language",e,t),!0===he[e]?e:t&&e in he?he[e]:void 0}(t,i)}if(i){if("string"==typeof t&&r.includes("number")&&!r.includes("string")&&!isNaN(+t))return parseFloat(t);if("number"==typeof t&&r.includes("string")&&!r.includes("number"))return t.toString();if(Array.isArray(t)&&t.length)return be(e,t[0],i)}if(r.includes(typeof t))return t}function ve(e,t=!0){return e.map((function(e){const i={};for(const r in e){const s=be(r,e[r],t);void 0!==s&&(i[r]=s)}return i}))}function ye(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function _e(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(i),!0).forEach((function(t){xe(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ye(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function xe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ee(e){return Array.isArray(e)?e.map(Ee):("event"in(e=_e({},e))&&(e["event-title"]=e.event,delete e.event),"book"===e.type&&"version"in e&&(e.type="software"),e)}function Oe(e){return Array.isArray(e)?e.map(Oe):("event-title"in(e=_e({},e))&&(e.event=e["event-title"],delete e["event-title"]),"software"===e.type&&(e.type="book"),e)}function Ae(e,t=new Set){if("object"!=typeof e||null===e||e.constructor!==Object&&e.constructor!==Array)return e;if(t.has(e))throw new TypeError("Recursively copying circular structure");let i;if(t.add(e),e.constructor===Array)i=e.map((e=>Ae(e,t)));else{const r={};for(const i in e)r[i]=Ae(e[i],t);i=r}return t.delete(e),i}const we=Ae;var Te=i(68826),ke=i.n(Te),Se=i(87559),Ie=i.n(Se);const Ne="0.7.1";var Ce=i(34155);const{fetch:De,Headers:Re}=Ie()(),je="undefined"!=typeof location&&"undefined"!=typeof document;let Le=je?"":`Citation.js/${Ne} Node.js/${Ce.version}`;function Pe(e){const t={},i=e instanceof Re||e instanceof ke().Headers?Array.from(e):Object.entries(e);for(const[e,r]of i)t[e.toLowerCase()]=r.toString();return t}function Fe(e={}){const t={headers:{accept:"*/*"},method:"GET",checkContentType:e.checkContentType};if(Le&&!je&&(t.headers["user-agent"]=Le),e.body){t.method="POST";const i="string"!=typeof e.body;t.body=i?JSON.stringify(e.body):e.body,t.headers["content-type"]=i?"application/json":"text/plain"}return e.headers&&Object.assign(t.headers,Pe(e.headers)),t}function Be(e,t){const{status:i,headers:r}=e;let s;if(i>=400?s=new Error(`Server responded with status code ${i}`):!0!==t.checkContentType||function(e,t){if(!e.accept||"*/*"===e.accept||!t["content-type"])return!0;const[i,r]=t["content-type"].split(";")[0].trim().split("/");return e.accept.split(",").map((e=>e.split(";")[0].trim().split("/"))).some((([e,t])=>!(e!==i&&"*"!==e||t!==r&&"*"!==t)))}(t.headers,Pe(r))||(s=new Error(`Server responded with content-type ${r.get("content-type")}`)),s)throw s.status=i,s.headers=r,s.body=e.body,s;return e}function ze(e,t){const i=Fe(t);q.http("[core]",i.method,e,i);return Be(ke()(e,i),i).text()}async function Ue(e,t){const i=Fe(t);return q.http("[core]",i.method,e,i),De(e,i).then((e=>Be(e,i))).then((e=>e.text()))}function Me(e){Le=e}const qe=function(e,t){let i;for(;void 0===i||e.includes(i);)i=`${t}${Math.random().toString().slice(2)}`;return i};class Ge{constructor(e){this.stack=e,this.index=0,this.current=this.stack[this.index]}static getPatternText(e){return`"${e instanceof RegExp?e.source:e}"`}static getMatchCallback(e){if(Array.isArray(e)){const t=e.map(Ge.getMatchCallback);return e=>t.some((t=>t(e)))}return e instanceof Function?e:e instanceof RegExp?t=>e.test(t):t=>e===t}tokensLeft(){return this.stack.length-this.index}matches(e){return Ge.getMatchCallback(e)(this.current,this.index,this.stack)}matchesSequence(e){const t=this.stack.slice(this.index,this.index+e.length).join("");return"string"==typeof e?t===e:e.every(((e,i)=>Ge.getMatchCallback(e)(t[i])))}consumeToken(e=/^[\s\S]$/,{inverse:t=!1,spaced:i=!0}={}){i&&this.consumeWhitespace();const r=this.current;if(!Ge.getMatchCallback(e)(r,this.index,this.stack))throw new SyntaxError(`Unexpected token at index ${this.index}: Expected ${Ge.getPatternText(e)}, got "${r}"`);return this.current=this.stack[++this.index],i&&this.consumeWhitespace(),r}consumeWhitespace(e=/^\s$/,{optional:t=!0}={}){return this.consume(e,{min:+!t})}consumeN(e){if(this.tokensLeft()<e)throw new SyntaxError("Not enough tokens left");const t=this.index;for(;e--;)this.current=this.stack[++this.index];return this.stack.slice(t,this.index).join("")}consumeSequence(e){if(this.matchesSequence(e))return this.consumeN(e.length);throw new SyntaxError(`Expected "${e}", got "${this.consumeN(e.length)}"`)}consume(e=/^[\s\S]$/,{min:t=0,max:i=1/0,inverse:r=!1,tokenMap:s,tokenFilter:a}={}){const n=this.index,o=Ge.getMatchCallback(e);for(;o(this.current,this.index,this.stack)!==r;)this.current=this.stack[++this.index];let l=this.stack.slice(n,this.index);if(l.length<t)throw new SyntaxError(`Not enough ${Ge.getPatternText(e)}`);if(l.length>i)throw new SyntaxError(`Too many ${Ge.getPatternText(e)}`);return s&&(l=l.map(s)),a&&(l=l.filter(a)),l.join("")}}const $e=Ge;const Xe=class{constructor(e={}){this.data=e}set(e,t){return this.data[e]=t,this}add(...e){return this.set(...e)}delete(e){return delete this.data[e],this}remove(...e){return this.delete(...e)}get(e){return this.data[e]}has(e){return Object.prototype.hasOwnProperty.call(this.data,e)}list(){return Object.keys(this.data)}};class Ve{constructor(e,t){this.rules=e,this.defaultState=t,this.mainRule=Object.keys(e)[0],this.log=[]}parse(e,t){return this.lexer=e,this.token=this.lexer.next(),this.state=Ae(this.defaultState),this.log=[],this.consumeRule(t||this.mainRule)}matchEndOfFile(){return!this.token}matchToken(e){return this.token&&e===this.token.type}consumeToken(e,t){const i=this.token;if(!e||i&&i.type===e)return this.token=this.lexer.next(),i;if(!t){const t=i?`"${i.type}"`:"EOF",r=new SyntaxError(this.lexer.formatError(i,`expected "${e}", got ${t}`));throw r.message+=` (${this.log.join("->")})`,r}}consumeRule(e){this.log.push(e);const t=this.rules[e].call(this);return this.log.pop(),t}}function He(e,t){let i,r,s,a;if("string"==typeof e)i=r=e;else{if(!e)return null;i=t?e.target:e.source,r=t?e.source:e.target,e.convert&&(s=t?e.convert.toSource:e.convert.toTarget),e.when&&(a=t?e.when.target:e.when.source,null!=a&&(a=function(e){return function(t){return"boolean"==typeof e?e:Object.keys(e).every((i=>{const r=e[i];return!0===r?i in t:!1===r?!(i in t):"function"==typeof r?r(t[i]):Array.isArray(r)?r.includes(t[i]):t[i]===r}))}}(a)))}return i=[].concat(i).filter(Boolean),r=[].concat(r).filter(Boolean),{inputProp:i,outputProp:r,convert:s,condition:a}}function Je(e,t){return t=t===We.CONVERT_TO_SOURCE,e=e.map((e=>He(e,t))).filter(Boolean),function(t){const i={};for(const{inputProp:r,outputProp:s,convert:a,condition:n}of e){if(0===s.length)continue;if(n&&!n(t))continue;if(0!==r.length&&r.every((e=>!(e in t))))continue;let e=r.map((e=>t[e]));if(a)try{const i=a.apply(t,e);e=1===s.length?[i]:i}catch(e){throw new Error(`Failed to convert ${r} to ${s}`,{cause:e})}s.forEach(((t,r)=>{const s=e[r];void 0!==s&&(i[t]=s)}))}return i}}class We{constructor(e){this.convertToSource=Je(e,We.CONVERT_TO_SOURCE),this.convertToTarget=Je(e,We.CONVERT_TO_TARGET)}}We.CONVERT_TO_SOURCE=Symbol("convert to source"),We.CONVERT_TO_TARGET=Symbol("convert to target");class Ke{constructor(e,t={}){this.options=Object.assign({generateGraph:!0,forceType:J(e),maxChainLength:10,strict:!0,target:"@csl/list+object"},t),this.type=this.options.forceType,this.data="object"==typeof e?we(e):e,this.graph=[{type:this.type,data:e}],this.iteration=0}iterate(){if(0!==this.iteration){const e=ht(this.type);e&&e.outputs?this.type=e.outputs:this.type=J(this.data),this.graph.push({type:this.type})}return!this.error&&this.type!==this.options.target&&(this.iteration>=this.options.maxChainLength?(this.error=new RangeError(`Max. number of parsing iterations reached (${e=this.graph,e.reduce(((e,t)=>{const i=e[e.length-1];return i&&i.type===t.type?i.count=i.count+1||2:e.push(t),e}),[]).map((e=>(e.count>1?e.count+"x ":"")+e.type)).join(" -> ")})`),!1):(this.iteration++,!0));var e}end(){if(this.error){if(q.error("[core]",this.error.message),!1!==this.options.strict)throw this.error;return[]}return"@csl/list+object"===this.options.target?Ee(this.data).map(this.options.generateGraph?e=>B(e,this.graph):z):this.data}}const Qe=(...e)=>{const t=new Ke(...e);for(;t.iterate();)try{t.data=at(t.data,t.type)}catch(e){t.error=e}return t.end()},Ye=e=>{const t=J(e);return at(t.match(/array|object/)?we(e):e,t)},Ze=async(...e)=>{const t=new Ke(...e);for(;t.iterate();)t.data=await nt(t.data,t.type).catch((e=>{t.error=e}));return t.end()},et=async e=>{const t=J(e);return nt(t.match(/array|object/)?we(e):e,t)},tt={},it={},rt={"@csl/object":e=>[e],"@csl/list+object":e=>e,"@else/list+object":e=>e.map(Qe).flat(),"@invalid":()=>{throw new Error("This format is not supported or recognized")}},st={"@else/list+object":async e=>(await Promise.all(e.map(Ze))).flat()};function at(e,t){if("function"==typeof tt[t])return tt[t](e);if("function"==typeof rt[t])return rt[t](e);throw new TypeError(`No synchronous parser found for ${t}`)}async function nt(e,t){if("function"==typeof it[t])return it[t](e);if("function"==typeof st[t])return st[t](e);if(lt(t,!1))return at(e,t);throw new TypeError(`No parser found for ${t}`)}function ot(e,{parser:t,async:i}){i?it[e]=t:tt[e]=t}function lt(e,t){return t?it[e]||st[e]:tt[e]||rt[e]}function mt(e,t){delete(t?it:tt)[e]}function ut(e){return Object.keys(e?it:tt)}const pt={};function ct(e,t){const i=new se(e,t);i.validate();const r=pt[e]||(pt[e]={});i.typeParser&&(W(e,i.typeParser),r.type=!0),i.dataParser&&(ot(e,i.dataParser),r.data=!0),i.asyncDataParser&&(ot(e,i.asyncDataParser),r.asyncData=!0),t.outputs&&(r.outputs=t.outputs)}function ht(e){return pt[e]}function ft(e){const t=pt[e];t&&(t.type&&Q(e),t.data&&mt(e),t.asyncData&&mt(e,!0),delete pt[e])}function dt(e){return e in pt}function gt(){return Object.keys(pt)}const bt=Object.assign({},a,n,o,l);function vt(e,t={},i=!1){return!0!==t&&!0!==i||this.save(),this.data.push(...Qe(e,t)),this.data.filter((e=>!Object.prototype.hasOwnProperty.call(e,"id"))).forEach((e=>{e.id=qe(this.getIds(),"temp_id_")})),this}async function yt(e,t={},i=!1){return!0!==t&&!0!==i||this.save(),this.data.push(...await Ze(e,t)),this.data.filter((e=>!Object.prototype.hasOwnProperty.call(e,"id"))).forEach((e=>{e.id=qe(this.getIds(),"temp_id_")})),this}function _t(e,t={},i=!1){return!0!==t&&!0!==i||this.save(),this.data=[],"boolean"!=typeof t?this.add(e,t):this.add(e)}async function xt(e,t={},i=!1){return!0!==t&&!0!==i||this.save(),this.data=[],"boolean"!=typeof t?this.addAsync(e,t):this.addAsync(e)}function Et(e){return e&&this.save(),this.data=[],this._options={},this}function Ot(e){if("citation-label"in e)return e["citation-label"];let t="";return e.author&&(t+=e.author[0].family||e.author[0].literal),e.issued&&e.issued["date-parts"]&&e.issued["date-parts"][0]&&(t+=e.issued["date-parts"][0][0]),e["year-suffix"]?t+=e["year-suffix"]:e.title&&(t+=e.title.replace(/<\/?.*?>/g,"").match(/^(?:(?:the|a|an)\s+)?(\S+)/i)[1]),t}const At={label:e=>e.reduce(((e,t)=>(e[t.id]=Ot(t),e)),{})};function wt(e,t,i="label"===t){let r=i?Ot(e):e[t];switch(t){case"author":case"editor":return r.map((e=>e.literal||e.family||(0,ae.WU)(e)));case"accessed":case"issued":return r["date-parts"][0];case"page":return r.split("-").map((e=>parseInt(e)));case"edition":case"issue":case"volume":return r=parseInt(r),isNaN(r)?-1/0:r;default:return r||-1/0}}function Tt(e,t,i,r=/^!/.test(i)){const s=wt(e,i=i.replace(/^!/,"")),a=wt(t,i);return(r?-1:1)*(s>a?1:s<a?-1:0)}function kt(e=[],t){return t&&this.save(),this.data.sort("function"==typeof e?e:function(...e){return(t,i)=>{const r=e.slice();let s=0;for(;!s&&r.length;)s=Tt(t,i,r.shift());return s}}(...e,"label")),this}const St=new Xe;function It(e,t){!function(e,t){if("string"!=typeof e)throw new TypeError("Invalid output format name, expected string, got "+typeof e);if("function"!=typeof t)throw new TypeError("Invalid formatter, expected function, got "+typeof t)}(e,t),St.set(e,t)}function Nt(e){St.remove(e)}function Ct(e){return St.has(e)}function Dt(){return St.list()}function Rt(e,t,...i){if(!St.has(e))throw new Error(`Output format "${e}" unavailable`);return St.get(e)(t,...i)}function jt(){return this.data.map((e=>e.id))}function Lt(e,...t){return Rt(e,ve(this.data),...t)}function Pt(e={}){D(e);const t=Object.assign({},this.defaultOptions,this._options.output,e),{type:i,style:r}=t,[s,a]=r.split("-"),n="citation"===s?"bibliography":"csl"===s?"data":s,o="string"===i?"text":"json"===i?"object":i;let l;switch(n){case"bibliography":{const{lang:e,append:i,prepend:r}=t;l={template:a,lang:e,format:o,append:i,prepend:r};break}case"data":case"bibtex":case"bibtxt":case"ndjson":case"ris":l={type:o};break;default:throw new Error(`Invalid style "${n}"`)}const m=this.format(n,Object.assign(l,e._newOptions)),{format:u}=t;if("real"===u&&"html"===o&&"undefined"!=typeof document&&"function"==typeof document.createElement){const e=document.createElement("div");return e.innerHTML=m,e.firstChild}return"string"===u&&"object"==typeof m?JSON.stringify(m):m}const Ft=function(e,t,i){"function"!=typeof t||i||(i=t,t=void 0);const r=(new this).setAsync(e,t);return"function"==typeof i?void r.then(i):r};function Bt(e,t={}){return this instanceof Bt?(this._options=t,this.log=[],this.data=[],this.set(e,t),this.options(t),this):new Bt(e,t)}Object.assign(Bt.prototype,r,s,p,c,f),Bt.prototype[Symbol.iterator]=function*(){yield*this.data},Object.assign(Bt,d);const zt=Bt;const Ut=new Xe({html:{bibliographyContainer:['<div class="csl-bib-body">',"</div>"],entry:['<div class="csl-entry">',"</div>"],list:['<ul style="list-style-type:none">',"</ul>"],listItem:["<li>","</li>"]},text:{bibliographyContainer:["","\n"],entry:["","\n"],list:["\n",""],listItem:["\t","\n"]}});function Mt(e,t){!function(e,t){if("string"!=typeof e)throw new TypeError("Invalid dict name, expected string, got "+typeof e);if("object"!=typeof t)throw new TypeError("Invalid dict, expected object, got "+typeof t);for(const e in t){const i=t[e];if(!Array.isArray(i)||i.some((e=>"string"!=typeof e)))throw new TypeError(`Invalid dict entry "${e}", expected array of strings`)}}(e,t),Ut.set(e,t)}function qt(e){Ut.remove(e)}function Gt(e){return Ut.has(e)}function $t(){return Ut.list()}function Xt(e){if(!Ut.has(e))throw new Error(`Dict "${e}" unavailable`);return Ut.get(e)}const Vt={wr_start:'<div class="csl-bib-body">',wr_end:"</div>",en_start:'<div class="csl-entry">',en_end:"</div>",ul_start:'<ul style="list-style-type:none">',ul_end:"</ul>",li_start:"<li>",li_end:"</li>"},Ht={wr_start:"",wr_end:"\n",en_start:"",en_end:"\n",ul_start:"\n",ul_end:"",li_start:"\t",li_end:"\n"},Jt={};function Wt(e,t){Jt[e]=t}function Kt(e){return Jt[e]}function Qt(e){return Object.prototype.hasOwnProperty.call(Jt,e)}function Yt(e){delete Jt[e]}function Zt(){return Object.keys(Jt)}const ei={input:u,output:h,dict:g,config:b},ti={};function ii(e,t={}){const i=ti[e]={};for(const r in t){if("config"===r){i.config={[e]:t.config},ei.config.add(e,t.config);continue}const s=i[r]={},a=t[r];for(const e in a){const t=a[e];s[e]=!0,ei[r].add(e,t)}}}function ri(e){const t=ti[e];for(const e in t){const i=t[e];for(const t in i)ei[e].remove(t)}delete ti[e]}function si(e){return e in ti}function ai(){return Object.keys(ti)}function ni(){return[]}const oi=[[/((?:\[|:|,)\s*)'((?:\\'|[^'])*?[^\\])?'(?=\s*(?:\]|}|,))/g,'$1"$2"'],[/((?:(?:"|]|}|\/[gmiuys]|\.|(?:\d|\.|-)*\d)\s*,|{)\s*)(?:"([^":\n]+?)"|'([^":\n]+?)'|([^":\n]+?))(\s*):/g,'$1"$2$3$4"$5:']];function li(e){if("string"!=typeof e)return JSON.parse(e);try{return JSON.parse(e)}catch(t){return q.debug("[plugin-common]","Invalid JSON, switching to experimental parser"),oi.forEach((([t,i])=>{e=e.replace(t,i)})),JSON.parse(e)}}function mi(e){return e.val()||e.text()||e.html()}function ui(e){return e.value||e.textContent}var pi=i(55806);function ci(e,t,i){return e+(t<i.length-1?",":"")}function hi(e,t){const i=Array.isArray(e);let r;return r=i?e.map((e=>fi(e,t))):Object.keys(e).filter((t=>JSON.stringify(e[t]))).map((i=>`"${i}": ${fi(e[i],t)}`)),r=r.map(ci).map((e=>t.listItem.join(e))),r=t.list.join(r.join("")),i?`[${r}]`:`{${r}}`}function fi(e,t){return"object"==typeof e&&null!==e?0===e.length?"[]":0===Object.keys(e).length?"{}":hi(e,t):JSON.stringify(e)}function di(e,t){let i=e.map((e=>hi(e,t)));return i=i.map(ci).map((e=>t.entry.join(e))),i=i.join(""),t.bibliographyContainer.join(`[${i}]`)}const gi={data:(e,{type:t,format:i=t||"text",version:r="1.0.2"}={})=>(r<"1.0.2"&&(e=Oe(e)),"object"===i?we(e):"text"===i?JSON.stringify(e,null,2):(q.warn("[core]","This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144"),di(e,Xt(i)))),ndjson:(e,{version:t="1.0.2"}={})=>(t<"1.0.2"&&(e=Oe(e)),e.map((e=>JSON.stringify(e))).join("\n"))};ii("@else",{input:{"@empty/text":{parse:ni,parseType:{dataType:"String",predicate:e=>""===e}},"@empty/whitespace+text":{parse:ni,parseType:{dataType:"String",predicate:/^\s+$/}},"@empty":{parse:ni,parseType:{dataType:"Primitive",predicate:e=>null==e}},"@else/json":{parse:li,parseType:{dataType:"String",predicate:/^\s*(\{[\S\s]*\}|\[[\S\s]*\])\s*$/}},"@else/url":{parseType:{dataType:"String",predicate:/^https?:\/\/(([\w-]+\.)*[\w-]+)(:\d+)?(\/[^?/]*)*(\?[^#]*)?(#.*)?$/i}},"@else/jquery":{parse:mi,parseType:{dataType:"ComplexObject",predicate:e=>void 0!==pi&&e instanceof pi}},"@else/html":{parse:ui,parseType:{dataType:"ComplexObject",predicate:e=>"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}}},output:Object.assign({},gi,At)})},74397:(e,t,i)=>{Object.defineProperty(t,"WU",{enumerable:!0,get:function(){return s.default}});var r=a(i(56284)),s=a(i(42412));function a(e){return e&&e.__esModule?e:{default:e}}},56284:(e,t)=>{function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==i)return;var r,s,a=[],n=!0,o=!1;try{for(i=i.call(e);!(n=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(e){o=!0,s=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw s}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const s={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},a=/ (?:to|[-/]) | ?(?:--|[–—]) ?/,n=/^(\d{4}-\d{2}-\d{2})\/(\d{4}-\d{2}-\d{2})$/;function o(e){return s[e.toLowerCase().slice(0,3)]}const l=function(e){const t=/^(\d{4}|[-+]\d{6,})-(\d{2})(?:-(\d{2}))?/;if("string"!=typeof e||!t.test(e))return null;const r=i(e.match(t),4),s=r[1],a=r[2],n=r[3];return+a?+n?[s,a,n]:[s,a]:[s]},m=function(e){const t=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if("string"!=typeof e||!t.test(e))return null;let r=i(e.match(t),4),s=r[1],a=r[2],n=r[3];return a=o(a),a?[n,a,s]:null};function u(e){const t=function(e){const t=new Date(e);return"number"!=typeof e||isNaN(t.valueOf())?null:[t.getFullYear(),t.getMonth()+1,t.getDate()]}(e)||l(e)||m(e)||function(e){const t=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if("string"!=typeof e||!t.test(e))return null;const r=i(e.match(t),4),s=r[1],a=r[2],n=r[3];return new Date(n,s,a).getMonth()===parseInt(s)?[n,s,a]:null}(e)||function(e){const t=/^(\d{1,2})[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](-?\d+)/i,r=/^(-?\d+)[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](\d{1,2})/i;let s,a,n;if("string"!=typeof e)return null;if(t.test(e)){var l=i(e.match(t),4);n=l[1],a=l[2],s=l[3]}else{if(!r.test(e))return null;var m=i(e.match(r),4);s=m[1],a=m[2],n=m[3]}if(o(a))a=o(a);else if(isNaN(a))return null;return[s,a,n]}(e)||function(e){const t=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if("string"==typeof e&&t.test(e)){const i=e.match(t).slice(1,3);let r;if(o(i[1]))r=o(i.pop());else if(o(i[0]))r=o(i.shift());else{if(i.some(isNaN)||i.every((e=>+e<0)))return null;r=+i[0]<0||+i[0]>+i[1]&&+i[1]>0?i.pop():i.shift()}return[i.pop(),r]}return null}(e)||function(e){if("string"!=typeof e)return null;const t=e.match(/^(\d+) ?(a\.?d\.?|b\.?c\.?)$/i);if(t){const e=i(t.slice(1),2);return[e[0]*("a"===e[1].toLowerCase()[0]?1:-1)]}return/^-?\d+$/.test(e)?[e]:null}(e);return t&&t.map((e=>parseInt(e)))}var p=function(e,t){const i=[],r="string"==typeof e&&function(e){return n.test(e)?e.match(n).slice(1,3):e.split(a)}(e);t?i.push(e,t):r&&2===r.length?i.push(...r):i.push(e);const s=i.map(u);return s.filter(Boolean).length===i.length?{"date-parts":s}:{raw:t?i.join("/"):e}};t.default=p},42412:(e,t)=>{function i(e,t,i){if(e.length>=t)return e;for(;e.length<t;)e=i+e;return e.slice(-t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t="-"){if(!e["date-parts"])return e.raw;const r=e["date-parts"][0].map((e=>e.toString()));switch(r.length){case 3:r[2]=i(r[2],2,"0");case 2:r[1]=i(r[1],2,"0");case 1:r[0]=i(r[0],4,"0")}return r.join(t)};t.default=r},53106:(e,t,i)=>{Object.defineProperty(t,"Qc",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"WU",{enumerable:!0,get:function(){return s.default}});var r=a(i(25002)),s=a(i(99874));function a(e){return e&&e.__esModule?e:{default:e}}},25002:(e,t)=>{function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],r=!0,s=!1,a=void 0;try{for(var n,o=e[Symbol.iterator]();!(r=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);r=!0);}catch(e){s=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(s)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.parse=t.types=t.scope=void 0;const r=e=>e.replace(/$|( )|(?!^)(?=[A-Z])/g,"\\.?$1"),s=e=>`(?:${e.join("|")})\\b`,a=(e,t)=>new RegExp(`(?:^| )(${e}$)`,t),n=s(["mr","mrs","ms","miss","dr","herr","monsieur","hr","frau","a v m","admiraal","admiral","air cdre","air commodore","air marshal","air vice marshal","alderman","alhaji","ambassador","baron","barones","brig","brig gen","brig general","brigadier","brigadier general","brother","canon","capt","captain","cardinal","cdr","chief","cik","cmdr","coach","col","col dr","colonel","commandant","commander","commissioner","commodore","comte","comtessa","congressman","conseiller","consul","conte","contessa","corporal","councillor","count","countess","crown prince","crown princess","dame","datin","dato","datuk","datuk seri","deacon","deaconess","dean","dhr","dipl ing","doctor","dott","dott sa","dr","dr ing","dra","drs","embajador","embajadora","en","encik","eng","eur ing","exma sra","exmo sr","f o","father","first lieutient","first officer","flt lieut","flying officer","fr","frau","fraulein","fru","gen","generaal","general","governor","graaf","gravin","group captain","grp capt","h e dr","h h","h m","h r h","hajah","haji","hajim","her highness","her majesty","herr","high chief","his highness","his holiness","his majesty","hon","hr","hra","ing","ir","jonkheer","judge","justice","khun ying","kolonel","lady","lcda","lic","lieut","lieut cdr","lieut col","lieut gen","lord","m","m l","m r","madame","mademoiselle","maj gen","major","master","mevrouw","miss","mlle","mme","monsieur","monsignor","mr","mrs","ms","mstr","nti","pastor","president","prince","princess","princesse","prinses","prof","prof dr","prof sir","professor","puan","puan sri","rabbi","rear admiral","rev","rev canon","rev dr","rev mother","reverend","rva","senator","sergeant","sheikh","sheikha","sig","sig na","sig ra","sir","sister","sqn ldr","sr","sr d","sra","srta","sultan","tan sri","tan sri dato","tengku","teuku","than puying","the hon dr","the hon justice","the hon miss","the hon mr","the hon mrs","the hon ms","the hon sir","the very rev","toh puan","tun","vice admiral","viscount","viscountess","wg cdr"].map(r)),o=s(["I","II","III","IV","V","Senior","Junior","Jr","Sr","PhD","Ph\\.D","APR","RPh","PE","MD","MA","DMD","CME","BVM","CFRE","CLU","CPA","CSC","CSJ","DC","DD","DDS","DO","DVM","EdD","Esq","JD","LLD","OD","OSB","PC","Ret","RGS","RN","RNC","SHCJ","SJ","SNJM","SSMO","USA","USAF","USAFR","USAR","USCG","USMC","USMCR","USN","USNR"].map(r)),l=s(["Vere","Von","Van","De","Del","Della","Di","Da","Pietro","Vanden","Du","St.","St","La","Lo","Ter","O","O'","Mac","Fitz"]),m=new RegExp(`^((?:${n} )*)(.*)$`,"i"),u=a(`(?:${o}, )*(?:${o})`,"i"),p=a(`${/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89])/.source}.*`),c=a(`(?:${/(?:[a-z\xAA\xB5\xBA\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02B8\u02C0\u02C1\u02E0-\u02E4\u0345\u0371\u0373\u0377\u037A-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1DBF\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u2071\u207F\u2090-\u209C\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2170-\u217F\u2184\u24D0-\u24E9\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7D\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B-\uA69D\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7F8-\uA7FA\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.source}.*|${l}.*|\\S*)`);t.default=t.parse=function(e=""){"string"!=typeof e&&(e+="");let t="",r="",s="";if(/[^.], /.test(e)){const i=e.split(", ");s=i.shift();const a=RegExp(o).exec(i.join(", "));t=i.splice(a&&0!==a.index?0:-1,1)[0],r=i.join(", ")}else{const i=e.split(u,2),a=i.shift().split(c,2);t=a[0],s=a[1],r=i.pop()}const a=i(t.match(m),3),n=a[1],l=a[2],h=r,f=i(s.split(p,2).reverse(),2),d=f[0],g=f[1];if(!l&&d)return d.includes(" ")?{literal:d}:{family:d};if(d){const e={"dropping-particle":n,given:l,suffix:h,"non-dropping-particle":g,family:d};return Object.keys(e).forEach((t=>{e[t]||delete e[t]})),e}return{literal:e}};t.scope="@name";t.types="@name"},99874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=["dropping-particle","given"],r=["suffix"],s=["non-dropping-particle","family"];var a=function(e,t=!1){const a=t=>t.map((t=>e[t]||"")).filter(Boolean).join(" ");if(e.literal)return e.literal;if(t){const e=a(r)?`, ${a(r)}`:"",t=a(i)?`, ${a(i)}`:"";return a(s)+e+t}return`${a([...i,...r,...s])}`};t.default=a},35978:(e,t,i)=>{var r={};i.r(r),i.d(r,{argumentCommands:()=>v,commands:()=>h,defaultStrings:()=>f,diacritics:()=>c,fieldTypes:()=>p,formatting:()=>b,formattingCommands:()=>g,formattingEnvs:()=>d,ligaturePattern:()=>y,ligatures:()=>_,mathScriptFormatting:()=>x,mathScripts:()=>E,required:()=>u,sentenceCaseLanguages:()=>O});var s=i(61820),a=i(39271),n=i.n(a);const o=JSON.parse('{"biblatex":{"article":["author","title","journaltitle",["year","date"]],"book":["author","title",["year","date"]],"mvbook":["author","title",["year","date"]],"inbook":["author","title","booktitle",["year","date"]],"booklet":[["author","editor"],"title",["year","date"]],"collection":["editor","title",["year","date"]],"mvcollection":["editor","title",["year","date"]],"incollection":["author","title","booktitle",["year","date"]],"dataset":[["author","editor"],"title",["year","date"]],"online":[["author","editor"],"title",["year","date"],["doi","eprint","url"]],"patent":["author","title","number",["year","date"]],"periodical":["editor","title",["year","date"]],"proceedings":["title",["year","date"]],"mvproceedings":["title",["year","date"]],"inproceedings":["author","title","booktitle",["year","date"]],"report":["author","title","type","institution",["year","date"]],"thesis":["author","title","type","institution",["year","date"]],"unpublished":["author","title",["year","date"]],"conference":["author","title","booktitle",["year","date"]],"electronic":[["author","editor"],"title",["year","date"],["doi","eprint","url"]],"mastersthesis":["author","title","institution",["year","date"]],"phdthesis":["author","title","institution",["year","date"]],"techreport":["author","title","institution",["year","date"]],"www":[["author","editor"],"title",["year","date"],["doi","eprint","url"]]},"bibtex":{"article":["author","title","journal","year"],"book":[["author","editor"],"title","publisher","year"],"booklet":["title"],"inbook":[["author","editor"],"title",["chapter","pages"],"publisher","year"],"incollection":["author","title","booktitle","publisher","year"],"inproceedings":["author","title","booktitle","year"],"mastersthesis":["author","title","school","year"],"phdthesis":["author","title","school","year"],"proceedings":["title","year"],"techreport":["author","title","institution","year"],"unpublished":["author","title","note"]}}'),l=JSON.parse('{"abstract":["field","literal"],"addendum":["field","literal"],"afterword":["list","name"],"annotation":["field","literal"],"annotator":["list","name"],"author":["list","name"],"authortype":["field","key"],"bookauthor":["list","name"],"bookpagination":["field","key"],"booksubtitle":["field","literal"],"booktitle":["field","title"],"booktitleaddon":["field","literal"],"chapter":["field","literal"],"commentator":["list","name"],"date":["field","date"],"doi":["field","verbatim"],"edition":["field","literal"],"editor":["list","name"],"editora":["list","name"],"editorb":["list","name"],"editorc":["list","name"],"editortype":["field","key"],"editoratype":["field","key"],"editorbtype":["field","key"],"editorctype":["field","key"],"eid":["field","literal"],"entrysubtype":["field","literal"],"eprint":["field","verbatim"],"eprintclass":["field","literal"],"eprinttype":["field","literal"],"eventdate":["field","date"],"eventtitle":["field","title"],"eventtitleaddon":["field","literal"],"file":["field","verbatim"],"foreword":["list","name"],"holder":["list","name"],"howpublished":["field","literal"],"indextitle":["field","literal"],"institution":["list","literal"],"introduction":["list","name"],"isan":["field","literal"],"isbn":["field","literal"],"ismn":["field","literal"],"isrn":["field","literal"],"issn":["field","literal"],"issue":["field","literal"],"issuesubtitle":["field","literal"],"issuetitle":["field","literal"],"iswc":["field","literal"],"journalsubtitle":["field","literal"],"journaltitle":["field","literal"],"label":["field","literal"],"language":["list","key"],"library":["field","literal"],"location":["list","literal"],"mainsubtitle":["field","literal"],"maintitle":["field","title"],"maintitleaddon":["field","literal"],"month":["field","literal"],"nameaddon":["field","literal"],"note":["field","literal"],"number":["field","literal"],"organization":["list","literal"],"origdate":["field","date"],"origlanguage":["list","key"],"origlocation":["list","literal"],"origpublisher":["list","literal"],"origtitle":["field","title"],"pages":["field","range"],"pagetotal":["field","literal"],"pagination":["field","key"],"part":["field","literal"],"publisher":["list","literal"],"pubstate":["field","key"],"reprinttitle":["field","literal"],"series":["field","title"],"shortauthor":["list","name"],"shorteditor":["list","name"],"shorthand":["field","literal"],"shorthandintro":["field","literal"],"shortjournal":["field","literal"],"shortseries":["field","literal"],"shorttitle":["field","title"],"subtitle":["field","literal"],"title":["field","title"],"titleaddon":["field","literal"],"translator":["list","name"],"type":["field","title"],"url":["field","uri"],"urldate":["field","date"],"venue":["field","literal"],"version":["field","literal"],"volume":["field","integer"],"volumes":["field","integer"],"year":["field","literal"],"crossref":["field","entry key"],"entryset":["separated","literal"],"execute":["field","code"],"gender":["field","gender"],"langid":["field","identifier"],"langidopts":["field","literal"],"ids":["separated","entry key"],"indexsorttitle":["field","literal"],"keywords":["separated","literal"],"options":["separated","options"],"presort":["field","string"],"related":["separated","literal"],"relatedoptions":["separated","literal"],"relatedtype":["field","identifier"],"relatedstring":["field","literal"],"sortkey":["field","literal"],"sortname":["list","name"],"sortshorthand":["field","literal"],"sorttitle":["field","literal"],"sortyear":["field","integer"],"xdata":["separated","entry key"],"xref":["field","entry key"],"namea":["list","name"],"nameb":["list","name"],"namec":["list","name"],"nameatype":["field","key"],"namebtype":["field","key"],"namectype":["field","key"],"lista":["list","literal"],"listb":["list","literal"],"listc":["list","literal"],"listd":["list","literal"],"liste":["list","literal"],"listf":["list","literal"],"usera":["field","literal"],"userb":["field","literal"],"userc":["field","literal"],"userd":["field","literal"],"usere":["field","literal"],"userf":["field","literal"],"verba":["field","literal"],"verbb":["field","literal"],"verbc":["field","literal"],"address":["list","literal"],"annote":["field","literal"],"archiveprefix":["field","literal"],"journal":["field","literal"],"key":["field","literal"],"pdf":["field","verbatim"],"primaryclass":["field","literal"],"school":["list","literal"],"numpages":["field","integer"],"pmid":["field","literal"],"pmcid":["field","literal"]}'),m=JSON.parse('{"j":{"`":"̀","\'":"́","^":"̂","~":"̃","=":"̄","u":"̆",".":"̇","\\"":"̈","r":"̊","H":"̋","v":"̌","b":"̲","d":"̣","c":"̧","k":"̨","t":"͡","textcommabelow":"̦"},"C":{"textquotesingle":"\'","textasciigrave":"`","textquotedbl":"\\"","textdollar":"$","textless":"<","textgreater":">","textbackslash":"\\\\","textasciicircum":"^","textunderscore":"_","textbraceleft":"{","textbar":"|","textbraceright":"}","textasciitilde":"~","textexclamdown":"¡","textcent":"¢","textsterling":"£","textcurrency":"¤","textyen":"¥","textbrokenbar":"¦","textsection":"§","textasciidieresis":"¨","textcopyright":"©","textordfeminine":"ª","guillemetleft":"«","guillemotleft":"«","textlnot":"¬","textregistered":"®","textasciimacron":"¯","textdegree":"°","textpm":"±","texttwosuperior":"²","textthreesuperior":"³","textasciiacute":"´","textmu":"µ","textparagraph":"¶","textperiodcentered":"·","textonesuperior":"¹","textordmasculine":"º","guillemetright":"»","guillemotright":"»","textonequarter":"¼","textonehalf":"½","textthreequarters":"¾","textquestiondown":"¿","AE":"Æ","DH":"Ð","texttimes":"×","O":"Ø","TH":"Þ","ss":"ß","ae":"æ","dh":"ð","textdiv":"÷","o":"ø","th":"þ","DJ":"Đ","dj":"đ","i":"ı","IJ":"Ĳ","ij":"ĳ","L":"Ł","l":"ł","NG":"Ŋ","ng":"ŋ","OE":"Œ","oe":"œ","textflorin":"ƒ","j":"ȷ","textasciicaron":"ˇ","textasciibreve":"˘","textacutedbl":"˝","textgravedbl":"˵","texttildelow":"˷","textbaht":"฿","SS":"ẞ","textcompwordmark":"‌","textendash":"–","textemdash":"—","textbardbl":"‖","textquoteleft":"‘","textquoteright":"’","quotesinglbase":"‚","textquotedblleft":"“","textquotedblright":"”","quotedblbase":"„","textdagger":"†","textdaggerdbl":"‡","textbullet":"•","textellipsis":"…","textperthousand":"‰","textpertenthousand":"‱","guilsinglleft":"‹","guilsinglright":"›","textreferencemark":"※","textinterrobang":"‽","textfractionsolidus":"⁄","textlquill":"⁅","textrquill":"⁆","textdiscount":"⁒","textcolonmonetary":"₡","textlira":"₤","textnaira":"₦","textwon":"₩","textdong":"₫","texteuro":"€","textpeso":"₱","textcelsius":"℃","textnumero":"№","textcircledP":"℗","textrecipe":"℞","textservicemark":"℠","texttrademark":"™","textohm":"Ω","textmho":"℧","textestimated":"℮","textleftarrow":"←","textuparrow":"↑","textrightarrow":"→","textdownarrow":"↓","textminus":"−","Hwithstroke":"Ħ","hwithstroke":"ħ","textasteriskcentered":"∗","textsurd":"√","textlangle":"〈","textrangle":"〉","textblank":"␢","textvisiblespace":"␣","textopenbullet":"◦","textbigcircle":"◯","textmusicalnote":"♪","textmarried":"⚭","textdivorced":"⚮","textinterrobangdown":"⸘","textcommabelow":null,"copyright":"©","Gamma":"Γ","Delta":"Δ","Theta":"Θ","Lambda":"Λ","Xi":"Ξ","Pi":"Π","Sigma":"Σ","Phi":"Φ","Psi":"Ψ","Omega":"Ω","alpha":"α","beta":"β","gamma":"γ","delta":"δ","varepsilon":"ε","zeta":"ζ","eta":"η","theta":"θ","iota":"ι","kappa":"κ","lambda":"λ","mu":"μ","nu":"ν","xi":"ξ","pi":"π","rho":"ρ","varsigma":"ς","sigma":"σ","tau":"τ","upsilon":"υ","varphi":"φ","chi":"χ","psi":"ψ","omega":"ω","vartheta":"ϑ","Upsilon":"ϒ","phi":"ϕ","varpi":"ϖ","varrho":"ϱ","epsilon":"ϵ"}}'),u=o,p=l,c=m.j,h=m.C,f={jan:"01",feb:"02",mar:"03",apr:"04",may:"05",jun:"06",jul:"07",aug:"08",sep:"09",oct:"10",nov:"11",dec:"12",acmcs:"ACM Computing Surveys",acta:"Acta Informatica",cacm:"Communications of the ACM",ibmjrd:"IBM Journal of Research and Development",ibmsj:"IBM Systems Journal",ieeese:"IEEE Transactions on Software Engineering",ieeetc:"IEEE Transactions on Computers",ieeetcad:"IEEE Transactions on Computer-Aided Design of Integrated Circuits",ipl:"Information Processing Letters",jacm:"Journal of the ACM",jcss:"Journal of Computer and System Sciences",scp:"Science of Computer Programming",sicomp:"SIAM Journal on Computing",tocs:"ACM Transactions on Computer Systems",tods:"ACM Transactions on Database Systems",tog:"ACM Transactions on Graphics",toms:"ACM Transactions on Mathematical Software",toois:"ACM Transactions on Office Information Systems",toplas:"ACM Transactions on Programming Languages and Systems",tcs:"Theoretical Computer Science"},d={it:"italics",itshape:"italics",sl:"italics",slshape:"italics",em:"italics",bf:"bold",bfseries:"bold",sc:"smallcaps",scshape:"smallcaps",rm:void 0,sf:void 0,tt:void 0},g={textit:"italics",textsl:"italics",emph:"italics",mkbibitalic:"italics",mkbibemph:"italics",textbf:"bold",strong:"bold",mkbibbold:"bold",textsc:"smallcaps",textsuperscript:"superscript",textsubscript:"subscript",enquote:"quotes",mkbibquote:"quotes",textmd:void 0,textrm:void 0,textsf:void 0,texttt:void 0,textup:void 0},b={italics:["<i>","</i>"],bold:["<b>","</b>"],superscript:["<sup>","</sup>"],subscript:["<sub>","</sub>"],smallcaps:['<span style="font-variant:small-caps;">',"</span>"],nocase:['<span class="nocase">',"</span>"],quotes:["“","”"]},v={ElsevierGlyph:e=>String.fromCharCode(parseInt(e,16)),href:(e,t)=>e,url:e=>e},y=/---?|''|``|~/g,_={"--":"–","---":"—","``":"“","''":"”","~":" "},x={"^":"superscript",sp:"superscript",_:"subscript",sb:"subscript",mathrm:void 0},E={"^":{0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","+":"⁺","-":"⁻","=":"⁼","(":"⁽",")":"⁾",i:"ⁱ",n:"ⁿ"},_:{0:"₀",1:"₁",2:"₂",3:"₃",4:"₄",5:"₅",6:"₆",7:"₇",8:"₈",9:"₉","+":"₊","-":"₋","=":"₌","(":"₍",")":"₎",a:"ₐ",e:"ₑ",o:"ₒ",x:"ₓ",ə:"ₔ",h:"ₕ",k:"ₖ",l:"ₗ",m:"ₘ",n:"ₙ",s:"ₚ",p:"ₛ",t:"ₜ"}},O=["american","british","canadian","english","australian","newzealand","usenglish","ukenglish","en","eng","en-au","en-bz","en-ca","en-cb","en-gb","en-ie","en-jm","en-nz","en-ph","en-tt","en-us","en-za","en-zw","anglais"];function A(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?A(Object(i),!0).forEach((function(t){T(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):A(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function T(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const k=/[a-zA-Z_][a-zA-Z0-9_:-]*/,S={comment:/%.*/,whitespace:{match:/\s+/,lineBreaks:!0}},I=n().states({main:{junk:{match:/@[cC][oO][mM][mM][eE][nN][tT].+|[^@]+/,lineBreaks:!0},at:{match:"@",push:"entry"}},entry:w(w({},S),{},{otherEntryType:{match:/[sS][tT][rR][iI][nN][gG]|[pP][rR][eE][aA][mM][bB][lL][eE]/,next:"otherEntryContents"},dataEntryType:{match:k,next:"dataEntryContents"}}),otherEntryContents:w(w({},S),{},{lbrace:{match:/[{(]/,next:"fields"}}),dataEntryContents:w(w({},S),{},{lbrace:{match:/[{(]/,next:"dataEntryContents"},label:/[^,\s]+/,comma:{match:",",next:"fields"}}),fields:w(w({},S),{},{identifier:k,number:/-?\d+/,hash:"#",equals:"=",comma:",",quote:{match:'"',push:"quotedLiteral"},lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:/[})]/,pop:!0}}),quotedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},quote:{match:'"',pop:!0},text:{match:/(?:\\[\\{]|[^{"])+/,lineBreaks:!0}},bracedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:"}",pop:!0},text:{match:/(?:\\[\\{}]|[^{}])+/,lineBreaks:!0}}}),N={"(":")","{":"}"},C=new s.D5.Grammar({Main(){const e=[];for(;;){for(;this.matchToken("junk");)this.consumeToken("junk");if(this.matchEndOfFile())break;e.push(this.consumeRule("Entry"))}return e.filter(Boolean)},_(){let e;for(;e!==this.token;)e=this.token,this.consumeToken("whitespace",!0),this.consumeToken("comment",!0)},Entry(){this.consumeToken("at"),this.consumeRule("_");const e=(this.matchToken("otherEntryType")?this.consumeToken("otherEntryType"):this.consumeToken("dataEntryType")).value.toLowerCase();this.consumeRule("_");const t=this.consumeToken("lbrace").value;let i;if(this.consumeRule("_"),"string"===e){const[e,t]=this.consumeRule("Field");this.state.strings[e]=t}else if("preamble"===e)this.consumeRule("Expression");else{const t=this.consumeToken("label").value;this.consumeRule("_"),this.consumeToken("comma"),this.consumeRule("_");i={type:e,label:t,properties:this.consumeRule("EntryBody")}}this.consumeRule("_");const r=this.consumeToken("rbrace").value;return r!==N[t]&&s.kg.warn("[plugin-bibtex]",`entry started with "${t}", but ends with "${r}"`),i},EntryBody(){const e={};for(;this.matchToken("identifier");){const[t,i]=this.consumeRule("Field");if(e[t]=i,this.consumeRule("_"),!this.consumeToken("comma",!0))break;this.consumeRule("_")}return e},Field(){const e=this.consumeToken("identifier").value.toLowerCase();this.consumeRule("_"),this.consumeToken("equals"),this.consumeRule("_");return[e,this.consumeRule("Expression")]},Expression(){let e=this.consumeRule("ExpressionPart");for(this.consumeRule("_");this.matchToken("hash");)this.consumeToken("hash"),this.consumeRule("_"),e+=this.consumeRule("ExpressionPart").toString(),this.consumeRule("_");return e},ExpressionPart(){return this.matchToken("identifier")?this.state.strings[this.consumeToken("identifier").value.toLowerCase()]||"":this.matchToken("number")?parseInt(this.consumeToken("number")):this.matchToken("quote")?this.consumeRule("QuoteString"):this.consumeRule("BracketString")},QuoteString(){let e="";for(this.consumeToken("quote");!this.matchToken("quote");)e+=this.consumeRule("Text");return this.consumeToken("quote"),e},BracketString(){let e="";for(this.consumeToken("lbrace");!this.matchToken("rbrace");)e+=this.consumeRule("Text");return this.consumeToken("rbrace"),e},Text(){return this.matchToken("lbrace")?`{${this.consumeRule("BracketString")}}`:this.consumeToken("text").value}},{strings:f});function D(e){return C.parse(I.reset(e))}const R=/\n\s*(?=\[)/g,j=/^\[(.+?)\]\s*(?:\n([\s\S]+))?$/,L=/((?=.)\s)*\n\s*/g,P=/:(.*)/,F=e=>{const[,t,i]=e.match(j)||[];if(t&&i){const e={type:"book",label:t,properties:{}};return i.trim().split(L).filter((e=>e)).forEach((t=>{let[i,r]=t.split(P);r&&(i=i.trim(),r=r.trim(),"type"===i?e.type=r:e.properties[i]=r)})),e}return{}},B=JSON.parse('{"source":{"article":"article-journal","book":"book","mvbook":"book","inbook":"chapter","bookinbook":"book","booklet":"book","collection":"book","mvcollection":"book","incollection":"chapter","dataset":"dataset","manual":"report","misc":"document","online":"webpage","patent":"patent","periodical":"periodical","proceedings":"book","mvproceedings":"book","inproceedings":"paper-conference","reference":"book","mvreference":"book","inreference":"entry","report":"report","software":"software","thesis":"thesis","unpublished":"manuscript","artwork":"graphic","audio":"song","image":"figure","jurisdiction":"legal_case","legislation":"legislation","legal":"treaty","letter":"personal_communication","movie":"motion_picture","music":"musical_score","performance":"performance","review":"review","standard":"standard","video":"motion_picture","conference":"paper-conference","electronic":"webpage","mastersthesis":"thesis","phdthesis":"thesis","techreport":"report","www":"webpage"},"target":{"article":"article","article-journal":"article","article-magazine":"article","article-newspaper":"article","bill":"legislation","book":"book","broadcast":"audio","chapter":"inbook","classic":"unpublished","collection":"misc","dataset":"dataset","document":"misc","entry":"inreference","entry-dictionary":"inreference","entry-encyclopedia":"inreference","event":"misc","figure":"artwork","graphic":"artwork","hearing":"legal","interview":"audio","legal_case":"jurisdiction","legislation":"legislation","manuscript":"unpublished","motion_picture":"movie","musical_score":"music","paper-conference":"inproceedings","patent":"patent","performance":"performance","periodical":"periodical","personal_communication":"letter","post":"online","post-weblog":"online","regulation":"legal","report":"report","review":"review","review-book":"review","software":"software","song":"music","speech":"audio","standard":"standard","thesis":"thesis","treaty":"legal","webpage":"online"}}'),z=JSON.parse('{"source":{"article":"article-journal","book":"book","booklet":"book","conference":"paper-conference","inbook":"chapter","incollection":"chapter","inproceedings":"paper-conference","manual":"report","mastersthesis":"thesis","misc":"document","phdthesis":"thesis","proceedings":"book","techreport":"report","unpublished":"manuscript"},"target":{"article":"article","article-journal":"article","article-magazine":"article","article-newspaper":"article","book":"book","chapter":"inbook","manuscript":"unpublished","paper-conference":"inproceedings","report":"techreport","review":"article","review-book":"article"}}'),U={constants:r,types:{biblatex:B,bibtex:z},parse:{biblatex:!0,strict:!1,sentenceCase:"never"},format:{useIdAsLabel:!1}},M=new Set(["the","a","an"]),q=/(?:<\/?.*?>|[\u0020-\u002F\u003A-\u0040\u005B-\u005E\u0060\u007B-\u007F])+/g,G=/[^\u0020-\u007F]+/g;function $(e){return e?e.normalize("NFKD").replace(G,"").split(q).find((e=>e.length&&!M.has(e.toLowerCase()))):""}const X=new s.D5.Translator([{source:"given",target:"given"},{source:"family",target:"family"},{source:"suffix",target:"suffix"},{source:"prefix",target:"non-dropping-particle"},{source:"family",target:"literal",when:{source:!1,target:{family:!1,given:!1}}}]),V=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],H="BibTeX type",J="BibTeX label",W={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},K={bathesis:"Bachelor's thesis",mathesis:"Master's thesis",phdthesis:"PhD thesis",candthesis:"Candidate thesis",techreport:"technical report",resreport:"research report",software:"computer software",datacd:"data cd",audiocd:"audio cd",patent:"patent",patentde:"German patent",patenteu:"European patent",patentfr:"French patent",patentuk:"British patent",patentus:"U.S. patent",patreq:"patent request",patreqde:"German patent request",patreqeu:"European patent request",patreqfr:"French patent request",patrequk:"British patent request",patrequs:"U.S. patent request"},Q=/(^(?:ISAN )?(?:[0-9a-f]{4}-){4}[0-9a-z](?:-(?:[0-9a-f]{4}-){2}[0-9a-z])?$)|(^(?:979-?0-?|M-?)(?:\d{9}|(?=[\d-]{11}$)\d+-\d+-\d)$)|(^ISRN .{1,36}$)|(^(?:ISWC )?T-?\d{9}-?\d$)/i;function Y(e){if(null==e)return[];if(+e)return[parseInt(e,10)];if((e=e.trim().toLowerCase())in W)return[W[e]];const t=e.split(/\s+/);let i,r;return t[0]in W?(i=W[t[0]],r=parseInt(t[1])):t[1]in W&&(i=W[t[1]],r=parseInt(t[0])),r?[i,r]:i?[i]:[]}const Z={PICK:{toTarget:(...e)=>e.find(Boolean),toSource:e=>[e]},DATE:{toTarget(e){const t=e.split("/").map((e=>e&&".."!==e?function(e){const t=e.split("T")[0].replace(/[?~%]$/,"").split("-"),i=+t[0].replace(/^Y(?=-?\d{4}\d+)/,"").replace(/X/g,"0"),r=+t[1],s=+t[2];return!r||r>20?[i]:s?[i,r,s]:[i,r]}(e):void 0));return isNaN(t[0][0])?{literal:e}:{"date-parts":t}},toSource(e){if("date-parts"in e)return e["date-parts"].map((e=>e.map((e=>e.toString().padStart(2,"0"))).join("-"))).join("/")}},YEAR_MONTH:{toTarget:(e,t,i)=>isNaN(+e)?{literal:e}:isNaN(+i)||isNaN(+t)?{"date-parts":[[+e,...Y(t)]]}:{"date-parts":[[+e,+t,+i]]},toSource(e){if("date-parts"in e){const[t,i,r]=e["date-parts"][0];return[t.toString(),i?r?`${V[i-1]} ${r}`:i:void 0]}return[]}},EPRINT:{toTarget(e,t){if("pubmed"===t)return e},toSource:e=>[e,"pubmed"]},EVENT_TITLE:{toTarget:(e,t)=>(t&&(e+=" ("+t+")"),e),toSource:e=>e.match(/^(.+)(?: \((.+)\))?$/).slice(1,3)},HOW_PUBLISHED:{toTarget(e){if(e.startsWith("http"))return e}},KEYWORDS:{toTarget:e=>e.join(","),toSource:e=>e.split(",")},LABEL:{toTarget:e=>[e,e],toSource(e,t,i,r,s,a){let n;return n=null===e?"null":void 0===e?"undefined":e.toString().replace(q,""),U.format.useIdAsLabel?n:t&&!q.test(t)?t:function(e,t,i,r){let s="";return e&&e[0]&&(s+=$(e[0].family||e[0].literal)),t&&t["date-parts"]&&t["date-parts"][0]&&(s+=t["date-parts"][0][0]),i?s+=i:r&&(s+=$(r)),s}(i,r,s,a)||n}},NAMES:{toTarget:e=>e.map(X.convertToTarget),toSource:e=>e.map(X.convertToSource)},PAGES:{toTarget:e=>e.replace(/[–—]/,"-"),toSource:e=>e.replace("-","--")},STANDARD_NUMBERS:{toTarget:(...e)=>e.find(Boolean),toSource(e){const t=e.toString().match(Q);return t?t.slice(1,5):[]}},STATUS:{toSource(e){if(/^(inpreparation|submitted|forthcoming|inpress|prepublished)$/i.test(e))return e}},TITLE:{toTarget:(e,t,i)=>(t&&(e+=": "+t),e),toSource:e=>[e]}};var ee=i(74397);const te=[{source:"note",target:"accessed",when:{source:!1,target:{note:!1,addendum:!1}},convert:{toSource:e=>`[Online; accessed ${(0,ee.WU)(e)}]`}},{source:"numpages",target:"number-of-pages",when:{source:{pagetotal:!1},target:!1}},{source:"pmid",target:"PMID",when:{source:{eprinttype:e=>"pmid"!==e,archiveprefix:e=>"pmid"!==e},target:!1}},{source:"pmcid",target:"PMCID",when:{target:!1}},{source:"s2id",target:"custom",convert:{toTarget:e=>({S2ID:e}),toSource:({S2ID:e})=>e}}],ie=[{source:"annote",target:"annote",when:{source:{annotation:!1},target:!1}},{source:"address",target:"publisher-place",convert:Z.PICK,when:{source:{location:!1},target:!1}},{source:["eprint","archiveprefix"],target:"PMID",convert:Z.EPRINT,when:{source:{eprinttype:!1},target:!1}},{source:"journal",target:"container-title",when:{source:{maintitle:!1,booktitle:!1,journaltitle:!1},target:!1}},{source:"school",target:"publisher",convert:Z.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:!1}}],re=new s.D5.Translator([...ie,...te,{source:"abstract",target:"abstract"},{source:"urldate",target:"accessed",convert:Z.DATE},{source:"annotation",target:"annote"},{source:"author",target:"author",convert:Z.NAMES},{source:"library",target:"call-number"},{source:"chapter",target:"chapter-number"},{source:"bookauthor",target:"container-author",convert:Z.NAMES},{source:["maintitle","mainsubtitle","maintitleaddon"],target:"container-title",when:{source:!0,target:{"number-of-volumes":!0}},convert:Z.TITLE},{source:["booktitle","booksubtitle","booktitleaddon"],target:"container-title",when:{source:{maintitle:!1},target:{"number-of-volumes":!1,type:e=>!e||!e.startsWith("article")}},convert:Z.TITLE},{source:["journaltitle","journalsubtitle","journaltitleaddon"],target:"container-title",when:{source:{[H]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}},convert:Z.TITLE},{source:"shortjournal",target:"container-title-short",when:{source:{[H]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"shortjournal",target:"journalAbbreviation",when:{source:!1,target:{"container-title-short":!1}}},{source:"number",target:"collection-number",when:{source:{[H]:["book","mvbook","inbook","bookinbook","suppbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"shortseries",target:"collection-title-short"},{source:"doi",target:"DOI"},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:Z.NAMES},{source:[H,"entrysubtype","type"],target:["type","genre"],convert:{toTarget:(e,t,i)=>(i||("mastersthesis"===e&&(i="mathesis"),"phdthesis"===e&&(i="phdthesis"),"techreport"===e&&(i="techreport")),[B.source[e]||"document",i||t]),toSource(e,t){const i=B.target[e]||"misc";return t in K?[i,void 0,t]:[i,t]}}},{source:H,when:{target:{type:!1}},convert:{toSource:()=>"misc"}},{source:"eventdate",target:"event-date",convert:Z.DATE},{source:"venue",target:"event-place"},{source:["eventtitle","eventtitleaddon"],target:"event-title",convert:Z.EVENT_TITLE},{source:["eventtitle","eventtitleaddon"],target:"event",convert:Z.EVENT_TITLE,when:{source:!1,target:{"event-title":!1}}},{source:J,target:["id","citation-key","author","issued","year-suffix","title"],convert:Z.LABEL},{source:"isbn",target:"ISBN"},{source:"issn",target:"ISSN"},{source:"issue",target:"issue",when:{source:{number:!1,[H]:["article","periodical"]},target:{issue:e=>"string"==typeof e&&!e.match(/\d+/),type:["article","article-journal","article-newspaper","article-magazine","periodical"]}}},{source:"number",target:"issue",when:{source:{[H]:["article","periodical","inproceedings"]},target:{issue:e=>e&&("number"==typeof e||e.match(/\d+/)),type:["article","article-journal","article-newspaper","article-magazine","paper-conference","periodical"]}}},{source:"date",target:"issued",convert:Z.DATE},{source:["year","month","day"],target:"issued",convert:Z.YEAR_MONTH,when:{source:{date:!1},target:!1}},{source:"location",target:"jurisdiction",when:{source:{type:"patent"},target:{type:"patent"}}},{source:"keywords",target:"keyword",convert:Z.KEYWORDS},{source:"language",target:"language",convert:Z.PICK},{source:"langid",target:"language",when:{source:{language:!1},target:!1}},{source:"note",target:"note"},{source:"addendum",target:"note",when:{source:{note:!1},target:!1}},{source:"eid",target:"number",when:{target:{type:["article-journal"]}}},{source:["isan","ismn","isrn","iswc"],target:"number",convert:Z.STANDARD_NUMBERS,when:{source:{[H]:e=>"patent"!==e},target:{type:e=>"patent"!==e}}},{source:"number",target:"number",when:{source:{[H]:["patent","report","techreport","legislation"]},target:{type:["patent","report","legislation"]}}},{source:"origdate",target:"original-date",convert:Z.DATE},{source:"origlocation",target:"original-publisher-place",convert:Z.PICK},{source:"origpublisher",target:"original-publisher",convert:Z.PICK},{source:"origtitle",target:"original-title"},{source:"pages",target:"page",when:{source:{bookpagination:[void 0,"page"]}},convert:Z.PAGES},{source:"pagetotal",target:"number-of-pages"},{source:"part",target:"part-number"},{source:["eprint","eprinttype"],target:"PMID",convert:Z.EPRINT},{source:"location",target:"publisher-place",convert:Z.PICK},{source:"publisher",target:"publisher",convert:Z.PICK,when:{source:!0,target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","review","review-book","software","song","speech","standard","treaty"]}}},{source:"organization",target:"publisher",convert:Z.PICK,when:{source:{publisher:!1},target:{type:"webpage"}}},{source:"institution",target:"publisher",convert:Z.PICK,when:{source:{publisher:!1,organization:!1},target:{type:["report","thesis"]}}},{source:"howpublished",target:"publisher",convert:Z.PICK,when:{source:{howpublished:e=>e&&!e.startsWith("http"),publisher:!1,organization:!1,institution:!1},target:{type:"manuscript"}}},{source:["pages","bookpagination"],target:"section",when:{source:{bookpagination:"section"},target:{page:!1}},convert:{toTarget:e=>e,toSource:e=>[e,"section"]}},{source:"pubstate",target:"status",convert:Z.STATUS},{source:"shorttitle",target:"title-short"},{source:"shorttitle",target:"shortTitle",when:{source:!1,target:{"title-short":!1}}},{source:["title","subtitle","titleaddon"],target:"title",convert:Z.TITLE},{source:"translator",target:"translator",convert:Z.NAMES},{source:"url",target:"URL"},{source:"howpublished",target:"URL",convert:Z.HOW_PUBLISHED,when:{source:{url:!1},target:!1}},{source:"version",target:"version"},{source:"volume",target:"volume"},{source:"volumes",target:"number-of-volumes"},{source:["issuetitle","issuesubtitle","issuetitleaddon"],target:"volume-title",convert:Z.TITLE}]),se=new s.D5.Translator([{source:"note",target:"accessed",when:{source:!1,target:{note:!1}},convert:{toSource:e=>`[Online; accessed ${(0,ee.WU)(e)}]`}},{source:"annote",target:"annote"},{source:"address",target:"publisher-place",convert:Z.PICK},{source:"author",target:"author",convert:Z.NAMES},{source:"chapter",target:"chapter-number"},{source:"number",target:"collection-number",when:{source:{[H]:["book","mvbook","inbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"booktitle",target:"container-title",when:{target:{type:["chapter","paper-conference"]}}},{source:"journal",target:"container-title",when:{source:{[H]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:Z.NAMES},{source:J,target:["id","citation-key","author","issued","year-suffix","title"],convert:Z.LABEL},{source:"number",target:"issue",when:{source:{[H]:["article","periodical","inproceedings"]},target:{issue:e=>"number"==typeof e||"string"==typeof e&&e.match(/\d+/),type:["article","article-journal","article-newspaper","article-magazine","paper-conference","periodical"]}}},{source:["year","month","day"],target:"issued",convert:Z.YEAR_MONTH},{source:"note",target:"note"},{source:"number",target:"number",when:{source:{[H]:["patent","report","techreport"]},target:{type:["patent","report"]}}},{source:"pages",target:"page",convert:Z.PAGES},{source:"publisher",target:"publisher",convert:Z.PICK,when:{target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","map","motion_picture","musical_score","pamphlet","patent","performance","periodical","personal_communication","post","post-weblog","regulation","review","review-book","software","song","speech","standard","treaty","webpage"]}}},{source:"organization",target:"publisher",convert:Z.PICK,when:{source:{publisher:!1},target:{type:"paper-conference"}}},{source:"institution",target:"publisher",convert:Z.PICK,when:{source:{publisher:!1,organization:!1},target:{type:"report"}}},{source:"school",target:"publisher",convert:Z.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:{type:"thesis"}}},{source:"howpublished",target:"publisher",convert:Z.PICK,when:{source:{howpublished:e=>e&&!e.startsWith("http"),publisher:!1,organization:!1,institution:!1,school:!1},target:{type:"manuscript"}}},{source:"title",target:"title"},{source:[H,"type"],target:["type","genre"],convert:{toTarget(e,t){const i=z.source[e]||"document";return t?[i,t]:"mastersthesis"===e?[i,"Master's thesis"]:"phdthesis"===e?[i,"PhD thesis"]:[i]},toSource(e,t){const i=z.target[e]||"misc";return/^(master'?s|diploma) thesis$/i.test(t)?["mastersthesis"]:/^(phd|doctoral) thesis$/i.test(t)?["phdthesis"]:[i,t]}}},{source:H,when:{target:{type:!1}},convert:{toSource:()=>"misc"}},{source:"howpublished",target:"URL",convert:Z.HOW_PUBLISHED,when:{target:{publisher:!1}}},{source:"volume",target:"volume"}]);function ae(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function ne(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const oe=new Set(["book","inbook","bookinbook","suppbook"]),le=new Set(["inbook","bookinbook","suppbook"]),me=new Set(["collection","reference","incollection","inreference","suppcollection"]),ue=new Set(["incollection","inreference","suppcollection"]),pe=new Set(["proceedings","inproceedings"]),ce=new Set(["inproceedings"]),he=new Set(["article","suppperiodical"]),fe={mvbook:["main",oe],mvcollection:["main",me],mvreference:["main",me],mvproceedings:["main",pe],book:["book",le],collection:["book",ue],reference:["book",ue],proceedings:["book",ce],periodical:["journal",he]};function de(e,t,i){if(t.crossref in i){const r=i[t.crossref];if(r.properties===t)return t;const s=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(i),!0).forEach((function(t){ne(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ae(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},de(r.type,r.properties,i));if(delete s.ids,delete s.crossref,delete s.xref,delete s.entryset,delete s.entrysubtype,delete s.execute,delete s.label,delete s.options,delete s.presort,delete s.related,delete s.relatedoptions,delete s.relatedstring,delete s.relatedtype,delete s.shortand,delete s.shortandintro,delete s.sortkey,"mvbook"!==r.type&&"book"!==r.type||!le.has(e)||(s.bookauthor=s.author),r.type in fe){const[t,i]=fe[r.type];i.has(e)&&(s[t+"title"]=s.title,s[t+"subtitle"]=s.subtitle,"journal"!==t&&(s[t+"titleaddon"]=s.titleaddon),delete s.title,delete s.subtitle,delete s.titleaddon,delete s.shorttitle,delete s.sorttitle,delete s.indextitle,delete s.indexsorttitle)}return Object.assign(s,t)}return t}function ge(e,t){if(null==e)return{};var i,r,s=function(e,t){if(null==e)return{};var i,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}function be(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function ve(e,t,i){return(t=ye(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ye(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function _e(e,t){const i={};for(const t of e)i[t.label]=t;return e.map((({type:e,label:r,properties:s})=>t.convertToTarget(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?be(Object(i),!0).forEach((function(t){ve(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):be(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({[H]:e,[J]:r},de(e,s,i)))))}function xe(e,t){return e.map((e=>{const i=t.convertToSource(e),{[H]:r,[J]:s}=i;return{type:r,label:s,properties:ge(i,[H,J].map(ye))}}))}function Ee(e){const t=e.toUpperCase(),i=e.toLowerCase();for(let r=0;r<e.length;r++)if(t[r]!==i[r])return t[r]===e[r];return null}function Oe(e){if(0===e.length)return;let t="";for(;e.length>1;){const{value:i,hyphenated:r}=e.shift();t+=i+(r?"-":" ")}const i=t+e[0].value;return i[0]&&i}function Ae(e){if(e[0][0].label){const t={};for(const[{value:i,label:r}]of e)t[r]=i;return t}const t={},[i,r,s]=function(e,t=!0){const i=[],r=[];if(t)for(;e.length>1&&!1!==e[0].upperCase;){for(i.push(...r),r.length=0;e.length>1&&!1!==e[0].upperCase&&!e[0].hyphenated;)i.push(e.shift());for(;e.length>0&&!1!==e[0].upperCase&&e[0].hyphenated;)r.push(e.shift())}const s=[],a=[];for(;e.length>1;){for(s.push(...a),a.length=0;e.length>1&&!1===e[0].upperCase;)s.push(e.shift());for(;e.length>0&&!1!==e[0].upperCase;)a.push(e.shift())}return r.length&&a.unshift(...r),e.length&&a.push(e[0]),[Oe(i),Oe(s),Oe(a)]}(e[0],1===e.length);return s&&(t.family=s),r&&(t.prefix=r),3===e.length?(t.given=Oe(e[2]),t.suffix=Oe(e[1])):2===e.length?t.given=Oe(e[1]):i&&(t.given=i),t}function we(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function Te(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?we(Object(i),!0).forEach((function(t){ke(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):we(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ke(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Se={command:{match:/\\(?:[a-zA-Z]+|.) */,type:n().keywords({commandBegin:"\\begin",commandEnd:"\\end"}),value:e=>e.slice(1).trim()},lbrace:{match:"{",push:"bracedLiteral"},mathShift:{match:"$",push:"mathLiteral"},whitespace:{match:/[\s]+|~/,lineBreaks:!0,value:e=>"~"===e?" ":" "}},Ie=n().states({stringLiteral:Te(Te({},Se),{},{text:/[^{$}\s~\\]+/}),namesLiteral:Te(Te({and:/\s+[aA][nN][dD]\s+/,comma:",",hyphen:"-",equals:"="},Se),{},{text:/[^{$}\s~\\,=-]+/}),listLiteral:Te(Te({and:/\s+and\s+/},Se),{},{text:/[^{$}\s~\\]+/}),separatedLiteral:Te(Te({comma:","},Se),{},{text:/[^{$}\s~\\,]+/}),bracedLiteral:Te(Te({},Se),{},{rbrace:{match:"}",pop:!0},text:/[^{$}\s~\\]+/}),mathLiteral:Te(Te({},Se),{},{mathShift:{match:"$",pop:!0},script:/[\^_]/,text:/[^{$}\s~\\^_]+/})});function Ne(e){return e[0],e}function Ce(e,t){return t in b?e&&b[t].join(e):e}const De=new s.D5.Grammar({String(){let e="";for(;!this.matchEndOfFile();)e+=this.consumeRule("Text");return Ne(e)},StringNames(){const e=[];for(;;){if(this.consumeToken("whitespace",!0),e.push(this.consumeRule("Name")),this.consumeToken("whitespace",!0),this.matchEndOfFile())return e;this.consumeToken("and")}},Name(){const e=[];for(;;){if(e.push(this.consumeRule("NamePiece")),this.matchEndOfFile()||this.matchToken("and"))return Ae(e);this.consumeToken("comma"),this.consumeToken("whitespace",!0)}},NamePiece(){const e=[];for(;;){const t=this.consumeRule("NameToken");if(t.label)return t.label=Oe([...e,{value:t.label}]),[t];if(e.push(t),this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma"))return e;for(;this.matchToken("hyphen")||this.matchToken("whitespace");)this.consumeToken()}},NameToken(){let e=null,t="";for(;;)if(null===e&&this.matchToken("text")){const i=this.consumeToken().value;t+=i,e=Ee(i)}else{if(this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma")||this.matchToken("whitespace"))return{value:t,upperCase:e};if(this.matchToken("hyphen"))return{value:t,upperCase:e,hyphenated:!0};if(this.matchToken("equals")){this.consumeToken("equals");const e=this.consumeRule("NamePiece");return e[0].label&&(t+="="+e[0].label),{value:Oe(e),label:t}}t+=this.consumeRule("Text")}},StringList(){const e=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("and");)t+=this.consumeRule("Text");e.push(Ne(t)),this.consumeToken("and",!0)}return 1===e.length?e[0]:e},StringSeparated(){const e=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("comma");)t+=this.consumeRule("Text");e.push(t.trim()),this.consumeToken("comma",!0),this.consumeToken("whitespace",!0)}return e},StringVerbatim(){let e="";for(;!this.matchEndOfFile();)e+=this.consumeToken().text;return Ne(e)},StringUri(){const e=this.consumeRule("StringVerbatim");try{return decodeURI(e)===e?encodeURI(e):e}catch(t){return encodeURI(e)}},StringTitleCase(){this.state.sentenceCase=!0;let e="";for(;!this.matchEndOfFile();)e+=this.consumeRule("Text");return Ne(e)},BracketString(){var e;let t="";this.consumeToken("lbrace");const i=this.state.sentenceCase;for(this.state.sentenceCase=i&&this.matchToken("command"),(e=this.state).partlyLowercase&&(e.partlyLowercase=this.state.sentenceCase);!this.matchToken("rbrace");)t+=this.consumeRule("Text");const r=i&&!this.state.sentenceCase&&this.state.partlyLowercase;return this.state.sentenceCase=i,this.consumeToken("rbrace"),r?Ce(t,"nocase"):t},MathString(){let e="";for(this.consumeToken("mathShift");!this.matchToken("mathShift");)if(this.matchToken("script")){const t=this.consumeToken("script").value,i=this.consumeRule("Text").split("");if(i.every((e=>e in E[t])))e+=i.map((e=>E[t][e])).join("");else{const r=x[t];e+=b[r].join(i.join(""))}}else{if(this.matchToken("command")){const t=this.token.value;if(t in x){this.consumeToken("command");e+=Ce(this.consumeRule("BracketString"),x[t]);continue}}e+=this.consumeRule("Text")}return this.consumeToken("mathShift"),e},Text(){if(this.matchToken("lbrace"))return this.consumeRule("BracketString");if(this.matchToken("mathShift"))return this.consumeRule("MathString");if(this.matchToken("whitespace"))return this.consumeToken("whitespace").value;if(this.matchToken("commandBegin"))return this.consumeRule("EnclosedEnv");if(this.matchToken("command"))return this.consumeRule("Command");const e=this.consumeToken("text").value.replace(y,(e=>_[e])),t=this.state.afterPunctuation;var i;if(this.state.afterPunctuation=/[?!.:]$/.test(e),!this.state.sentenceCase)return(i=this.state).partlyLowercase||(i.partlyLowercase=e===e.toLowerCase()&&e!==e.toUpperCase()),e;const[r,...s]=e,a=s.join(""),n=a.toLowerCase();return a!==n?e:t?r+n:e.toLowerCase()},Command(){const e=this.consumeToken("command"),t=e.value;if(t in d){return Ce(this.consumeRule("Env"),d[t])}if(t in g){return Ce(this.consumeRule("BracketString"),g[t])}if(t in h)return h[t];if(t in c&&!this.matchEndOfFile()){const e=this.consumeRule("Text");return(e[0]+c[t]).normalize("NFC")+e.slice(1)}if(t in v){const e=v[t],i=[];let r=e.length;for(;r-- >0;)this.consumeToken("whitespace",!0),i.push(this.consumeRule("BracketString"));return e(...i)}return/^[&%$#_{}]$/.test(t)?e.text.slice(1):e.text},Env(){let e="";for(;!this.matchEndOfFile()&&!this.matchToken("rbrace");)e+=this.consumeRule("Text");return e},EnclosedEnv(){this.consumeToken("commandBegin");const e=this.consumeRule("BracketString");let t="";for(;!this.matchToken("commandEnd");)t+=this.consumeRule("Text");const i=this.consumeToken("commandEnd"),r=this.consumeRule("BracketString");if(e!==r)throw new SyntaxError(this.lexer.formatError(i,`environment started with "${e}", ended with "${r}"`));return Ce(t,d[e])}},{sentenceCase:!1,partlyLowercase:!1,afterPunctuation:!0});function Re(e){return O.includes(e.toLowerCase())}function je(e,t){if("name"===e[1])return"list"===e[0]?"StringNames":"Name";if("title"===e[1]){const e=U.parse.sentenceCase;return"always"===e||"english"===e&&function(e){return Array.isArray(e)?e.every(Re):Re(e)}(t)?"StringTitleCase":"String"}switch("field"===e[0]?e[1]:e[0]){case"list":return"StringList";case"separated":return"StringSeparated";case"verbatim":return"StringVerbatim";case"uri":return"StringUri";default:return"String"}}function Le(e){if("name"===e[1])return"namesLiteral";switch(e[0]){case"list":return"listLiteral";case"separated":return"separatedLiteral";default:return"stringLiteral"}}function Pe(e,t,i=[]){const r=p[t]||[];return De.parse(Ie.reset(e,{state:Le(r),line:0,col:0}),je(r,i))}function Fe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function Be(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(i),!0).forEach((function(t){ze(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Fe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ze(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ue(e,t){const i=[];for(const{type:r,label:s,properties:a}of e)if(r in t){const e=[];for(const i of t[r])Array.isArray(i)&&!i.some((e=>e in a))?e.push(i.join("/")):"string"!=typeof i||i in a||e.push(i);e.length&&i.push([s,`missing fields: ${e.join(", ")}`])}else i.push([s,`invalid type: "${r}"`]);if(i.length)throw new RangeError(["Invalid entries:"].concat(i.map((([e,t])=>`  - ${e} has ${t}`))).join("\n"))}function Me(e){const t={};"language"in e.properties&&(t.language=Pe(e.properties.language,"language"));for(const i in e.properties){const r=e.properties[i];""!==r&&(t[i]=Pe(r+"",i,t.language))}return Be(Be({},e),{},{properties:t})}function qe(e){return U.parse.strict&&Ue(e,u.biblatex),_e(e.map(Me),re)}function Ge(e){return U.parse.strict&&Ue(e,u.bibtex),_e(e.map(Me),se)}const $e={"@biblatex/text":{parse:D,parseType:{dataType:"String",predicate:/@\s{0,5}[A-Za-z]{1,13}\s{0,5}\{\s{0,5}[^@{}"=,\\\s]{0,100}\s{0,5},[\s\S]*\}/}},"@biblatex/entry+object":{parse:e=>qe([e]),parseType:{dataType:"SimpleObject",propertyConstraint:{props:["type","label","properties"]}}},"@biblatex/entries+list":{parse:qe,parseType:{elementConstraint:"@biblatex/entry+object"}},"@bibtex/text":{parse:D,outputs:"@bibtex/entries+list"},"@bibtex/entry+object":{parse:e=>Ge([e])},"@bibtex/entries+list":{parse:Ge},"@bibtxt/text":{parse:e=>e.trim().split(R).map(F),parseType:{dataType:"String",predicate:/^\s*(\[(?!\s*[{[]).*?\]\s*(\n\s*[^[]((?!:)\S)+\s*:\s*.+?\s*)*\s*)+$/}}},Xe={};for(const e in h)Xe[h[e]]=e;for(const e in c)Xe[c[e]]=e;for(const e in _)Xe[_[e]]=e;const Ve=/[^a-zA-Z0-9\s!"#%&'()*+,\-./:;=?@[\]{}\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]/g,He=/.[\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]+/g,Je={separated:",",list:" and "},We={i:"\\textit{",b:"\\textbf{",sc:"\\textsc{",sup:"\\textsuperscript{",sub:"\\textsubscript{",'span style="font-variant:small-caps;"':"\\textsc{",'span class="nocase"':"{"};function Ke(e){return e.normalize("NFKD").replace(Ve,(e=>e in Xe?Xe[e]in _?Xe[e]:`\\${Xe[e]}{}`:"")).replace(He,(e=>Array.from(e).reduce(((e,t)=>`{\\${Xe[t]} ${e}}`))))}function Qe(e){const t=[];let i=e.split(/<(\/?(?:i|b|sc|sup|sub|span)|span .*?)>/g);return i=i.map(((e,i)=>i%2==0?Ke(e):e in We?(t.push("/"+e.split(" ")[0]),We[e]):e===t[t.length-1]?(t.pop(),"}"):"")),i.join("")}function Ye(e,t){switch(t){case"title":return Qe(e).split(/(:\s*)/).map(((e,t)=>t%2?e:e.replace(/(?!^)\b[a-z]*[A-Z].*?\b/g,"{$&}"))).join("");case"literal":return Qe(e.toString());case"name":return function(e){if(e.family&&!e.prefix&&!e.given&!e.suffix)return e.family.includes(Je.list)?e.family:`{${e.family}}`;const t=[""];return e.prefix&&e.family&&(t[0]+=e.prefix+" "),e.family&&(t[0]+=e.family),e.suffix?(t.push(e.suffix),t.push(e.given||"")):t.push(e.given),Ke(t.join(", ").trim())}(e);case"verbatim":case"uri":return e.toString();default:return Ke(e.toString())}}function Ze(e,t){if(!(e in p))return Ye(t,"verbatim");const[i,r]=p[e];return i in Je?function(e,t,i){const r=Je[i];return e.map((e=>{const i=Ye(e,t);return i.includes(r)?`{${i}}`:i})).join(r)}(t,r,i):Ye(t,r)}function et({type:e,label:t,properties:i}){const r={};for(const e in i){const t=i[e];r[e]=Ze(e,t)}return{type:e,label:t,properties:r}}function tt(e){return(t=e,xe(t,se)).map(et);var t}function it(e,t){const i=e.map((e=>function({type:e,label:t,properties:i},r){const s=Object.entries(i).map((([e,t])=>r.listItem.join(`${e} = {${t}},`)));return r.entry.join(`@${e}{${t},${r.list.join(s.join(""))}}`)}(e,t))).join("");return t.bibliographyContainer.join(i)}const rt=function(e,t){return function(i,r={}){const{type:a,format:n=a||"text"}=r;if(i=e(i),"object"===n)return i;if(s.Gr.dict.has(n))return t(i,s.Gr.dict.get(n),r);throw new RangeError(`Output dictionary "${n}" not available`)}},st={bibtex:rt(tt,it),biblatex:rt((function(e){return(t=e,xe(t,re)).map(et);var t}),it),bibtxt:rt(tt,(function(e,t){const i=e.map((e=>function({type:e,label:t,properties:i},r){const s=Object.entries(i).concat([["type",e]]).map((([e,t])=>r.listItem.join(`${e}: ${t}`)));return r.entry.join(`[${t}]${r.list.join(s.join(""))}`)}(e,t))).join("\n");return t.bibliographyContainer.join(i)}))};s.Gr.add("@bibtex",{input:$e,output:st,config:U})},94202:(e,t,i)=>{var r=i(61820);const s=JSON.parse('{"en-US":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"en-US\\"><info><translator><name>Andrew Dunning</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Denis Meier</name></translator><translator><name>Brenton M. Wiernik</name></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"true\\"/><date form=\\"text\\"><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"day\\" suffix=\\", \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"advance-online-publication\\">advance online publication</term><term name=\\"album\\">album</term><term name=\\"audio-recording\\">audio recording</term><term name=\\"film\\">film</term><term name=\\"henceforth\\">henceforth</term><term name=\\"loc-cit\\">loc. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"no-place\\">no place</term><term name=\\"no-place\\" form=\\"short\\">n.p.</term><term name=\\"no-publisher\\">no publisher</term> \x3c!-- sine nomine --\x3e<term name=\\"no-publisher\\" form=\\"short\\">n.p.</term><term name=\\"on\\">on</term><term name=\\"op-cit\\">op. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"original-work-published\\">original work published</term><term name=\\"personal-communication\\">personal communication</term><term name=\\"podcast\\">podcast</term><term name=\\"podcast-episode\\">podcast episode</term><term name=\\"preprint\\">preprint</term><term name=\\"radio-broadcast\\">radio broadcast</term><term name=\\"radio-series\\">radio series</term><term name=\\"radio-series-episode\\">radio series episode</term><term name=\\"special-issue\\">special issue</term><term name=\\"special-section\\">special section</term><term name=\\"television-broadcast\\">television broadcast</term><term name=\\"television-series\\">television series</term><term name=\\"television-series-episode\\">television series episode</term><term name=\\"video\\">video</term><term name=\\"working-paper\\">working paper</term><term name=\\"accessed\\">accessed</term><term name=\\"and\\">and</term><term name=\\"and others\\">and others</term><term name=\\"anonymous\\">anonymous</term><term name=\\"anonymous\\" form=\\"short\\">anon.</term><term name=\\"at\\">at</term><term name=\\"available at\\">available at</term><term name=\\"by\\">by</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">c.</term><term name=\\"cited\\">cited</term><term name=\\"edition\\"><single>edition</single><multiple>editions</multiple></term><term name=\\"edition\\" form=\\"short\\">ed.</term><term name=\\"et-al\\">et al.</term><term name=\\"forthcoming\\">forthcoming</term><term name=\\"from\\">from</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">in</term><term name=\\"in press\\">in press</term><term name=\\"internet\\">internet</term><term name=\\"interview\\">interview</term><term name=\\"letter\\">letter</term><term name=\\"no date\\">no date</term><term name=\\"no date\\" form=\\"short\\">n.d.</term><term name=\\"online\\">online</term><term name=\\"presented at\\">presented at the</term><term name=\\"reference\\"><single>reference</single><multiple>references</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>ref.</single><multiple>refs.</multiple></term><term name=\\"retrieved\\">retrieved</term><term name=\\"scale\\">scale</term><term name=\\"version\\">version</term>\\n\x3c!-- LONG ITEM TYPE FORMS --\x3e<term name=\\"article\\">preprint</term><term name=\\"article-journal\\">journal article</term><term name=\\"article-magazine\\">magazine article</term><term name=\\"article-newspaper\\">newspaper article</term><term name=\\"bill\\">bill</term><term name=\\"book\\">book</term><term name=\\"broadcast\\">broadcast</term><term name=\\"chapter\\">book chapter</term><term name=\\"classic\\">classic</term><term name=\\"collection\\">collection</term><term name=\\"dataset\\">dataset</term><term name=\\"document\\">document</term><term name=\\"entry\\">entry</term><term name=\\"entry-dictionary\\">dictionary entry</term><term name=\\"entry-encyclopedia\\">encyclopedia entry</term><term name=\\"event\\">event</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\">graphic</term><term name=\\"hearing\\">hearing</term><term name=\\"interview\\">interview</term><term name=\\"legal_case\\">legal case</term><term name=\\"legislation\\">legislation</term><term name=\\"manuscript\\">manuscript</term><term name=\\"map\\">map</term><term name=\\"motion_picture\\">video recording</term><term name=\\"musical_score\\">musical score</term><term name=\\"pamphlet\\">pamphlet</term><term name=\\"paper-conference\\">conference paper</term><term name=\\"patent\\">patent</term><term name=\\"performance\\">performance</term><term name=\\"periodical\\">periodical</term><term name=\\"personal_communication\\">personal communication</term><term name=\\"post\\">post</term><term name=\\"post-weblog\\">blog post</term><term name=\\"regulation\\">regulation</term><term name=\\"report\\">report</term><term name=\\"review\\">review</term><term name=\\"review-book\\">book review</term><term name=\\"software\\">software</term><term name=\\"song\\">audio recording</term><term name=\\"speech\\">presentation</term><term name=\\"standard\\">standard</term><term name=\\"thesis\\">thesis</term><term name=\\"treaty\\">treaty</term><term name=\\"webpage\\">webpage</term>\\n\x3c!-- SHORT ITEM TYPE FORMS --\x3e<term name=\\"article-journal\\" form=\\"short\\">journal art.</term><term name=\\"article-magazine\\" form=\\"short\\">mag. art.</term><term name=\\"article-newspaper\\" form=\\"short\\">newspaper art.</term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">bk. chap.</term><term name=\\"document\\" form=\\"short\\">doc.</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\" form=\\"short\\">graph.</term><term name=\\"interview\\" form=\\"short\\">interv.</term><term name=\\"manuscript\\" form=\\"short\\">MS</term><term name=\\"motion_picture\\" form=\\"short\\">video rec.</term><term name=\\"report\\" form=\\"short\\">rep.</term><term name=\\"review\\" form=\\"short\\">rev.</term><term name=\\"review-book\\" form=\\"short\\">bk. rev.</term><term name=\\"song\\" form=\\"short\\">audio rec.</term>\\n\x3c!-- HISTORICAL ERA TERMS --\x3e<term name=\\"ad\\">AD</term><term name=\\"bc\\">BC</term><term name=\\"bce\\">BCE</term><term name=\\"ce\\">CE</term>\\n\x3c!-- PUNCTUATION --\x3e<term name=\\"open-quote\\">“</term><term name=\\"close-quote\\">”</term><term name=\\"open-inner-quote\\">‘</term><term name=\\"close-inner-quote\\">’</term><term name=\\"page-range-delimiter\\">–</term><term name=\\"colon\\">:</term><term name=\\"comma\\">,</term><term name=\\"semicolon\\">;</term>\\n\x3c!-- ORDINALS --\x3e<term name=\\"ordinal\\">th</term><term name=\\"ordinal-01\\">st</term><term name=\\"ordinal-02\\">nd</term><term name=\\"ordinal-03\\">rd</term><term name=\\"ordinal-11\\">th</term><term name=\\"ordinal-12\\">th</term><term name=\\"ordinal-13\\">th</term>\\n\x3c!-- LONG ORDINALS --\x3e<term name=\\"long-ordinal-01\\">first</term><term name=\\"long-ordinal-02\\">second</term><term name=\\"long-ordinal-03\\">third</term><term name=\\"long-ordinal-04\\">fourth</term><term name=\\"long-ordinal-05\\">fifth</term><term name=\\"long-ordinal-06\\">sixth</term><term name=\\"long-ordinal-07\\">seventh</term><term name=\\"long-ordinal-08\\">eighth</term><term name=\\"long-ordinal-09\\">ninth</term><term name=\\"long-ordinal-10\\">tenth</term>\\n\x3c!-- LONG LOCATOR FORMS --\x3e<term name=\\"act\\">\\t\\t\\t <single>act</single><multiple>acts</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"appendix\\">\\t\\t\\t <single>appendix</single><multiple>appendices</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>article</single><multiple>articles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"canon\\">\\t\\t\\t <single>canon</single><multiple>canons</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"elocation\\">\\t\\t\\t <single>location</single><multiple>locations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"equation\\">\\t\\t\\t <single>equation</single><multiple>equations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"rule\\">\\t\\t\\t <single>rule</single><multiple>rules</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>scene</single><multiple>scenes</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>table</single><multiple>tables</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>title</single><multiple>titles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"book\\"><single>book</single><multiple>books</multiple></term><term name=\\"chapter\\"><single>chapter</single><multiple>chapters</multiple></term><term name=\\"column\\"><single>column</single><multiple>columns</multiple></term><term name=\\"figure\\"><single>figure</single><multiple>figures</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folios</multiple></term><term name=\\"issue\\"><single>number</single><multiple>numbers</multiple></term><term name=\\"line\\"><single>line</single><multiple>lines</multiple></term><term name=\\"note\\"><single>note</single><multiple>notes</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opera</multiple></term><term name=\\"page\\"><single>page</single><multiple>pages</multiple></term><term name=\\"number-of-pages\\"><single>page</single><multiple>pages</multiple></term><term name=\\"paragraph\\"><single>paragraph</single><multiple>paragraphs</multiple></term><term name=\\"part\\"><single>part</single><multiple>parts</multiple></term><term name=\\"section\\"><single>section</single><multiple>sections</multiple></term><term name=\\"sub-verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>verse</single><multiple>verses</multiple></term><term name=\\"volume\\"><single>volume</single><multiple>volumes</multiple></term>\\n\x3c!-- SHORT LOCATOR FORMS --\x3e<term name=\\"appendix\\" form=\\"short\\">\\t\\t\\t <single>app.</single><multiple>apps.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\" form=\\"short\\">\\t\\t\\t <single>art.</single><multiple>arts.</multiple></term><term name=\\"elocation\\" form=\\"short\\">\\t\\t\\t <single>loc.</single><multiple>locs.</multiple></term><term name=\\"equation\\" form=\\"short\\">\\t\\t\\t <single>eq.</single><multiple>eqs.</multiple></term><term name=\\"rule\\" form=\\"short\\">\\t\\t\\t <single>r.</single><multiple>rr.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\" form=\\"short\\">\\t\\t\\t <single>sc.</single><multiple>scs.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\" form=\\"short\\">\\t\\t\\t <single>tbl.</single><multiple>tbls.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\" form=\\"short\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\" form=\\"short\\">\\t\\t\\t <single>tit.</single><multiple>tits.</multiple></term><term name=\\"book\\" form=\\"short\\"><single>bk.</single><multiple>bks.</multiple></term><term name=\\"chapter\\" form=\\"short\\"><single>chap.</single><multiple>chaps.</multiple></term><term name=\\"column\\" form=\\"short\\"><single>col.</single><multiple>cols.</multiple></term><term name=\\"figure\\" form=\\"short\\"><single>fig.</single><multiple>figs.</multiple></term><term name=\\"folio\\" form=\\"short\\"><single>fol.</single><multiple>fols.</multiple></term><term name=\\"issue\\" form=\\"short\\"><single>no.</single><multiple>nos.</multiple></term><term name=\\"line\\" form=\\"short\\"><single>l.</single><multiple>ll.</multiple></term><term name=\\"note\\" form=\\"short\\"><single>n.</single><multiple>nn.</multiple></term><term name=\\"opus\\" form=\\"short\\"><single>op.</single><multiple>opp.</multiple></term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"paragraph\\" form=\\"short\\"><single>para.</single><multiple>paras.</multiple></term><term name=\\"part\\" form=\\"short\\"><single>pt.</single><multiple>pts.</multiple></term><term name=\\"section\\" form=\\"short\\"><single>sec.</single><multiple>secs.</multiple></term><term name=\\"sub-verbo\\" form=\\"short\\"><single>s.v.</single><multiple>s.vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>vv.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vols.</multiple></term>\\n\x3c!-- SYMBOL LOCATOR FORMS --\x3e<term name=\\"paragraph\\" form=\\"symbol\\"><single>¶</single><multiple>¶¶</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>§</single><multiple>§§</multiple></term>\\n\x3c!-- LONG ROLE FORMS --\x3e<term name=\\"chair\\"><single>chair</single><multiple>chairs</multiple></term><term name=\\"compiler\\"><single>compiler</single><multiple>compilers</multiple></term><term name=\\"contributor\\"><single>contributor</single><multiple>contributors</multiple></term><term name=\\"curator\\"><single>curator</single><multiple>curators</multiple></term><term name=\\"executive-producer\\"><single>executive producer</single><multiple>executive producers</multiple></term><term name=\\"guest\\"><single>guest</single><multiple>guests</multiple></term><term name=\\"host\\"><single>host</single><multiple>hosts</multiple></term><term name=\\"narrator\\"><single>narrator</single><multiple>narrators</multiple></term><term name=\\"organizer\\"><single>organizer</single><multiple>organizers</multiple></term><term name=\\"performer\\"><single>performer</single><multiple>performers</multiple></term><term name=\\"producer\\"><single>producer</single><multiple>producers</multiple></term><term name=\\"script-writer\\"><single>writer</single><multiple>writers</multiple></term><term name=\\"series-creator\\"><single>series creator</single><multiple>series creators</multiple></term><term name=\\"director\\"><single>director</single><multiple>directors</multiple></term><term name=\\"editor\\"><single>editor</single><multiple>editors</multiple></term><term name=\\"editorial-director\\"><single>editor</single><multiple>editors</multiple></term><term name=\\"illustrator\\"><single>illustrator</single><multiple>illustrators</multiple></term><term name=\\"translator\\"><single>translator</single><multiple>translators</multiple></term><term name=\\"editortranslator\\"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term>\\n\x3c!-- SHORT ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"short\\"><single>comp.</single><multiple>comps.</multiple></term><term name=\\"contributor\\" form=\\"short\\"><single>contrib.</single><multiple>contribs.</multiple></term><term name=\\"curator\\" form=\\"short\\"><single>cur.</single><multiple>curs.</multiple></term><term name=\\"executive-producer\\" form=\\"short\\"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name=\\"narrator\\" form=\\"short\\"><single>narr.</single><multiple>narrs.</multiple></term><term name=\\"organizer\\" form=\\"short\\"><single>org.</single><multiple>orgs.</multiple></term><term name=\\"performer\\" form=\\"short\\"><single>perf.</single><multiple>perfs.</multiple></term><term name=\\"producer\\" form=\\"short\\"><single>prod.</single><multiple>prods.</multiple></term><term name=\\"script-writer\\" form=\\"short\\"><single>writ.</single><multiple>writs.</multiple></term><term name=\\"series-creator\\" form=\\"short\\"><single>cre.</single><multiple>cres.</multiple></term><term name=\\"director\\" form=\\"short\\"><single>dir.</single><multiple>dirs.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ill.</single><multiple>ills.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>tran.</single><multiple>trans.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term>\\n\x3c!-- VERB ROLE FORMS --\x3e<term name=\\"chair\\" form=\\"verb\\">chaired by</term><term name=\\"compiler\\" form=\\"verb\\">compiled by</term><term name=\\"contributor\\" form=\\"verb\\">with</term><term name=\\"curator\\" form=\\"verb\\">curated by</term><term name=\\"executive-producer\\" form=\\"verb\\">executive produced by</term><term name=\\"guest\\" form=\\"verb\\">with guest</term><term name=\\"host\\" form=\\"verb\\">hosted by</term><term name=\\"narrator\\" form=\\"verb\\">narrated by</term><term name=\\"organizer\\" form=\\"verb\\">organized by</term><term name=\\"performer\\" form=\\"verb\\">performed by</term><term name=\\"producer\\" form=\\"verb\\">produced by</term><term name=\\"script-writer\\" form=\\"verb\\">written by</term><term name=\\"series-creator\\" form=\\"verb\\">created by</term><term name=\\"container-author\\" form=\\"verb\\">by</term><term name=\\"director\\" form=\\"verb\\">directed by</term><term name=\\"editor\\" form=\\"verb\\">edited by</term><term name=\\"editorial-director\\" form=\\"verb\\">edited by</term><term name=\\"illustrator\\" form=\\"verb\\">illustrated by</term><term name=\\"interviewer\\" form=\\"verb\\">interview by</term><term name=\\"recipient\\" form=\\"verb\\">to</term><term name=\\"reviewed-author\\" form=\\"verb\\">by</term><term name=\\"translator\\" form=\\"verb\\">translated by</term><term name=\\"editortranslator\\" form=\\"verb\\">edited &amp; translated by</term>\\n\x3c!-- SHORT VERB ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"verb-short\\">comp. by</term><term name=\\"contributor\\" form=\\"verb-short\\">w.</term><term name=\\"curator\\" form=\\"verb-short\\">cur. by</term><term name=\\"executive-producer\\" form=\\"verb-short\\">exec. prod. by</term><term name=\\"guest\\" form=\\"verb-short\\">w. guest</term><term name=\\"host\\" form=\\"verb-short\\">hosted by</term><term name=\\"narrator\\" form=\\"verb-short\\">narr. by</term><term name=\\"organizer\\" form=\\"verb-short\\">org. by</term><term name=\\"performer\\" form=\\"verb-short\\">perf. by</term><term name=\\"producer\\" form=\\"verb-short\\">prod. by</term><term name=\\"script-writer\\" form=\\"verb-short\\">writ. by</term><term name=\\"series-creator\\" form=\\"verb-short\\">cre. by</term><term name=\\"director\\" form=\\"verb-short\\">dir. by</term><term name=\\"editor\\" form=\\"verb-short\\">ed. by</term><term name=\\"editorial-director\\" form=\\"verb-short\\">ed. by</term><term name=\\"illustrator\\" form=\\"verb-short\\">illus. by</term><term name=\\"translator\\" form=\\"verb-short\\">trans. by</term><term name=\\"editortranslator\\" form=\\"verb-short\\">ed. &amp; trans. by</term>\\n\x3c!-- LONG MONTH FORMS --\x3e<term name=\\"month-01\\">January</term><term name=\\"month-02\\">February</term><term name=\\"month-03\\">March</term><term name=\\"month-04\\">April</term><term name=\\"month-05\\">May</term><term name=\\"month-06\\">June</term><term name=\\"month-07\\">July</term><term name=\\"month-08\\">August</term><term name=\\"month-09\\">September</term><term name=\\"month-10\\">October</term><term name=\\"month-11\\">November</term><term name=\\"month-12\\">December</term>\\n\x3c!-- SHORT MONTH FORMS --\x3e<term name=\\"month-01\\" form=\\"short\\">Jan.</term><term name=\\"month-02\\" form=\\"short\\">Feb.</term><term name=\\"month-03\\" form=\\"short\\">Mar.</term><term name=\\"month-04\\" form=\\"short\\">Apr.</term><term name=\\"month-05\\" form=\\"short\\">May</term><term name=\\"month-06\\" form=\\"short\\">Jun.</term><term name=\\"month-07\\" form=\\"short\\">Jul.</term><term name=\\"month-08\\" form=\\"short\\">Aug.</term><term name=\\"month-09\\" form=\\"short\\">Sep.</term><term name=\\"month-10\\" form=\\"short\\">Oct.</term><term name=\\"month-11\\" form=\\"short\\">Nov.</term><term name=\\"month-12\\" form=\\"short\\">Dec.</term>\\n\x3c!-- SEASONS --\x3e<term name=\\"season-01\\">Spring</term><term name=\\"season-02\\">Summer</term><term name=\\"season-03\\">Autumn</term><term name=\\"season-04\\">Winter</term></terms>\\n</locale>\\n","nl-NL":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"nl-NL\\"><info><translator><name>Rintze M. Zelle</name><uri>http://twitter.com/rintzezelle</uri></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2017-04-01T12:00:00+00:00</updated></info><style-options punctuation-in-quote=\\"false\\"/><date form=\\"text\\"><date-part name=\\"day\\" suffix=\\" \\"/><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" suffix=\\"-\\" range-delimiter=\\"/\\"/><date-part name=\\"month\\" form=\\"numeric\\" suffix=\\"-\\" range-delimiter=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"advance-online-publication\\">advance online publication</term><term name=\\"album\\">album</term><term name=\\"audio-recording\\">audio recording</term><term name=\\"film\\">film</term><term name=\\"henceforth\\">henceforth</term><term name=\\"loc-cit\\">loc. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"no-place\\">no place</term><term name=\\"no-place\\" form=\\"short\\">n.p.</term><term name=\\"no-publisher\\">no publisher</term> \x3c!-- sine nomine --\x3e<term name=\\"no-publisher\\" form=\\"short\\">n.p.</term><term name=\\"on\\">on</term><term name=\\"op-cit\\">op. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"original-work-published\\">original work published</term><term name=\\"personal-communication\\">persoonlijke communicatie</term><term name=\\"podcast\\">podcast</term><term name=\\"podcast-episode\\">podcast episode</term><term name=\\"preprint\\">preprint</term><term name=\\"radio-broadcast\\">radio broadcast</term><term name=\\"radio-series\\">radio series</term><term name=\\"radio-series-episode\\">radio series episode</term><term name=\\"special-issue\\">special issue</term><term name=\\"special-section\\">special section</term><term name=\\"television-broadcast\\">television broadcast</term><term name=\\"television-series\\">television series</term><term name=\\"television-series-episode\\">television series episode</term><term name=\\"video\\">video</term><term name=\\"working-paper\\">working paper</term><term name=\\"accessed\\">geraadpleegd</term><term name=\\"and\\">en</term><term name=\\"and others\\">en anderen</term><term name=\\"anonymous\\">anoniem</term><term name=\\"anonymous\\" form=\\"short\\">anon.</term><term name=\\"at\\">bij</term><term name=\\"available at\\">beschikbaar op</term><term name=\\"by\\">door</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">c.</term><term name=\\"cited\\">geciteerd</term><term name=\\"edition\\"><single>druk</single><multiple>drukken</multiple></term><term name=\\"edition\\" form=\\"short\\">dr.</term><term name=\\"et-al\\">e.a.</term><term name=\\"forthcoming\\">in voorbereiding</term><term name=\\"from\\">van</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">in</term><term name=\\"in press\\">in druk</term><term name=\\"internet\\">internet</term><term name=\\"interview\\">interview</term><term name=\\"letter\\">brief</term><term name=\\"no date\\">zonder datum</term><term name=\\"no date\\" form=\\"short\\">z.d.</term><term name=\\"online\\">online</term><term name=\\"presented at\\">gepresenteerd bij</term><term name=\\"reference\\"><single>referentie</single><multiple>referenties</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>ref.</single><multiple>refs.</multiple></term><term name=\\"retrieved\\">geraadpleegd</term><term name=\\"scale\\">schaal</term><term name=\\"version\\">versie</term>\\n\x3c!-- LONG ITEM TYPE FORMS --\x3e<term name=\\"article\\">preprint</term><term name=\\"article-journal\\">journal article</term><term name=\\"article-magazine\\">magazine article</term><term name=\\"article-newspaper\\">newspaper article</term><term name=\\"bill\\">bill</term><term name=\\"book\\">book</term><term name=\\"broadcast\\">broadcast</term><term name=\\"chapter\\">book chapter</term><term name=\\"classic\\">classic</term><term name=\\"collection\\">collection</term><term name=\\"dataset\\">dataset</term><term name=\\"document\\">document</term><term name=\\"entry\\">entry</term><term name=\\"entry-dictionary\\">dictionary entry</term><term name=\\"entry-encyclopedia\\">encyclopedia entry</term><term name=\\"event\\">event</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\">graphic</term><term name=\\"hearing\\">hearing</term><term name=\\"interview\\">interview</term><term name=\\"legal_case\\">legal case</term><term name=\\"legislation\\">legislation</term><term name=\\"manuscript\\">manuscript</term><term name=\\"map\\">map</term><term name=\\"motion_picture\\">video recording</term><term name=\\"musical_score\\">musical score</term><term name=\\"pamphlet\\">pamphlet</term><term name=\\"paper-conference\\">conference paper</term><term name=\\"patent\\">patent</term><term name=\\"performance\\">performance</term><term name=\\"periodical\\">periodical</term><term name=\\"personal_communication\\">persoonlijke communicatie</term><term name=\\"post\\">post</term><term name=\\"post-weblog\\">blog post</term><term name=\\"regulation\\">regulation</term><term name=\\"report\\">report</term><term name=\\"review\\">review</term><term name=\\"review-book\\">book review</term><term name=\\"software\\">software</term><term name=\\"song\\">audio recording</term><term name=\\"speech\\">presentation</term><term name=\\"standard\\">standard</term><term name=\\"thesis\\">thesis</term><term name=\\"treaty\\">treaty</term><term name=\\"webpage\\">webpage</term>\\n\x3c!-- SHORT ITEM TYPE FORMS --\x3e<term name=\\"article-journal\\" form=\\"short\\">journal art.</term><term name=\\"article-magazine\\" form=\\"short\\">mag. art.</term><term name=\\"article-newspaper\\" form=\\"short\\">newspaper art.</term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">bk. chap.</term><term name=\\"document\\" form=\\"short\\">doc.</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\" form=\\"short\\">graph.</term><term name=\\"interview\\" form=\\"short\\">interv.</term><term name=\\"manuscript\\" form=\\"short\\">MS</term><term name=\\"motion_picture\\" form=\\"short\\">video rec.</term><term name=\\"report\\" form=\\"short\\">rep.</term><term name=\\"review\\" form=\\"short\\">rev.</term><term name=\\"review-book\\" form=\\"short\\">bk. rev.</term><term name=\\"song\\" form=\\"short\\">audio rec.</term>\\n\x3c!-- HISTORICAL ERA TERMS --\x3e<term name=\\"ad\\">AD</term><term name=\\"bc\\">BC</term><term name=\\"bce\\">BCE</term><term name=\\"ce\\">CE</term>\\n\x3c!-- PUNCTUATION --\x3e<term name=\\"open-quote\\">‘</term><term name=\\"close-quote\\">’</term><term name=\\"open-inner-quote\\">“</term><term name=\\"close-inner-quote\\">”</term><term name=\\"page-range-delimiter\\">–</term><term name=\\"colon\\">:</term><term name=\\"comma\\">,</term><term name=\\"semicolon\\">;</term>\\n\x3c!-- ORDINALS --\x3e<term name=\\"ordinal\\">ste</term><term name=\\"ordinal-00\\" match=\\"whole-number\\">de</term><term name=\\"ordinal-02\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-03\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-04\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-05\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-06\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-07\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-09\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-10\\">de</term><term name=\\"ordinal-11\\">de</term><term name=\\"ordinal-12\\">de</term><term name=\\"ordinal-13\\">de</term><term name=\\"ordinal-14\\">de</term><term name=\\"ordinal-15\\">de</term><term name=\\"ordinal-16\\">de</term><term name=\\"ordinal-17\\">de</term><term name=\\"ordinal-18\\">de</term><term name=\\"ordinal-19\\">de</term>\\n\x3c!-- LONG ORDINALS --\x3e<term name=\\"long-ordinal-01\\">eerste</term><term name=\\"long-ordinal-02\\">tweede</term><term name=\\"long-ordinal-03\\">derde</term><term name=\\"long-ordinal-04\\">vierde</term><term name=\\"long-ordinal-05\\">vijfde</term><term name=\\"long-ordinal-06\\">zesde</term><term name=\\"long-ordinal-07\\">zevende</term><term name=\\"long-ordinal-08\\">achtste</term><term name=\\"long-ordinal-09\\">negende</term><term name=\\"long-ordinal-10\\">tiende</term>\\n\x3c!-- LONG LOCATOR FORMS --\x3e<term name=\\"act\\">\\t\\t\\t <single>act</single><multiple>acts</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"appendix\\">\\t\\t\\t <single>appendix</single><multiple>appendices</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>article</single><multiple>articles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"canon\\">\\t\\t\\t <single>canon</single><multiple>canons</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"elocation\\">\\t\\t\\t <single>location</single><multiple>locations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"equation\\">\\t\\t\\t <single>equation</single><multiple>equations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"rule\\">\\t\\t\\t <single>rule</single><multiple>rules</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>scene</single><multiple>scenes</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>table</single><multiple>tables</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>title</single><multiple>titles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"book\\"><single>boek</single><multiple>boeken</multiple></term><term name=\\"chapter\\"><single>hoofdstuk</single><multiple>hoofdstukken</multiple></term><term name=\\"column\\"><single>column</single><multiple>columns</multiple></term><term name=\\"figure\\"><single>figuur</single><multiple>figuren</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folio\'s</multiple></term><term name=\\"issue\\"><single>nummer</single><multiple>nummers</multiple></term><term name=\\"line\\"><single>regel</single><multiple>regels</multiple></term><term name=\\"note\\"><single>aantekening</single><multiple>aantekeningen</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opera</multiple></term><term name=\\"page\\"><single>pagina</single><multiple>pagina\'s</multiple></term><term name=\\"number-of-pages\\"><single>pagina</single><multiple>pagina\'s</multiple></term><term name=\\"paragraph\\"><single>paragraaf</single><multiple>paragrafen</multiple></term><term name=\\"part\\"><single>deel</single><multiple>delen</multiple></term><term name=\\"section\\"><single>sectie</single><multiple>secties</multiple></term><term name=\\"sub-verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>vers</single><multiple>versen</multiple></term><term name=\\"volume\\"><single>volume</single><multiple>volumes</multiple></term>\\n\x3c!-- SHORT LOCATOR FORMS --\x3e<term name=\\"appendix\\">\\t\\t\\t <single>app.</single><multiple>apps.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>art.</single><multiple>arts.</multiple></term><term name=\\"elocation\\">\\t\\t\\t <single>loc.</single><multiple>locs.</multiple></term><term name=\\"equation\\">\\t\\t\\t <single>eq.</single><multiple>eqs.</multiple></term><term name=\\"rule\\">\\t\\t\\t <single>r.</single><multiple>rr.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>sc.</single><multiple>scs.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>tbl.</single><multiple>tbls.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>tit.</single><multiple>tits.</multiple></term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">hfdst.</term><term name=\\"column\\" form=\\"short\\">col.</term><term name=\\"figure\\" form=\\"short\\">fig.</term><term name=\\"folio\\" form=\\"short\\">f.</term><term name=\\"issue\\" form=\\"short\\">nr.</term><term name=\\"line\\" form=\\"short\\">l.</term><term name=\\"note\\" form=\\"short\\">n.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">par.</term><term name=\\"part\\" form=\\"short\\">deel</term><term name=\\"section\\" form=\\"short\\">sec.</term><term name=\\"sub-verbo\\" form=\\"short\\"><single>s.v.</single><multiple>s.vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>vv.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vols.</multiple></term>\\n\x3c!-- SYMBOL LOCATOR FORMS --\x3e<term name=\\"paragraph\\" form=\\"symbol\\"><single>¶</single><multiple>¶¶</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>§</single><multiple>§§</multiple></term>\\n\x3c!-- LONG ROLE FORMS --\x3e<term name=\\"chair\\"><single>chair</single><multiple>chairs</multiple></term><term name=\\"compiler\\"><single>compiler</single><multiple>compilers</multiple></term><term name=\\"contributor\\"><single>contributor</single><multiple>contributors</multiple></term><term name=\\"curator\\"><single>curator</single><multiple>curators</multiple></term><term name=\\"executive-producer\\"><single>executive producer</single><multiple>executive producers</multiple></term><term name=\\"guest\\"><single>guest</single><multiple>guests</multiple></term><term name=\\"host\\"><single>host</single><multiple>hosts</multiple></term><term name=\\"narrator\\"><single>narrator</single><multiple>narrators</multiple></term><term name=\\"organizer\\"><single>organizer</single><multiple>organizers</multiple></term><term name=\\"performer\\"><single>performer</single><multiple>performers</multiple></term><term name=\\"producer\\"><single>producer</single><multiple>producers</multiple></term><term name=\\"script-writer\\"><single>writer</single><multiple>writers</multiple></term><term name=\\"series-creator\\"><single>series creator</single><multiple>series creators</multiple></term><term name=\\"director\\"><single>regisseur</single><multiple>regisseurs</multiple></term><term name=\\"editor\\"><single>redacteur</single><multiple>redacteuren</multiple></term><term name=\\"editorial-director\\"><single>redacteur</single><multiple>redacteuren</multiple></term><term name=\\"illustrator\\"><single>illustrator</single><multiple>illustrators</multiple></term><term name=\\"translator\\"><single>vertaler</single><multiple>vertalers</multiple></term><term name=\\"editortranslator\\"><single>redacteur &amp; vertaler</single><multiple>redacteuren &amp; vertalers</multiple></term>\\n\x3c!-- SHORT ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"short\\"><single>comp.</single><multiple>comps.</multiple></term><term name=\\"contributor\\" form=\\"short\\"><single>contrib.</single><multiple>contribs.</multiple></term><term name=\\"curator\\" form=\\"short\\"><single>cur.</single><multiple>curs.</multiple></term><term name=\\"executive-producer\\" form=\\"short\\"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name=\\"narrator\\" form=\\"short\\"><single>narr.</single><multiple>narrs.</multiple></term><term name=\\"organizer\\" form=\\"short\\"><single>org.</single><multiple>orgs.</multiple></term><term name=\\"performer\\" form=\\"short\\"><single>perf.</single><multiple>perfs.</multiple></term><term name=\\"producer\\" form=\\"short\\"><single>prod.</single><multiple>prods.</multiple></term><term name=\\"script-writer\\" form=\\"short\\"><single>writ.</single><multiple>writs.</multiple></term><term name=\\"series-creator\\" form=\\"short\\"><single>cre.</single><multiple>cres.</multiple></term><term name=\\"director\\" form=\\"short\\"><single>reg.</single><multiple>reg.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>red.</single><multiple>red.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>red.</single><multiple>red.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ill.</single><multiple>ill.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>vert.</single><multiple>vert.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>red. &amp; vert.</single><multiple>red. &amp; vert.</multiple></term>\\n\x3c!-- VERB ROLE FORMS --\x3e<term name=\\"chair\\" form=\\"verb\\">chaired by</term><term name=\\"compiler\\" form=\\"verb\\">compiled by</term><term name=\\"contributor\\" form=\\"verb\\">with</term><term name=\\"curator\\" form=\\"verb\\">curated by</term><term name=\\"executive-producer\\" form=\\"verb\\">executive produced by</term><term name=\\"guest\\" form=\\"verb\\">with guest</term><term name=\\"host\\" form=\\"verb\\">hosted by</term><term name=\\"narrator\\" form=\\"verb\\">narrated by</term><term name=\\"organizer\\" form=\\"verb\\">organized by</term><term name=\\"performer\\" form=\\"verb\\">performed by</term><term name=\\"producer\\" form=\\"verb\\">produced by</term><term name=\\"script-writer\\" form=\\"verb\\">written by</term><term name=\\"series-creator\\" form=\\"verb\\">created by</term><term name=\\"container-author\\" form=\\"verb\\">door</term><term name=\\"director\\" form=\\"verb\\">geregisseerd door</term><term name=\\"editor\\" form=\\"verb\\">onder redactie van</term><term name=\\"editorial-director\\" form=\\"verb\\">onder redactie van</term><term name=\\"illustrator\\" form=\\"verb\\">geïllustreerd door</term><term name=\\"interviewer\\" form=\\"verb\\">geïnterviewd door</term><term name=\\"recipient\\" form=\\"verb\\">ontvangen door</term><term name=\\"reviewed-author\\" form=\\"verb\\">door</term><term name=\\"translator\\" form=\\"verb\\">vertaald door</term><term name=\\"editortranslator\\" form=\\"verb\\">bewerkt &amp; vertaald door</term>\\n\x3c!-- SHORT VERB ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"verb-short\\">comp. by</term><term name=\\"contributor\\" form=\\"verb-short\\">w.</term><term name=\\"curator\\" form=\\"verb-short\\">cur. by</term><term name=\\"executive-producer\\" form=\\"verb-short\\">exec. prod. by</term><term name=\\"guest\\" form=\\"verb-short\\">w. guest</term><term name=\\"host\\" form=\\"verb-short\\">hosted by</term><term name=\\"narrator\\" form=\\"verb-short\\">narr. by</term><term name=\\"organizer\\" form=\\"verb-short\\">org. by</term><term name=\\"performer\\" form=\\"verb-short\\">perf. by</term><term name=\\"producer\\" form=\\"verb-short\\">prod. by</term><term name=\\"script-writer\\" form=\\"verb-short\\">writ. by</term><term name=\\"series-creator\\" form=\\"verb-short\\">cre. by</term><term name=\\"director\\" form=\\"verb-short\\">geregisseerd door</term><term name=\\"editor\\" form=\\"verb-short\\">onder redactie van</term><term name=\\"editorial-director\\" form=\\"verb-short\\">bewerkt door</term><term name=\\"illustrator\\" form=\\"verb-short\\">geïllustreerd door</term><term name=\\"translator\\" form=\\"verb-short\\">vertaald door</term><term name=\\"editortranslator\\" form=\\"verb-short\\">bewerkt &amp; vertaald door</term>\\n\x3c!-- LONG MONTH FORMS --\x3e<term name=\\"month-01\\">januari</term><term name=\\"month-02\\">februari</term><term name=\\"month-03\\">maart</term><term name=\\"month-04\\">april</term><term name=\\"month-05\\">mei</term><term name=\\"month-06\\">juni</term><term name=\\"month-07\\">juli</term><term name=\\"month-08\\">augustus</term><term name=\\"month-09\\">september</term><term name=\\"month-10\\">oktober</term><term name=\\"month-11\\">november</term><term name=\\"month-12\\">december</term>\\n\x3c!-- SHORT MONTH FORMS --\x3e<term name=\\"month-01\\" form=\\"short\\">jan.</term><term name=\\"month-02\\" form=\\"short\\">feb.</term><term name=\\"month-03\\" form=\\"short\\">mrt.</term><term name=\\"month-04\\" form=\\"short\\">apr.</term><term name=\\"month-05\\" form=\\"short\\">mei</term><term name=\\"month-06\\" form=\\"short\\">jun.</term><term name=\\"month-07\\" form=\\"short\\">jul.</term><term name=\\"month-08\\" form=\\"short\\">aug.</term><term name=\\"month-09\\" form=\\"short\\">sep.</term><term name=\\"month-10\\" form=\\"short\\">okt.</term><term name=\\"month-11\\" form=\\"short\\">nov.</term><term name=\\"month-12\\" form=\\"short\\">dec.</term>\\n\x3c!-- SEASONS --\x3e<term name=\\"season-01\\">lente</term><term name=\\"season-02\\">zomer</term><term name=\\"season-03\\">herst</term><term name=\\"season-04\\">winter</term></terms>\\n</locale>\\n","fr-FR":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"fr-FR\\"><info><translator><name>Grégoire Colly</name></translator><translator><name>Collectif Zotero francophone</name></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\" limit-day-ordinals-to-day-1=\\"true\\"/><date form=\\"text\\"><date-part name=\\"day\\" suffix=\\" \\"/><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"advance-online-publication\\">publication en ligne anticipée</term><term name=\\"album\\">album</term><term name=\\"audio-recording\\">enregistrement audio</term><term name=\\"film\\">film</term><term name=\\"henceforth\\">désormais</term><term name=\\"loc-cit\\">loc.&#160;cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"no-place\\">sans lieu</term><term name=\\"no-place\\" form=\\"short\\">s.&#160;l.</term><term name=\\"no-publisher\\">sans nom</term> \x3c!-- sine nomine --\x3e<term name=\\"no-publisher\\" form=\\"short\\">s.&#160;n.</term><term name=\\"on\\">sur</term><term name=\\"op-cit\\">op.&#160;cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"original-work-published\\">édition originale</term><term name=\\"personal-communication\\">communication personnelle</term><term name=\\"podcast\\">podcast</term><term name=\\"podcast-episode\\">épisode de podcast</term><term name=\\"preprint\\">prépublication</term><term name=\\"radio-broadcast\\">émission de radio</term><term name=\\"radio-series\\">série radiophonique</term><term name=\\"radio-series-episode\\">épisode de série radiophonique</term><term name=\\"special-issue\\">numéro spécial</term><term name=\\"special-section\\">section spéciale</term><term name=\\"television-broadcast\\">émission de télévision</term><term name=\\"television-series\\">série télévisée</term><term name=\\"television-series-episode\\">épisode de série télévisée</term><term name=\\"video\\">vidéo</term><term name=\\"working-paper\\">document de travail</term><term name=\\"accessed\\">consulté le</term><term name=\\"and\\">et</term><term name=\\"and others\\">et autres</term><term name=\\"anonymous\\">anonyme</term><term name=\\"anonymous\\" form=\\"short\\">anon.</term><term name=\\"at\\">sur</term><term name=\\"available at\\">disponible sur</term><term name=\\"by\\">par</term><term name=\\"circa\\">vers</term><term name=\\"circa\\" form=\\"short\\">v.</term><term name=\\"cited\\">cité</term><term name=\\"edition\\" gender=\\"feminine\\"><single>édition</single><multiple>éditions</multiple></term><term name=\\"edition\\" form=\\"short\\">éd.</term><term name=\\"et-al\\">et al.</term><term name=\\"forthcoming\\">à paraître</term><term name=\\"from\\">à l\'adresse</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">in</term><term name=\\"in press\\">sous presse</term><term name=\\"internet\\">Internet</term><term name=\\"interview\\">entretien</term><term name=\\"letter\\">lettre</term><term name=\\"no date\\">sans date</term><term name=\\"no date\\" form=\\"short\\">s.&#160;d.</term><term name=\\"online\\">en ligne</term><term name=\\"presented at\\">présenté à</term><term name=\\"reference\\"><single>référence</single><multiple>références</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>réf.</single><multiple>réf.</multiple></term><term name=\\"retrieved\\">consulté</term><term name=\\"scale\\">échelle</term><term name=\\"version\\">version</term>\\n\x3c!-- LONG ITEM TYPE FORMS --\x3e<term name=\\"article\\">article</term><term name=\\"article-journal\\">article de revue</term><term name=\\"article-magazine\\">article de magazine</term><term name=\\"article-newspaper\\">article de presse</term><term name=\\"bill\\">projet de loi</term><term name=\\"book\\">livre</term><term name=\\"broadcast\\">émission</term><term name=\\"chapter\\">chapitre de livre</term><term name=\\"classic\\">classique</term><term name=\\"collection\\">collection</term><term name=\\"dataset\\">jeu de données</term><term name=\\"document\\">document</term><term name=\\"entry\\">entrée</term><term name=\\"entry-dictionary\\">entrée de dictionnaire</term><term name=\\"entry-encyclopedia\\">entrée d\'encyclopédie</term><term name=\\"event\\">événement</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\">image</term><term name=\\"hearing\\">audience</term><term name=\\"interview\\">interview</term><term name=\\"legal_case\\">affaire</term><term name=\\"legislation\\">acte juridique</term><term name=\\"manuscript\\">manuscrit</term><term name=\\"map\\">carte</term><term name=\\"motion_picture\\">enregistrement vidéo</term><term name=\\"musical_score\\">partition</term><term name=\\"pamphlet\\">pamphlet</term><term name=\\"paper-conference\\">article de colloque</term><term name=\\"patent\\">brevet</term><term name=\\"performance\\">interprétation</term><term name=\\"periodical\\">périodique</term><term name=\\"personal_communication\\">communication personnelle</term><term name=\\"post\\">billet</term><term name=\\"post-weblog\\">billet de blog</term><term name=\\"regulation\\">règlement</term><term name=\\"report\\">rapport</term><term name=\\"review\\">recension</term><term name=\\"review-book\\">recension de livre</term><term name=\\"software\\">logiciel</term><term name=\\"song\\">chanson</term><term name=\\"speech\\">présentation</term><term name=\\"standard\\">norme</term><term name=\\"thesis\\">thèse</term><term name=\\"treaty\\">traité</term><term name=\\"webpage\\">page web</term>\\n\x3c!-- SHORT ITEM TYPE FORMS --\x3e<term name=\\"article-journal\\" form=\\"short\\">art. de revue</term><term name=\\"article-magazine\\" form=\\"short\\">art. de mag.</term><term name=\\"article-newspaper\\" form=\\"short\\">art. de presse</term><term name=\\"book\\" form=\\"short\\">liv.</term><term name=\\"chapter\\" form=\\"short\\">chap. de liv.</term><term name=\\"document\\" form=\\"short\\">doc.</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\" form=\\"short\\">graph.</term><term name=\\"interview\\" form=\\"short\\">interv.</term><term name=\\"manuscript\\" form=\\"short\\">ms</term><term name=\\"motion_picture\\" form=\\"short\\">enr. vidéo</term><term name=\\"report\\" form=\\"short\\">rap.</term><term name=\\"review\\" form=\\"short\\">recens.</term><term name=\\"review-book\\" form=\\"short\\">recens. de liv.</term><term name=\\"song\\" form=\\"short\\">enr. audio</term>\\n\x3c!-- HISTORICAL ERA TERMS --\x3e<term name=\\"ad\\">apr. J.-C.</term><term name=\\"bc\\">av. J.-C.</term><term name=\\"bce\\">av. n. è.</term><term name=\\"ce\\">n. è.</term>\\n\x3c!-- PUNCTUATION --\x3e<term name=\\"open-quote\\">«&#160;</term><term name=\\"close-quote\\">&#160;»</term><term name=\\"open-inner-quote\\">“</term><term name=\\"close-inner-quote\\">”</term><term name=\\"page-range-delimiter\\">&#8209;</term> \x3c!-- non-breaking hyphen --\x3e<term name=\\"colon\\">&#160;:</term><term name=\\"comma\\">,</term><term name=\\"semicolon\\">&#160;;</term>\\n\x3c!-- ORDINALS --\x3e<term name=\\"ordinal\\">ᵉ</term><term name=\\"ordinal-01\\" gender-form=\\"feminine\\" match=\\"whole-number\\">ʳᵉ</term><term name=\\"ordinal-01\\" gender-form=\\"masculine\\" match=\\"whole-number\\">ᵉʳ</term>\\n\x3c!-- LONG ORDINALS --\x3e<term name=\\"long-ordinal-01\\">premier</term><term name=\\"long-ordinal-02\\">deuxième</term><term name=\\"long-ordinal-03\\">troisième</term><term name=\\"long-ordinal-04\\">quatrième</term><term name=\\"long-ordinal-05\\">cinquième</term><term name=\\"long-ordinal-06\\">sixième</term><term name=\\"long-ordinal-07\\">septième</term><term name=\\"long-ordinal-08\\">huitième</term><term name=\\"long-ordinal-09\\">neuvième</term><term name=\\"long-ordinal-10\\">dixième</term>\\n\x3c!-- LONG LOCATOR FORMS --\x3e<term name=\\"act\\"><single>acte</single><multiple>actes</multiple></term><term name=\\"appendix\\"><single>appendice</single><multiple>appendices</multiple></term><term name=\\"article-locator\\"><single>article</single><multiple>articles</multiple></term><term name=\\"canon\\"><single>canon</single><multiple>canons</multiple></term><term name=\\"elocation\\"><single>emplacement</single><multiple>emplacements</multiple></term><term name=\\"equation\\"><single>équation</single><multiple>équations</multiple></term><term name=\\"rule\\"><single>règle</single><multiple>règles</multiple></term><term name=\\"scene\\"><single>scène</single><multiple>scènes</multiple></term><term name=\\"table\\"><single>tableau</single><multiple>tableaux</multiple></term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple></term><term name=\\"title-locator\\"><single>titre</single><multiple>titres</multiple></term><term name=\\"book\\"><single>livre</single><multiple>livres</multiple></term><term name=\\"chapter\\"><single>chapitre</single><multiple>chapitres</multiple></term><term name=\\"column\\"><single>colonne</single><multiple>colonnes</multiple></term><term name=\\"figure\\"><single>figure</single><multiple>figures</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folios</multiple></term><term name=\\"issue\\" gender=\\"masculine\\"><single>numéro</single><multiple>numéros</multiple></term><term name=\\"line\\"><single>ligne</single><multiple>lignes</multiple></term><term name=\\"note\\"><single>note</single><multiple>notes</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opus</multiple></term><term name=\\"page\\"><single>page</single><multiple>pages</multiple></term><term name=\\"number-of-pages\\"><single>page</single><multiple>pages</multiple></term><term name=\\"paragraph\\"><single>paragraphe</single><multiple>paragraphes</multiple></term><term name=\\"part\\"><single>partie</single><multiple>parties</multiple></term><term name=\\"section\\"><single>section</single><multiple>sections</multiple></term><term name=\\"sub-verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>verset</single><multiple>versets</multiple></term><term name=\\"volume\\" gender=\\"masculine\\"><single>volume</single><multiple>volumes</multiple></term>\\n\x3c!-- SHORT LOCATOR FORMS --\x3e<term name=\\"appendix\\"><single>append.</single><multiple>append.</multiple></term><term name=\\"article-locator\\"><single>art.</single><multiple>art.</multiple></term><term name=\\"elocation\\"><single>emplact</single><multiple>emplact</multiple></term><term name=\\"equation\\"><single>eq.</single><multiple>eq.</multiple></term><term name=\\"rule\\"><single>règle</single><multiple>règles</multiple></term><term name=\\"scene\\"><single>sc.</single><multiple>sc.</multiple></term><term name=\\"table\\"><single>tab.</single><multiple>tab.</multiple></term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple></term><term name=\\"title-locator\\"><single>tit.</single><multiple>tit.</multiple></term><term name=\\"book\\" form=\\"short\\">liv.</term><term name=\\"chapter\\" form=\\"short\\">chap.</term><term name=\\"column\\" form=\\"short\\">col.</term><term name=\\"figure\\" form=\\"short\\">fig.</term><term name=\\"folio\\" form=\\"short\\"><single>fᵒ</single><multiple>fᵒˢ</multiple></term><term name=\\"issue\\" form=\\"short\\"><single>nᵒ</single><multiple>nᵒˢ</multiple></term><term name=\\"line\\" form=\\"short\\">l.</term><term name=\\"note\\" form=\\"short\\">n.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>p.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>p.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">paragr.</term><term name=\\"part\\" form=\\"short\\">part.</term><term name=\\"section\\" form=\\"short\\">sect.</term><term name=\\"sub-verbo\\" form=\\"short\\"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>v.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vol.</multiple></term>\\n\x3c!-- SYMBOL LOCATOR FORMS --\x3e<term name=\\"paragraph\\" form=\\"symbol\\"><single>§</single><multiple>§</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>§</single><multiple>§</multiple></term>\\n\x3c!-- LONG ROLE FORMS --\x3e<term name=\\"chair\\"><single>président</single><multiple>présidents</multiple></term><term name=\\"compiler\\"><single>compilateur</single><multiple>compilateurs</multiple></term><term name=\\"contributor\\"><single>contributeur</single><multiple>contributeurs</multiple></term><term name=\\"curator\\"><single>commissaire</single><multiple>commissaires</multiple></term><term name=\\"executive-producer\\"><single>producteur exécutif</single><multiple>producteurs exécutifs</multiple></term><term name=\\"guest\\"><single>invité</single><multiple>invités</multiple></term><term name=\\"host\\"><single>hôte</single><multiple>hôtes</multiple></term><term name=\\"narrator\\"><single>narrateur</single><multiple>narrateurs</multiple></term><term name=\\"organizer\\"><single>organisateur</single><multiple>organisateurs</multiple></term><term name=\\"performer\\"><single>interprète</single><multiple>interprètes</multiple></term><term name=\\"producer\\"><single>producteur</single><multiple>producteurs</multiple></term><term name=\\"script-writer\\"><single>scénariste</single><multiple>scénaristes</multiple></term><term name=\\"series-creator\\"><single>créateur de série</single><multiple>créateurs de série</multiple></term><term name=\\"director\\"><single>réalisateur</single><multiple>réalisateurs</multiple></term><term name=\\"editor\\"><single>éditeur</single><multiple>éditeurs</multiple></term><term name=\\"editorial-director\\"><single>directeur</single><multiple>directeurs</multiple></term><term name=\\"illustrator\\"><single>illustrateur</single><multiple>illustrateurs</multiple></term><term name=\\"translator\\"><single>traducteur</single><multiple>traducteurs</multiple></term><term name=\\"editortranslator\\"><single>éditeur et traducteur</single><multiple>éditeurs et traducteurs</multiple></term>\\n\x3c!-- SHORT ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"short\\"><single>compil.</single><multiple>compil.</multiple></term><term name=\\"contributor\\" form=\\"short\\"><single>contrib.</single><multiple>contrib.</multiple></term><term name=\\"curator\\" form=\\"short\\"><single>commiss.</single><multiple>commiss.</multiple></term><term name=\\"executive-producer\\" form=\\"short\\"><single>prod. exé.</single><multiple>prod. exé.</multiple></term><term name=\\"narrator\\" form=\\"short\\"><single>narr.</single><multiple>narr.</multiple></term><term name=\\"organizer\\" form=\\"short\\"><single>org.</single><multiple>org.</multiple></term><term name=\\"performer\\" form=\\"short\\"><single>interpr.</single><multiple>interpr.</multiple></term><term name=\\"producer\\" form=\\"short\\"><single>prod.</single><multiple>prod.</multiple></term><term name=\\"script-writer\\" form=\\"short\\"><single>scénar.</single><multiple>scénar.</multiple></term><term name=\\"series-creator\\" form=\\"short\\"><single>créat.</single><multiple>créat.</multiple></term><term name=\\"director\\" form=\\"short\\"><single>réal.</single><multiple>réal.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>éd.</single><multiple>éd.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>dir.</single><multiple>dir.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ill.</single><multiple>ill.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>trad.</single><multiple>trad.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>éd. et trad.</single><multiple>éd. et trad.</multiple></term>\\n\x3c!-- VERB ROLE FORMS --\x3e<term name=\\"chair\\" form=\\"verb\\">présidé par</term><term name=\\"compiler\\" form=\\"verb\\">compilé par</term><term name=\\"contributor\\" form=\\"verb\\">avec</term><term name=\\"curator\\" form=\\"verb\\">organisé par</term><term name=\\"executive-producer\\" form=\\"verb\\">production exécutive par</term><term name=\\"guest\\" form=\\"verb\\">avec pour invité</term><term name=\\"host\\" form=\\"verb\\">animé par</term><term name=\\"narrator\\" form=\\"verb\\">lu par</term><term name=\\"organizer\\" form=\\"verb\\">organisé par</term><term name=\\"performer\\" form=\\"verb\\">interprété par</term><term name=\\"producer\\" form=\\"verb\\">produit par</term><term name=\\"script-writer\\" form=\\"verb\\">scénario de</term><term name=\\"series-creator\\" form=\\"verb\\">créé par</term><term name=\\"container-author\\" form=\\"verb\\">par</term><term name=\\"director\\" form=\\"verb\\">réalisé par</term><term name=\\"editor\\" form=\\"verb\\">édité par</term><term name=\\"editorial-director\\" form=\\"verb\\">sous la direction de</term><term name=\\"illustrator\\" form=\\"verb\\">illustré par</term><term name=\\"interviewer\\" form=\\"verb\\">entretien réalisé par</term><term name=\\"recipient\\" form=\\"verb\\">à</term><term name=\\"reviewed-author\\" form=\\"verb\\">par</term><term name=\\"translator\\" form=\\"verb\\">traduit par</term><term name=\\"editortranslator\\" form=\\"verb\\">édité et traduit par</term>\\n\x3c!-- SHORT VERB ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"verb-short\\">compil. par</term><term name=\\"contributor\\" form=\\"verb-short\\">ac</term><term name=\\"curator\\" form=\\"verb-short\\">org. par</term><term name=\\"executive-producer\\" form=\\"verb-short\\">prod. exé. par</term><term name=\\"guest\\" form=\\"verb-short\\">ac pr inv.</term><term name=\\"host\\" form=\\"verb-short\\">anim. par</term><term name=\\"narrator\\" form=\\"verb-short\\">lu par</term><term name=\\"organizer\\" form=\\"verb-short\\">org. par</term><term name=\\"performer\\" form=\\"verb-short\\">interpr. par</term><term name=\\"producer\\" form=\\"verb-short\\">prod. par</term><term name=\\"script-writer\\" form=\\"verb-short\\">scénar. de</term><term name=\\"series-creator\\" form=\\"verb-short\\">créé par</term><term name=\\"director\\" form=\\"verb-short\\">réal. par</term><term name=\\"editor\\" form=\\"verb-short\\">éd. par</term><term name=\\"editorial-director\\" form=\\"verb-short\\">ss la dir. de</term><term name=\\"illustrator\\" form=\\"verb-short\\">ill. par</term><term name=\\"translator\\" form=\\"verb-short\\">trad. par</term><term name=\\"editortranslator\\" form=\\"verb-short\\">éd. et trad. par</term>\\n\x3c!-- LONG MONTH FORMS --\x3e<term name=\\"month-01\\" gender=\\"masculine\\">janvier</term><term name=\\"month-02\\" gender=\\"masculine\\">février</term><term name=\\"month-03\\" gender=\\"masculine\\">mars</term><term name=\\"month-04\\" gender=\\"masculine\\">avril</term><term name=\\"month-05\\" gender=\\"masculine\\">mai</term><term name=\\"month-06\\" gender=\\"masculine\\">juin</term><term name=\\"month-07\\" gender=\\"masculine\\">juillet</term><term name=\\"month-08\\" gender=\\"masculine\\">août</term><term name=\\"month-09\\" gender=\\"masculine\\">septembre</term><term name=\\"month-10\\" gender=\\"masculine\\">octobre</term><term name=\\"month-11\\" gender=\\"masculine\\">novembre</term><term name=\\"month-12\\" gender=\\"masculine\\">décembre</term>\\n\x3c!-- SHORT MONTH FORMS --\x3e<term name=\\"month-01\\" form=\\"short\\">janv.</term><term name=\\"month-02\\" form=\\"short\\">févr.</term><term name=\\"month-03\\" form=\\"short\\">mars</term><term name=\\"month-04\\" form=\\"short\\">avr.</term><term name=\\"month-05\\" form=\\"short\\">mai</term><term name=\\"month-06\\" form=\\"short\\">juin</term><term name=\\"month-07\\" form=\\"short\\">juill.</term><term name=\\"month-08\\" form=\\"short\\">août</term><term name=\\"month-09\\" form=\\"short\\">sept.</term><term name=\\"month-10\\" form=\\"short\\">oct.</term><term name=\\"month-11\\" form=\\"short\\">nov.</term><term name=\\"month-12\\" form=\\"short\\">déc.</term>\\n\x3c!-- SEASONS --\x3e<term name=\\"season-01\\">printemps</term><term name=\\"season-02\\">été</term><term name=\\"season-03\\">automne</term><term name=\\"season-04\\">hiver</term></terms>\\n</locale>\\n","de-DE":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"de-DE\\"><info><translator><name>Till A. Heilmann</name></translator><translator><name>Ulrich</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>jakov</name></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\"/><date form=\\"text\\"><date-part name=\\"day\\" form=\\"ordinal\\" suffix=\\" \\"/><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\".\\"/><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\".\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"advance-online-publication\\">advance online publication</term><term name=\\"album\\">album</term><term name=\\"audio-recording\\">audio recording</term><term name=\\"film\\">film</term><term name=\\"henceforth\\">henceforth</term><term name=\\"loc-cit\\">loc. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"no-place\\">no place</term><term name=\\"no-place\\" form=\\"short\\">n.p.</term><term name=\\"no-publisher\\">no publisher</term> \x3c!-- sine nomine --\x3e<term name=\\"no-publisher\\" form=\\"short\\">n.p.</term><term name=\\"on\\">on</term><term name=\\"op-cit\\">op. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"original-work-published\\">original work published</term><term name=\\"personal-communication\\">persönliche Kommunikation</term><term name=\\"podcast\\">podcast</term><term name=\\"podcast-episode\\">podcast episode</term><term name=\\"preprint\\">preprint</term><term name=\\"radio-broadcast\\">radio broadcast</term><term name=\\"radio-series\\">radio series</term><term name=\\"radio-series-episode\\">radio series episode</term><term name=\\"special-issue\\">special issue</term><term name=\\"special-section\\">special section</term><term name=\\"television-broadcast\\">television broadcast</term><term name=\\"television-series\\">television series</term><term name=\\"television-series-episode\\">television series episode</term><term name=\\"video\\">video</term><term name=\\"working-paper\\">working paper</term><term name=\\"accessed\\">zugegriffen</term><term name=\\"and\\">und</term><term name=\\"and others\\">und andere</term><term name=\\"anonymous\\">ohne Autor</term><term name=\\"anonymous\\" form=\\"short\\">o.&#160;A.</term><term name=\\"at\\">auf</term><term name=\\"available at\\">verfügbar unter</term><term name=\\"by\\">von</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">ca.</term><term name=\\"cited\\">zitiert</term><term name=\\"edition\\"><single>Auflage</single><multiple>Auflagen</multiple></term><term name=\\"edition\\" form=\\"short\\">Aufl.</term><term name=\\"et-al\\">u.&#160;a.</term><term name=\\"forthcoming\\">i.&#160;E.</term><term name=\\"from\\">von</term><term name=\\"ibid\\">ebd.</term><term name=\\"in\\">in</term><term name=\\"in press\\">im Druck</term><term name=\\"internet\\">Internet</term><term name=\\"interview\\">Interview</term><term name=\\"letter\\">Brief</term><term name=\\"no date\\">ohne Datum</term><term name=\\"no date\\" form=\\"short\\">o.&#160;J.</term><term name=\\"online\\">online</term><term name=\\"presented at\\">gehalten auf der</term><term name=\\"reference\\"><single>Referenz</single><multiple>Referenzen</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>Ref.</single><multiple>Ref.</multiple></term><term name=\\"retrieved\\">abgerufen</term><term name=\\"scale\\">Maßstab</term><term name=\\"version\\">Version</term>\\n\x3c!-- LONG ITEM TYPE FORMS --\x3e<term name=\\"article\\">preprint</term><term name=\\"article-journal\\">journal article</term><term name=\\"article-magazine\\">magazine article</term><term name=\\"article-newspaper\\">newspaper article</term><term name=\\"bill\\">bill</term><term name=\\"book\\">book</term><term name=\\"broadcast\\">broadcast</term><term name=\\"chapter\\">book chapter</term><term name=\\"classic\\">classic</term><term name=\\"collection\\">collection</term><term name=\\"dataset\\">dataset</term><term name=\\"document\\">document</term><term name=\\"entry\\">entry</term><term name=\\"entry-dictionary\\">dictionary entry</term><term name=\\"entry-encyclopedia\\">encyclopedia entry</term><term name=\\"event\\">event</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\">graphic</term><term name=\\"hearing\\">hearing</term><term name=\\"interview\\">interview</term><term name=\\"legal_case\\">legal case</term><term name=\\"legislation\\">legislation</term><term name=\\"manuscript\\">manuscript</term><term name=\\"map\\">map</term><term name=\\"motion_picture\\">video recording</term><term name=\\"musical_score\\">musical score</term><term name=\\"pamphlet\\">pamphlet</term><term name=\\"paper-conference\\">conference paper</term><term name=\\"patent\\">patent</term><term name=\\"performance\\">performance</term><term name=\\"periodical\\">periodical</term><term name=\\"personal_communication\\">persönliche Kommunikation</term><term name=\\"post\\">post</term><term name=\\"post-weblog\\">blog post</term><term name=\\"regulation\\">regulation</term><term name=\\"report\\">report</term><term name=\\"review\\">review</term><term name=\\"review-book\\">book review</term><term name=\\"software\\">software</term><term name=\\"song\\">audio recording</term><term name=\\"speech\\">presentation</term><term name=\\"standard\\">standard</term><term name=\\"thesis\\">thesis</term><term name=\\"treaty\\">treaty</term><term name=\\"webpage\\">webpage</term>\\n\x3c!-- SHORT ITEM TYPE FORMS --\x3e<term name=\\"article-journal\\" form=\\"short\\">journal art.</term><term name=\\"article-magazine\\" form=\\"short\\">mag. art.</term><term name=\\"article-newspaper\\" form=\\"short\\">newspaper art.</term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">bk. chap.</term><term name=\\"document\\" form=\\"short\\">doc.</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\" form=\\"short\\">graph.</term><term name=\\"interview\\" form=\\"short\\">interv.</term><term name=\\"manuscript\\" form=\\"short\\">MS</term><term name=\\"motion_picture\\" form=\\"short\\">video rec.</term><term name=\\"report\\" form=\\"short\\">rep.</term><term name=\\"review\\" form=\\"short\\">rev.</term><term name=\\"review-book\\" form=\\"short\\">bk. rev.</term><term name=\\"song\\" form=\\"short\\">audio rec.</term>\\n\x3c!-- HISTORICAL ERA TERMS --\x3e<term name=\\"ad\\">&#160;n.&#160;Chr.</term><term name=\\"bc\\">&#160;v.&#160;Chr.</term><term name=\\"bce\\">BCE</term><term name=\\"ce\\">CE</term>\\n\x3c!-- PUNCTUATION --\x3e<term name=\\"open-quote\\">„</term><term name=\\"close-quote\\">“</term><term name=\\"open-inner-quote\\">‚</term><term name=\\"close-inner-quote\\">‘</term><term name=\\"page-range-delimiter\\">–</term><term name=\\"colon\\">:</term><term name=\\"comma\\">,</term><term name=\\"semicolon\\">;</term>\\n\x3c!-- ORDINALS --\x3e<term name=\\"ordinal\\">.</term>\\n\x3c!-- LONG ORDINALS --\x3e<term name=\\"long-ordinal-01\\">erster</term><term name=\\"long-ordinal-02\\">zweiter</term><term name=\\"long-ordinal-03\\">dritter</term><term name=\\"long-ordinal-04\\">vierter</term><term name=\\"long-ordinal-05\\">fünfter</term><term name=\\"long-ordinal-06\\">sechster</term><term name=\\"long-ordinal-07\\">siebter</term><term name=\\"long-ordinal-08\\">achter</term><term name=\\"long-ordinal-09\\">neunter</term><term name=\\"long-ordinal-10\\">zehnter</term>\\n\x3c!-- LONG LOCATOR FORMS --\x3e<term name=\\"act\\">\\t\\t\\t <single>act</single><multiple>acts</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"appendix\\">\\t\\t\\t <single>appendix</single><multiple>appendices</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>article</single><multiple>articles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"canon\\">\\t\\t\\t <single>canon</single><multiple>canons</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"elocation\\">\\t\\t\\t <single>location</single><multiple>locations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"equation\\">\\t\\t\\t <single>equation</single><multiple>equations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"rule\\">\\t\\t\\t <single>rule</single><multiple>rules</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>scene</single><multiple>scenes</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>table</single><multiple>tables</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>title</single><multiple>titles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"book\\"><single>Buch</single><multiple>Bücher</multiple></term><term name=\\"chapter\\"><single>Kapitel</single><multiple>Kapitel</multiple></term><term name=\\"column\\"><single>Spalte</single><multiple>Spalten</multiple></term><term name=\\"figure\\"><single>Abbildung</single><multiple>Abbildungen</multiple></term><term name=\\"folio\\"><single>Blatt</single><multiple>Blätter</multiple></term><term name=\\"issue\\"><single>Nummer</single><multiple>Nummern</multiple></term><term name=\\"line\\"><single>Zeile</single><multiple>Zeilen</multiple></term><term name=\\"note\\"><single>Note</single><multiple>Noten</multiple></term><term name=\\"opus\\"><single>Opus</single><multiple>Opera</multiple></term><term name=\\"page\\"><single>Seite</single><multiple>Seiten</multiple></term><term name=\\"number-of-pages\\"><single>Seite</single><multiple>Seiten</multiple></term><term name=\\"paragraph\\"><single>Absatz</single><multiple>Absätze</multiple></term><term name=\\"part\\"><single>Teil</single><multiple>Teile</multiple></term><term name=\\"section\\"><single>Abschnitt</single><multiple>Abschnitte</multiple></term><term name=\\"sub-verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>Vers</single><multiple>Verse</multiple></term><term name=\\"volume\\"><single>Band</single><multiple>Bände</multiple></term>\\n\x3c!-- SHORT LOCATOR FORMS --\x3e<term name=\\"appendix\\">\\t\\t\\t <single>app.</single><multiple>apps.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>art.</single><multiple>arts.</multiple></term><term name=\\"elocation\\">\\t\\t\\t <single>loc.</single><multiple>locs.</multiple></term><term name=\\"equation\\">\\t\\t\\t <single>eq.</single><multiple>eqs.</multiple></term><term name=\\"rule\\">\\t\\t\\t <single>r.</single><multiple>rr.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>sc.</single><multiple>scs.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>tbl.</single><multiple>tbls.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>tit.</single><multiple>tits.</multiple></term><term name=\\"book\\" form=\\"short\\">B.</term><term name=\\"chapter\\" form=\\"short\\">Kap.</term><term name=\\"column\\" form=\\"short\\">Sp.</term><term name=\\"figure\\" form=\\"short\\">Abb.</term><term name=\\"folio\\" form=\\"short\\">Fol.</term><term name=\\"issue\\" form=\\"short\\">Nr.</term><term name=\\"line\\" form=\\"short\\">Z.</term><term name=\\"note\\" form=\\"short\\">N.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>S.</single><multiple>S.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>S.</single><multiple>S.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">Abs.</term><term name=\\"part\\" form=\\"short\\">Teil</term><term name=\\"section\\" form=\\"short\\">Abschn.</term><term name=\\"sub-verbo\\" form=\\"short\\"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>V.</single><multiple>V.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>Bd.</single><multiple>Bde.</multiple></term>\\n\x3c!-- SYMBOL LOCATOR FORMS --\x3e<term name=\\"paragraph\\" form=\\"symbol\\"><single>¶</single><multiple>¶¶</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>§</single><multiple>§§</multiple></term>\\n\x3c!-- LONG ROLE FORMS --\x3e<term name=\\"chair\\"><single>chair</single><multiple>chairs</multiple></term><term name=\\"compiler\\"><single>compiler</single><multiple>compilers</multiple></term><term name=\\"contributor\\"><single>contributor</single><multiple>contributors</multiple></term><term name=\\"curator\\"><single>curator</single><multiple>curators</multiple></term><term name=\\"executive-producer\\"><single>executive producer</single><multiple>executive producers</multiple></term><term name=\\"guest\\"><single>guest</single><multiple>guests</multiple></term><term name=\\"host\\"><single>host</single><multiple>hosts</multiple></term><term name=\\"narrator\\"><single>narrator</single><multiple>narrators</multiple></term><term name=\\"organizer\\"><single>organizer</single><multiple>organizers</multiple></term><term name=\\"performer\\"><single>performer</single><multiple>performers</multiple></term><term name=\\"producer\\"><single>producer</single><multiple>producers</multiple></term><term name=\\"script-writer\\"><single>writer</single><multiple>writers</multiple></term><term name=\\"series-creator\\"><single>series creator</single><multiple>series creators</multiple></term><term name=\\"director\\"><single>Regisseur</single><multiple>Regisseure</multiple></term><term name=\\"editor\\"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name=\\"collection-editor\\"><single>Reihenherausgeber</single><multiple>Reihenherausgeber</multiple></term><term name=\\"editorial-director\\"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name=\\"illustrator\\"><single>Illustrator</single><multiple>Illustratoren</multiple></term><term name=\\"translator\\"><single>Übersetzer</single><multiple>Übersetzer</multiple></term><term name=\\"editortranslator\\"><single>Herausgeber&#160;&amp; Übersetzer</single><multiple>Herausgeber&#160;&amp; Übersetzer</multiple></term>\\n\x3c!-- SHORT ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"short\\"><single>comp.</single><multiple>comps.</multiple></term><term name=\\"contributor\\" form=\\"short\\"><single>contrib.</single><multiple>contribs.</multiple></term><term name=\\"curator\\" form=\\"short\\"><single>cur.</single><multiple>curs.</multiple></term><term name=\\"executive-producer\\" form=\\"short\\"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name=\\"narrator\\" form=\\"short\\"><single>narr.</single><multiple>narrs.</multiple></term><term name=\\"organizer\\" form=\\"short\\"><single>org.</single><multiple>orgs.</multiple></term><term name=\\"performer\\" form=\\"short\\"><single>perf.</single><multiple>perfs.</multiple></term><term name=\\"producer\\" form=\\"short\\"><single>prod.</single><multiple>prods.</multiple></term><term name=\\"script-writer\\" form=\\"short\\"><single>writ.</single><multiple>writs.</multiple></term><term name=\\"series-creator\\" form=\\"short\\"><single>cre.</single><multiple>cres.</multiple></term><term name=\\"director\\" form=\\"short\\"><single>Reg.</single><multiple>Reg.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name=\\"collection-editor\\" form=\\"short\\"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>Ill.</single><multiple>Ill.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>Übers.</single><multiple>Übers.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>Hrsg.&#160;&amp; Übers.</single><multiple>Hrsg.&#160;&amp; Übers.</multiple></term>\\n\x3c!-- VERB ROLE FORMS --\x3e<term name=\\"chair\\" form=\\"verb\\">chaired by</term><term name=\\"compiler\\" form=\\"verb\\">compiled by</term><term name=\\"contributor\\" form=\\"verb\\">with</term><term name=\\"curator\\" form=\\"verb\\">curated by</term><term name=\\"executive-producer\\" form=\\"verb\\">executive produced by</term><term name=\\"guest\\" form=\\"verb\\">with guest</term><term name=\\"host\\" form=\\"verb\\">hosted by</term><term name=\\"narrator\\" form=\\"verb\\">narrated by</term><term name=\\"organizer\\" form=\\"verb\\">organized by</term><term name=\\"performer\\" form=\\"verb\\">performed by</term><term name=\\"producer\\" form=\\"verb\\">produced by</term><term name=\\"script-writer\\" form=\\"verb\\">written by</term><term name=\\"series-creator\\" form=\\"verb\\">created by</term><term name=\\"container-author\\" form=\\"verb\\">von</term><term name=\\"director\\" form=\\"verb\\">Regie von</term><term name=\\"editor\\" form=\\"verb\\">herausgegeben von</term><term name=\\"collection-editor\\" form=\\"verb\\">herausgegeben von</term><term name=\\"editorial-director\\" form=\\"verb\\">herausgegeben von</term><term name=\\"illustrator\\" form=\\"verb\\">illustriert von</term><term name=\\"interviewer\\" form=\\"verb\\">interviewt von</term><term name=\\"recipient\\" form=\\"verb\\">an</term><term name=\\"reviewed-author\\" form=\\"verb\\">von</term><term name=\\"translator\\" form=\\"verb\\">übersetzt von</term><term name=\\"editortranslator\\" form=\\"verb\\">herausgegeben und übersetzt von</term>\\n\x3c!-- SHORT VERB ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"verb-short\\">comp. by</term><term name=\\"contributor\\" form=\\"verb-short\\">w.</term><term name=\\"curator\\" form=\\"verb-short\\">cur. by</term><term name=\\"executive-producer\\" form=\\"verb-short\\">exec. prod. by</term><term name=\\"guest\\" form=\\"verb-short\\">w. guest</term><term name=\\"host\\" form=\\"verb-short\\">hosted by</term><term name=\\"narrator\\" form=\\"verb-short\\">narr. by</term><term name=\\"organizer\\" form=\\"verb-short\\">org. by</term><term name=\\"performer\\" form=\\"verb-short\\">perf. by</term><term name=\\"producer\\" form=\\"verb-short\\">prod. by</term><term name=\\"script-writer\\" form=\\"verb-short\\">writ. by</term><term name=\\"series-creator\\" form=\\"verb-short\\">cre. by</term><term name=\\"director\\" form=\\"verb-short\\">Reg.</term><term name=\\"editor\\" form=\\"verb-short\\">hg. von</term><term name=\\"collection-editor\\" form=\\"verb-short\\">hg. von</term><term name=\\"editorial-director\\" form=\\"verb-short\\">hg. von</term><term name=\\"illustrator\\" form=\\"verb-short\\">illus. von</term><term name=\\"translator\\" form=\\"verb-short\\">übers. von</term><term name=\\"editortranslator\\" form=\\"verb-short\\">hg.&#160;&amp; übers. von</term>\\n\x3c!-- LONG MONTH FORMS --\x3e<term name=\\"month-01\\">Januar</term><term name=\\"month-02\\">Februar</term><term name=\\"month-03\\">März</term><term name=\\"month-04\\">April</term><term name=\\"month-05\\">Mai</term><term name=\\"month-06\\">Juni</term><term name=\\"month-07\\">Juli</term><term name=\\"month-08\\">August</term><term name=\\"month-09\\">September</term><term name=\\"month-10\\">Oktober</term><term name=\\"month-11\\">November</term><term name=\\"month-12\\">Dezember</term>\\n\x3c!-- SHORT MONTH FORMS --\x3e<term name=\\"month-01\\" form=\\"short\\">Jan.</term><term name=\\"month-02\\" form=\\"short\\">Feb.</term><term name=\\"month-03\\" form=\\"short\\">März</term><term name=\\"month-04\\" form=\\"short\\">Apr.</term><term name=\\"month-05\\" form=\\"short\\">Mai</term><term name=\\"month-06\\" form=\\"short\\">Juni</term><term name=\\"month-07\\" form=\\"short\\">Juli</term><term name=\\"month-08\\" form=\\"short\\">Aug.</term><term name=\\"month-09\\" form=\\"short\\">Sep.</term><term name=\\"month-10\\" form=\\"short\\">Okt.</term><term name=\\"month-11\\" form=\\"short\\">Nov.</term><term name=\\"month-12\\" form=\\"short\\">Dez.</term>\\n\x3c!-- SEASONS --\x3e<term name=\\"season-01\\">Frühjahr</term><term name=\\"season-02\\">Sommer</term><term name=\\"season-03\\">Herbst</term><term name=\\"season-04\\">Winter</term></terms>\\n</locale>\\n","es-ES":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"es-ES\\"><info><translator><name>javimat</name></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\"/><date form=\\"text\\"><date-part name=\\"day\\" suffix=\\" de \\"/><date-part name=\\"month\\" suffix=\\" de \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"advance-online-publication\\">advance online publication</term><term name=\\"album\\">album</term><term name=\\"audio-recording\\">audio recording</term><term name=\\"film\\">film</term><term name=\\"henceforth\\">henceforth</term><term name=\\"loc-cit\\">loc. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"no-place\\">no place</term><term name=\\"no-place\\" form=\\"short\\">n.p.</term><term name=\\"no-publisher\\">no publisher</term> \x3c!-- sine nomine --\x3e<term name=\\"no-publisher\\" form=\\"short\\">n.p.</term><term name=\\"on\\">on</term><term name=\\"op-cit\\">op. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"original-work-published\\">original work published</term><term name=\\"personal-communication\\">comunicación personal</term><term name=\\"podcast\\">podcast</term><term name=\\"podcast-episode\\">podcast episode</term><term name=\\"preprint\\">preprint</term><term name=\\"radio-broadcast\\">radio broadcast</term><term name=\\"radio-series\\">radio series</term><term name=\\"radio-series-episode\\">radio series episode</term><term name=\\"special-issue\\">special issue</term><term name=\\"special-section\\">special section</term><term name=\\"television-broadcast\\">television broadcast</term><term name=\\"television-series\\">television series</term><term name=\\"television-series-episode\\">television series episode</term><term name=\\"video\\">video</term><term name=\\"working-paper\\">working paper</term><term name=\\"accessed\\">accedido</term><term name=\\"and\\">y</term><term name=\\"and others\\">y otros</term><term name=\\"anonymous\\">anónimo</term><term name=\\"anonymous\\" form=\\"short\\">anón.</term><term name=\\"at\\">en</term><term name=\\"available at\\">disponible en</term><term name=\\"by\\">de</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">c.</term><term name=\\"cited\\">citado</term><term name=\\"edition\\"><single>edición</single><multiple>ediciones</multiple></term><term name=\\"edition\\" form=\\"short\\">ed.</term><term name=\\"et-al\\">et&#160;al.</term><term name=\\"forthcoming\\">previsto</term><term name=\\"from\\">a partir de</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">en</term><term name=\\"in press\\">en imprenta</term><term name=\\"internet\\">internet</term><term name=\\"interview\\">entrevista</term><term name=\\"letter\\">carta</term><term name=\\"no date\\">sin fecha</term><term name=\\"no date\\" form=\\"short\\">s.&#160;f.</term><term name=\\"online\\">en línea</term><term name=\\"presented at\\">presentado en</term><term name=\\"reference\\"><single>referencia</single><multiple>referencias</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>ref.</single><multiple>refs.</multiple></term><term name=\\"retrieved\\">recuperado</term><term name=\\"scale\\">escala</term><term name=\\"version\\">versión</term>\\n\x3c!-- LONG ITEM TYPE FORMS --\x3e<term name=\\"article\\">preprint</term><term name=\\"article-journal\\">journal article</term><term name=\\"article-magazine\\">magazine article</term><term name=\\"article-newspaper\\">newspaper article</term><term name=\\"bill\\">bill</term><term name=\\"book\\">book</term><term name=\\"broadcast\\">broadcast</term><term name=\\"chapter\\">book chapter</term><term name=\\"classic\\">classic</term><term name=\\"collection\\">collection</term><term name=\\"dataset\\">dataset</term><term name=\\"document\\">document</term><term name=\\"entry\\">entry</term><term name=\\"entry-dictionary\\">dictionary entry</term><term name=\\"entry-encyclopedia\\">encyclopedia entry</term><term name=\\"event\\">event</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\">graphic</term><term name=\\"hearing\\">hearing</term><term name=\\"interview\\">interview</term><term name=\\"legal_case\\">legal case</term><term name=\\"legislation\\">legislation</term><term name=\\"manuscript\\">manuscript</term><term name=\\"map\\">map</term><term name=\\"motion_picture\\">video recording</term><term name=\\"musical_score\\">musical score</term><term name=\\"pamphlet\\">pamphlet</term><term name=\\"paper-conference\\">conference paper</term><term name=\\"patent\\">patent</term><term name=\\"performance\\">performance</term><term name=\\"periodical\\">periodical</term><term name=\\"personal_communication\\">comunicación personal</term><term name=\\"post\\">post</term><term name=\\"post-weblog\\">blog post</term><term name=\\"regulation\\">regulation</term><term name=\\"report\\">report</term><term name=\\"review\\">review</term><term name=\\"review-book\\">book review</term><term name=\\"software\\">software</term><term name=\\"song\\">audio recording</term><term name=\\"speech\\">presentation</term><term name=\\"standard\\">standard</term><term name=\\"thesis\\">thesis</term><term name=\\"treaty\\">treaty</term><term name=\\"webpage\\">webpage</term>\\n\x3c!-- SHORT ITEM TYPE FORMS --\x3e<term name=\\"article-journal\\" form=\\"short\\">journal art.</term><term name=\\"article-magazine\\" form=\\"short\\">mag. art.</term><term name=\\"article-newspaper\\" form=\\"short\\">newspaper art.</term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">bk. chap.</term><term name=\\"document\\" form=\\"short\\">doc.</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\" form=\\"short\\">graph.</term><term name=\\"interview\\" form=\\"short\\">interv.</term><term name=\\"manuscript\\" form=\\"short\\">MS</term><term name=\\"motion_picture\\" form=\\"short\\">video rec.</term><term name=\\"report\\" form=\\"short\\">rep.</term><term name=\\"review\\" form=\\"short\\">rev.</term><term name=\\"review-book\\" form=\\"short\\">bk. rev.</term><term name=\\"song\\" form=\\"short\\">audio rec.</term>\\n\x3c!-- HISTORICAL ERA TERMS --\x3e<term name=\\"ad\\">d.&#160;C.</term><term name=\\"bc\\">a.&#160;C.</term><term name=\\"bce\\">BCE</term><term name=\\"ce\\">CE</term>\\n\x3c!-- PUNCTUATION --\x3e<term name=\\"open-quote\\">«</term><term name=\\"close-quote\\">»</term><term name=\\"open-inner-quote\\">“</term><term name=\\"close-inner-quote\\">”</term><term name=\\"page-range-delimiter\\">-</term><term name=\\"colon\\">:</term><term name=\\"comma\\">,</term><term name=\\"semicolon\\">;</term>\\n\x3c!-- ORDINALS --\x3e<term name=\\"ordinal\\">.ª</term>\\n\x3c!-- LONG ORDINALS --\x3e<term name=\\"long-ordinal-01\\">primera</term><term name=\\"long-ordinal-02\\">segunda</term><term name=\\"long-ordinal-03\\">tercera</term><term name=\\"long-ordinal-04\\">cuarta</term><term name=\\"long-ordinal-05\\">quinta</term><term name=\\"long-ordinal-06\\">sexta</term><term name=\\"long-ordinal-07\\">séptima</term><term name=\\"long-ordinal-08\\">octava</term><term name=\\"long-ordinal-09\\">novena</term><term name=\\"long-ordinal-10\\">décima</term>\\n\x3c!-- LONG LOCATOR FORMS --\x3e<term name=\\"act\\">\\t\\t\\t <single>act</single><multiple>acts</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"appendix\\">\\t\\t\\t <single>appendix</single><multiple>appendices</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>article</single><multiple>articles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"canon\\">\\t\\t\\t <single>canon</single><multiple>canons</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"elocation\\">\\t\\t\\t <single>location</single><multiple>locations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"equation\\">\\t\\t\\t <single>equation</single><multiple>equations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"rule\\">\\t\\t\\t <single>rule</single><multiple>rules</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>scene</single><multiple>scenes</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>table</single><multiple>tables</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>title</single><multiple>titles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"book\\"><single>libro</single><multiple>libros</multiple></term><term name=\\"chapter\\"><single>capítulo</single><multiple>capítulos</multiple></term><term name=\\"column\\"><single>columna</single><multiple>columnas</multiple></term><term name=\\"figure\\"><single>figura</single><multiple>figuras</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folios</multiple></term><term name=\\"issue\\"><single>número</single><multiple>números</multiple></term><term name=\\"line\\"><single>línea</single><multiple>líneas</multiple></term><term name=\\"note\\"><single>nota</single><multiple>notas</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opera</multiple></term><term name=\\"page\\"><single>página</single><multiple>páginas</multiple></term><term name=\\"number-of-pages\\"><single>página</single><multiple>páginas</multiple></term><term name=\\"paragraph\\"><single>párrafo</single><multiple>párrafos</multiple></term><term name=\\"part\\"><single>parte</single><multiple>partes</multiple></term><term name=\\"section\\"><single>sección</single><multiple>secciones</multiple></term><term name=\\"sub-verbo\\"><single>sub voce</single><multiple>sub vocibus</multiple></term><term name=\\"verse\\"><single>verso</single><multiple>versos</multiple></term><term name=\\"volume\\"><single>volumen</single><multiple>volúmenes</multiple></term>\\n\x3c!-- SHORT LOCATOR FORMS --\x3e<term name=\\"appendix\\">\\t\\t\\t <single>app.</single><multiple>apps.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>art.</single><multiple>arts.</multiple></term><term name=\\"elocation\\">\\t\\t\\t <single>loc.</single><multiple>locs.</multiple></term><term name=\\"equation\\">\\t\\t\\t <single>eq.</single><multiple>eqs.</multiple></term><term name=\\"rule\\">\\t\\t\\t <single>r.</single><multiple>rr.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>sc.</single><multiple>scs.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>tbl.</single><multiple>tbls.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>tit.</single><multiple>tits.</multiple></term><term name=\\"book\\" form=\\"short\\">lib.</term><term name=\\"chapter\\" form=\\"short\\">cap.</term><term name=\\"column\\" form=\\"short\\">col.</term><term name=\\"figure\\" form=\\"short\\">fig.</term><term name=\\"folio\\" form=\\"short\\">f.</term><term name=\\"issue\\" form=\\"short\\">n.º</term><term name=\\"line\\" form=\\"short\\">l.</term><term name=\\"note\\" form=\\"short\\">n.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">párr.</term><term name=\\"part\\" form=\\"short\\">pt.</term><term name=\\"section\\" form=\\"short\\">sec.</term><term name=\\"sub-verbo\\" form=\\"short\\"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>vv.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vols.</multiple></term>\\n\x3c!-- SYMBOL LOCATOR FORMS --\x3e<term name=\\"paragraph\\" form=\\"symbol\\"><single>§</single><multiple>§</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>§</single><multiple>§</multiple></term>\\n\x3c!-- LONG ROLE FORMS --\x3e<term name=\\"chair\\"><single>chair</single><multiple>chairs</multiple></term><term name=\\"compiler\\"><single>compiler</single><multiple>compilers</multiple></term><term name=\\"contributor\\"><single>contributor</single><multiple>contributors</multiple></term><term name=\\"curator\\"><single>curator</single><multiple>curators</multiple></term><term name=\\"executive-producer\\"><single>executive producer</single><multiple>executive producers</multiple></term><term name=\\"guest\\"><single>guest</single><multiple>guests</multiple></term><term name=\\"host\\"><single>host</single><multiple>hosts</multiple></term><term name=\\"narrator\\"><single>narrator</single><multiple>narrators</multiple></term><term name=\\"organizer\\"><single>organizer</single><multiple>organizers</multiple></term><term name=\\"performer\\"><single>performer</single><multiple>performers</multiple></term><term name=\\"producer\\"><single>producer</single><multiple>producers</multiple></term><term name=\\"script-writer\\"><single>writer</single><multiple>writers</multiple></term><term name=\\"series-creator\\"><single>series creator</single><multiple>series creators</multiple></term><term name=\\"director\\"><single>director</single><multiple>directores</multiple></term><term name=\\"editor\\"><single>editor</single><multiple>editores</multiple></term><term name=\\"editorial-director\\"><single>editor</single><multiple>editores</multiple></term><term name=\\"illustrator\\"><single>ilustrador</single><multiple>ilustradores</multiple></term><term name=\\"translator\\"><single>traductor</single><multiple>traductores</multiple></term><term name=\\"editortranslator\\"><single>editor y traductor</single><multiple>editores y traductores</multiple></term>\\n\x3c!-- SHORT ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"short\\"><single>comp.</single><multiple>comps.</multiple></term><term name=\\"contributor\\" form=\\"short\\"><single>contrib.</single><multiple>contribs.</multiple></term><term name=\\"curator\\" form=\\"short\\"><single>cur.</single><multiple>curs.</multiple></term><term name=\\"executive-producer\\" form=\\"short\\"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name=\\"narrator\\" form=\\"short\\"><single>narr.</single><multiple>narrs.</multiple></term><term name=\\"organizer\\" form=\\"short\\"><single>org.</single><multiple>orgs.</multiple></term><term name=\\"performer\\" form=\\"short\\"><single>perf.</single><multiple>perfs.</multiple></term><term name=\\"producer\\" form=\\"short\\"><single>prod.</single><multiple>prods.</multiple></term><term name=\\"script-writer\\" form=\\"short\\"><single>writ.</single><multiple>writs.</multiple></term><term name=\\"series-creator\\" form=\\"short\\"><single>cre.</single><multiple>cres.</multiple></term><term name=\\"director\\" form=\\"short\\"><single>dir.</single><multiple>dirs.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ilust.</single><multiple>ilusts.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>trad.</single><multiple>trads.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>ed. y trad.</single><multiple>eds. y trads.</multiple></term>\\n\x3c!-- VERB ROLE FORMS --\x3e<term name=\\"chair\\" form=\\"verb\\">chaired by</term><term name=\\"compiler\\" form=\\"verb\\">compiled by</term><term name=\\"contributor\\" form=\\"verb\\">with</term><term name=\\"curator\\" form=\\"verb\\">curated by</term><term name=\\"executive-producer\\" form=\\"verb\\">executive produced by</term><term name=\\"guest\\" form=\\"verb\\">with guest</term><term name=\\"host\\" form=\\"verb\\">hosted by</term><term name=\\"narrator\\" form=\\"verb\\">narrated by</term><term name=\\"organizer\\" form=\\"verb\\">organized by</term><term name=\\"performer\\" form=\\"verb\\">performed by</term><term name=\\"producer\\" form=\\"verb\\">produced by</term><term name=\\"script-writer\\" form=\\"verb\\">written by</term><term name=\\"series-creator\\" form=\\"verb\\">created by</term><term name=\\"container-author\\" form=\\"verb\\">de</term><term name=\\"director\\" form=\\"verb\\">dirigido por</term><term name=\\"editor\\" form=\\"verb\\">editado por</term><term name=\\"editorial-director\\" form=\\"verb\\">editado por</term><term name=\\"illustrator\\" form=\\"verb\\">ilustrado por</term><term name=\\"interviewer\\" form=\\"verb\\">entrevistado por</term><term name=\\"recipient\\" form=\\"verb\\">a</term><term name=\\"reviewed-author\\" form=\\"verb\\">por</term><term name=\\"translator\\" form=\\"verb\\">traducido por</term><term name=\\"editortranslator\\" form=\\"verb\\">editado y traducido por</term>\\n\x3c!-- SHORT VERB ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"verb-short\\">comp. by</term><term name=\\"contributor\\" form=\\"verb-short\\">w.</term><term name=\\"curator\\" form=\\"verb-short\\">cur. by</term><term name=\\"executive-producer\\" form=\\"verb-short\\">exec. prod. by</term><term name=\\"guest\\" form=\\"verb-short\\">w. guest</term><term name=\\"host\\" form=\\"verb-short\\">hosted by</term><term name=\\"narrator\\" form=\\"verb-short\\">narr. by</term><term name=\\"organizer\\" form=\\"verb-short\\">org. by</term><term name=\\"performer\\" form=\\"verb-short\\">perf. by</term><term name=\\"producer\\" form=\\"verb-short\\">prod. by</term><term name=\\"script-writer\\" form=\\"verb-short\\">writ. by</term><term name=\\"series-creator\\" form=\\"verb-short\\">cre. by</term><term name=\\"director\\" form=\\"verb-short\\">dir.</term><term name=\\"editor\\" form=\\"verb-short\\">ed.</term><term name=\\"editorial-director\\" form=\\"verb-short\\">ed.</term><term name=\\"illustrator\\" form=\\"verb-short\\">ilust.</term><term name=\\"translator\\" form=\\"verb-short\\">trad.</term><term name=\\"editortranslator\\" form=\\"verb-short\\">ed. y trad.</term>\\n\x3c!-- LONG MONTH FORMS --\x3e<term name=\\"month-01\\">enero</term><term name=\\"month-02\\">febrero</term><term name=\\"month-03\\">marzo</term><term name=\\"month-04\\">abril</term><term name=\\"month-05\\">mayo</term><term name=\\"month-06\\">junio</term><term name=\\"month-07\\">julio</term><term name=\\"month-08\\">agosto</term><term name=\\"month-09\\">septiembre</term><term name=\\"month-10\\">octubre</term><term name=\\"month-11\\">noviembre</term><term name=\\"month-12\\">diciembre</term>\\n\x3c!-- SHORT MONTH FORMS --\x3e<term name=\\"month-01\\" form=\\"short\\">ene.</term><term name=\\"month-02\\" form=\\"short\\">feb.</term><term name=\\"month-03\\" form=\\"short\\">mar.</term><term name=\\"month-04\\" form=\\"short\\">abr.</term><term name=\\"month-05\\" form=\\"short\\">may</term><term name=\\"month-06\\" form=\\"short\\">jun.</term><term name=\\"month-07\\" form=\\"short\\">jul.</term><term name=\\"month-08\\" form=\\"short\\">ago.</term><term name=\\"month-09\\" form=\\"short\\">sep.</term><term name=\\"month-10\\" form=\\"short\\">oct.</term><term name=\\"month-11\\" form=\\"short\\">nov.</term><term name=\\"month-12\\" form=\\"short\\">dic.</term>\\n\x3c!-- SEASONS --\x3e<term name=\\"season-01\\">primavera</term><term name=\\"season-02\\">verano</term><term name=\\"season-03\\">otoño</term><term name=\\"season-04\\">invierno</term></terms>\\n</locale>\\n"}'),a=new r.D5.Register(s),n=JSON.parse('{"apa":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<style xmlns=\\"http://purl.org/net/xbiblio/csl\\" class=\\"in-text\\" version=\\"1.0\\" demote-non-dropping-particle=\\"never\\" page-range-format=\\"expanded\\"><info><title>American Psychological Association 7th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href=\\"http://www.zotero.org/styles/apa\\" rel=\\"self\\"/><link href=\\"http://www.zotero.org/styles/apa-6th-edition\\" rel=\\"template\\"/><link href=\\"https://apastyle.apa.org/style-grammar-guidelines/references/examples\\" rel=\\"documentation\\"/><author><name>Brenton M. Wiernik</name><email>zotero@wiernik.org</email></author><category citation-format=\\"author-date\\"/><category field=\\"psychology\\"/><category field=\\"generic-base\\"/><updated>2022-01-31T14:43:56+00:00</updated><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\\"en\\"><terms><term name=\\"editortranslator\\" form=\\"short\\"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name=\\"translator\\" form=\\"short\\">trans.</term><term name=\\"interviewer\\" form=\\"short\\"><single>interviewer</single><multiple>interviewers</multiple></term><term name=\\"collection-editor\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"circa\\" form=\\"short\\">ca.</term><term name=\\"bc\\"> B.C.E.</term><term name=\\"ad\\"> C.E.</term><term name=\\"letter\\">personal communication</term><term name=\\"letter\\" form=\\"short\\">letter</term><term name=\\"issue\\" form=\\"long\\"><single>issue</single><multiple>issues</multiple></term></terms></locale><locale xml:lang=\\"af\\"><terms><term name=\\"letter\\">persoonlike kommunikasie</term><term name=\\"letter\\" form=\\"short\\">brief</term></terms></locale><locale xml:lang=\\"ar\\"><terms><term name=\\"letter\\">اتصال شخصي</term><term name=\\"letter\\" form=\\"short\\">خطاب</term></terms></locale><locale xml:lang=\\"bg\\"><terms><term name=\\"letter\\">лична комуникация</term><term name=\\"letter\\" form=\\"short\\">писмо</term></terms></locale><locale xml:lang=\\"ca\\"><terms><term name=\\"letter\\">comunicació personal</term><term name=\\"letter\\" form=\\"short\\">carta</term></terms></locale><locale xml:lang=\\"cs\\"><terms><term name=\\"letter\\">osobní komunikace</term><term name=\\"letter\\" form=\\"short\\">dopis</term></terms></locale><locale xml:lang=\\"cy\\"><terms><term name=\\"letter\\">cyfathrebu personol</term><term name=\\"letter\\" form=\\"short\\">llythyr</term></terms></locale><locale xml:lang=\\"da\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">personlig kommunikation</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"de\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">persönliche Kommunikation</term><term name=\\"letter\\" form=\\"short\\">Brief</term></terms></locale><locale xml:lang=\\"el\\"><terms><term name=\\"letter\\">προσωπική επικοινωνία</term><term name=\\"letter\\" form=\\"short\\">επιστολή</term></terms></locale><locale xml:lang=\\"es\\"><terms><term name=\\"from\\">de</term><term name=\\"letter\\">comunicación personal</term><term name=\\"letter\\" form=\\"short\\">carta</term></terms></locale><locale xml:lang=\\"et\\"><terms><term name=\\"letter\\">isiklik suhtlus</term><term name=\\"letter\\" form=\\"short\\">kiri</term></terms></locale><locale xml:lang=\\"eu\\"><terms><term name=\\"letter\\">komunikazio pertsonala</term><term name=\\"letter\\" form=\\"short\\">gutuna</term></terms></locale><locale xml:lang=\\"fa\\"><terms><term name=\\"letter\\">ارتباط شخصی</term><term name=\\"letter\\" form=\\"short\\">نامه</term></terms></locale><locale xml:lang=\\"fi\\"><terms><term name=\\"letter\\">henkilökohtainen viestintä</term><term name=\\"letter\\" form=\\"short\\">kirje</term></terms></locale><locale xml:lang=\\"fr\\"><terms><term name=\\"letter\\">communication personnelle</term><term name=\\"letter\\" form=\\"short\\">lettre</term><term name=\\"editor\\" form=\\"short\\"><single>éd.</single><multiple>éds.</multiple></term></terms></locale><locale xml:lang=\\"he\\"><terms><term name=\\"letter\\">תקשורת אישית</term><term name=\\"letter\\" form=\\"short\\">מכתב</term></terms></locale><locale xml:lang=\\"hr\\"><terms><term name=\\"letter\\">osobna komunikacija</term><term name=\\"letter\\" form=\\"short\\">pismo</term></terms></locale><locale xml:lang=\\"hu\\"><terms><term name=\\"letter\\">személyes kommunikáció</term><term name=\\"letter\\" form=\\"short\\">levél</term></terms></locale><locale xml:lang=\\"id\\"><terms><term name=\\"letter\\">komunikasi pribadi</term><term name=\\"letter\\" form=\\"short\\">surat</term></terms></locale><locale xml:lang=\\"is\\"><terms><term name=\\"letter\\">persónuleg samskipti</term><term name=\\"letter\\" form=\\"short\\">bréf</term></terms></locale><locale xml:lang=\\"it\\"><terms><term name=\\"letter\\">comunicazione personale</term><term name=\\"letter\\" form=\\"short\\">lettera</term></terms></locale><locale xml:lang=\\"ja\\"><terms><term name=\\"letter\\">個人的なやり取り</term><term name=\\"letter\\" form=\\"short\\">手紙</term></terms></locale><locale xml:lang=\\"ko\\"><terms><term name=\\"letter\\">개인 서신</term><term name=\\"letter\\" form=\\"short\\">편지</term></terms></locale><locale xml:lang=\\"la\\"><terms><term name=\\"letter\\"/><term name=\\"letter\\" form=\\"short\\">epistula</term></terms></locale><locale xml:lang=\\"lt\\"><terms><term name=\\"letter\\">communicationis personalis</term><term name=\\"letter\\" form=\\"short\\"/></terms></locale><locale xml:lang=\\"lv\\"><terms><term name=\\"letter\\">personīga komunikācija</term><term name=\\"letter\\" form=\\"short\\">vēstule</term></terms></locale><locale xml:lang=\\"mn\\"><terms><term name=\\"letter\\">хувийн харилцаа холбоо</term><term name=\\"letter\\" form=\\"short\\">захиа</term></terms></locale><locale xml:lang=\\"nb\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">personlig kommunikasjon</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"nl\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">persoonlijke communicatie</term><term name=\\"letter\\" form=\\"short\\">brief</term></terms></locale><locale xml:lang=\\"nn\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">personlig kommunikasjon</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"pl\\"><terms><term name=\\"letter\\">osobista komunikacja</term><term name=\\"letter\\" form=\\"short\\">list</term></terms></locale><locale xml:lang=\\"pt\\"><terms><term name=\\"letter\\">comunicação pessoal</term><term name=\\"letter\\" form=\\"short\\">carta</term></terms></locale><locale xml:lang=\\"ro\\"><terms><term name=\\"letter\\">comunicare personală</term><term name=\\"letter\\" form=\\"short\\">scrisoare</term></terms></locale><locale xml:lang=\\"ru\\"><terms><term name=\\"letter\\">личная переписка</term><term name=\\"letter\\" form=\\"short\\">письмо</term></terms></locale><locale xml:lang=\\"sk\\"><terms><term name=\\"letter\\">osobná komunikácia</term><term name=\\"letter\\" form=\\"short\\">list</term></terms></locale><locale xml:lang=\\"sl\\"><terms><term name=\\"letter\\">osebna komunikacija</term><term name=\\"letter\\" form=\\"short\\">pismo</term></terms></locale><locale xml:lang=\\"sr\\"><terms><term name=\\"letter\\">лична комуникација</term><term name=\\"letter\\" form=\\"short\\">писмо</term></terms></locale><locale xml:lang=\\"sv\\"><terms><term name=\\"letter\\">personlig kommunikation</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"th\\"><terms><term name=\\"letter\\">การสื่อสารส่วนบุคคล</term><term name=\\"letter\\" form=\\"short\\">จดหมาย</term></terms></locale><locale xml:lang=\\"tr\\"><terms><term name=\\"letter\\">kişisel iletişim</term><term name=\\"letter\\" form=\\"short\\">mektup</term></terms></locale><locale xml:lang=\\"uk\\"><terms><term name=\\"letter\\">особисте спілкування</term><term name=\\"letter\\" form=\\"short\\">лист</term></terms></locale><locale xml:lang=\\"vi\\"><terms><term name=\\"letter\\">giao tiếp cá nhân</term><term name=\\"letter\\" form=\\"short\\">thư</term></terms></locale><locale xml:lang=\\"zh-CN\\"><terms><term name=\\"letter\\">的私人交流</term><term name=\\"letter\\" form=\\"short\\">信函</term></terms></locale><locale xml:lang=\\"zh-TW\\"><terms><term name=\\"letter\\">私人通訊</term><term name=\\"letter\\" form=\\"short\\">信函</term></terms></locale>\x3c!-- General categories of item types:Periodical: article-journal article-magazine article-newspaper post-weblog review review-bookPeriodical or Booklike: paper-conferenceBooklike: article book broadcast chapter dataset entry entry-dictionary entry-encyclopedia figure graphic interview manuscript map motion_picture musical_score pamphlet patent personal_communication report song speech thesis post webpageLegal: bill legal_case legislation treaty--\x3e\x3c!-- APA references contain four parts: author, date, title, source --\x3e<macro name=\\"author-bib\\"><names variable=\\"composer\\" delimiter=\\", \\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><substitute><names variable=\\"author\\"/><names variable=\\"illustrator\\"/><names variable=\\"director\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><choose><if variable=\\"container-title\\"><choose><if type=\\"book entry entry-dictionary entry-encyclopedia\\" match=\\"any\\"><choose><if variable=\\"title\\"><group delimiter=\\" \\"><text macro=\\"title\\"/><text macro=\\"parenthetical\\"/></group></if><else><text macro=\\"title-and-descriptions\\"/></else></choose></if></choose></if></choose>\x3c!-- Test for editortranslator and put that first as that becomes available --\x3e<names variable=\\"editor\\" delimiter=\\", \\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><names variable=\\"editorial-director\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><names variable=\\"collection-editor\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><choose><if variable=\\"title\\"><group delimiter=\\" \\"><text macro=\\"title\\"/><text macro=\\"parenthetical\\"/></group></if><else><text macro=\\"title-and-descriptions\\"/></else></choose></substitute></names></macro><macro name=\\"author-intext\\"><choose><if type=\\"bill legal_case legislation treaty\\" match=\\"any\\"><text macro=\\"title-intext\\"/></if><else-if type=\\"interview personal_communication\\" match=\\"any\\"><choose>\x3c!-- These variables indicate that the letter is retrievable by the reader. If not, then use the APA in-text-only personal communication format --\x3e<if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><group delimiter=\\", \\"><names variable=\\"author\\"><name and=\\"symbol\\" delimiter=\\", \\" initialize-with=\\". \\"/><substitute><text macro=\\"title-intext\\"/></substitute></names>\x3c!-- Replace with term=\\"personal-communication\\" if that becomes available --\x3e<text term=\\"letter\\"/></group></if><else><names variable=\\"author\\" delimiter=\\", \\"><name form=\\"short\\" and=\\"symbol\\" delimiter=\\", \\" initialize-with=\\". \\"/><substitute><text macro=\\"title-intext\\"/></substitute></names></else></choose></else-if><else><names variable=\\"composer\\" delimiter=\\", \\"><name form=\\"short\\" and=\\"symbol\\" delimiter=\\", \\" initialize-with=\\". \\"/><substitute><names variable=\\"author\\"/><names variable=\\"illustrator\\"/><names variable=\\"director\\"/><choose><if variable=\\"container-title\\"><choose><if type=\\"book entry entry-dictionary entry-encyclopedia\\" match=\\"any\\"><text macro=\\"title-intext\\"/></if></choose></if></choose><names variable=\\"editor\\"/><names variable=\\"editorial-director\\"/><text macro=\\"title-intext\\"/></substitute></names></else></choose></macro><macro name=\\"date-bib\\"><group delimiter=\\" \\" prefix=\\"(\\" suffix=\\")\\"><choose><if is-uncertain-date=\\"issued\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><group><choose><if variable=\\"issued\\"><date variable=\\"issued\\"><date-part name=\\"year\\"/></date><text variable=\\"year-suffix\\"/><choose><if type=\\"article-magazine article-newspaper broadcast interview motion_picture pamphlet personal_communication post post-weblog song speech webpage\\" match=\\"any\\">\x3c!-- Many video and audio examples in manual give full dates. Err on the side of too much information. --\x3e<date variable=\\"issued\\"><date-part prefix=\\", \\" name=\\"month\\"/><date-part prefix=\\" \\" name=\\"day\\"/></date></if><else-if type=\\"paper-conference\\">\x3c!-- Capture \'speech\' stored as \'paper-conference\' --\x3e<choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\"><date variable=\\"issued\\"><date-part prefix=\\", \\" name=\\"month\\"/><date-part prefix=\\" \\" name=\\"day\\"/></date></if></choose></else-if>\x3c!-- Only year: article article-journal book chapter entry entry-dictionary entry-encyclopedia dataset figure graphic manuscript map musical_score paper-conference[published] patent report review review-book thesis --\x3e</choose></if><else-if variable=\\"status\\"><group><text variable=\\"status\\" text-case=\\"lowercase\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></group></else-if><else><text term=\\"no date\\" form=\\"short\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></else></choose></group></group></macro><macro name=\\"date-sort-group\\">\x3c!-- APA sorts 1. no-date items, 2. items with dates, 3. in-press (status) items --\x3e<choose><if variable=\\"issued\\"><text value=\\"1\\"/></if><else-if variable=\\"status\\"><text value=\\"2\\"/></else-if><else><text value=\\"0\\"/></else></choose></macro><macro name=\\"date-sort-date\\"><date variable=\\"issued\\" form=\\"numeric\\"/></macro><macro name=\\"date-intext\\"><choose><if variable=\\"issued\\"><group delimiter=\\"/\\"><group delimiter=\\" \\"><choose><if is-uncertain-date=\\"original-date\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><date variable=\\"original-date\\"><date-part name=\\"year\\"/></date></group><group delimiter=\\" \\"><choose><if is-uncertain-date=\\"issued\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><group><choose><if type=\\"interview personal_communication\\" match=\\"any\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\">\x3c!-- These variables indicate that the communication is retrievable by the reader. If not, then use the in-text-only personal communication format --\x3e<date variable=\\"issued\\" form=\\"text\\"/></if><else><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></else></choose></if><else><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></else></choose><text variable=\\"year-suffix\\"/></group></group></group></if><else-if variable=\\"status\\"><text variable=\\"status\\" text-case=\\"lowercase\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></else-if><else><text term=\\"no date\\" form=\\"short\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></else></choose></macro>\x3c!-- APA has two description elements following the title:title (parenthetical) [bracketed]  --\x3e<macro name=\\"title-and-descriptions\\"><choose><if variable=\\"title\\"><group delimiter=\\" \\"><text macro=\\"title\\"/><text macro=\\"parenthetical\\"/><text macro=\\"bracketed\\"/></group></if><else><group delimiter=\\" \\"><text macro=\\"bracketed\\"/><text macro=\\"parenthetical\\"/></group></else></choose></macro><macro name=\\"title\\"><choose><if type=\\"post webpage\\" match=\\"any\\">\x3c!-- Webpages are always italicized --\x3e<text variable=\\"title\\" font-style=\\"italic\\"/></if><else-if variable=\\"container-title\\" match=\\"any\\">\x3c!-- Other types are italicized based on presence of container-title.Assume that review and review-book are published in periodicals/blogs,not just on a web page (ex. 69) --\x3e<text variable=\\"title\\"/></else-if><else><choose><if type=\\"article-journal article-magazine article-newspaper post-weblog review review-book\\" match=\\"any\\"><text variable=\\"title\\" font-style=\\"italic\\"/></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><group delimiter=\\": \\" font-style=\\"italic\\"><text variable=\\"title\\"/>\x3c!-- Replace with volume-title as that becomes available --\x3e<choose><if is-numeric=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose></group></if><else><text variable=\\"title\\" font-style=\\"italic\\"/></else></choose></else-if><else><group delimiter=\\": \\" font-style=\\"italic\\"><text variable=\\"title\\"/>\x3c!-- Replace with volume-title as that becomes available --\x3e<choose><if is-numeric=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose></group></else></choose></else></choose></macro><macro name=\\"title-intext\\"><choose><if variable=\\"title\\" match=\\"none\\"><text macro=\\"bracketed-intext\\" prefix=\\"[\\" suffix=\\"]\\"/></if><else-if type=\\"bill\\">\x3c!-- If a bill has no number or container-title, assume it is a hearing; italic --\x3e<choose><if variable=\\"number container-title\\" match=\\"none\\"><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></if><else-if variable=\\"title\\"><text variable=\\"title\\" form=\\"short\\" text-case=\\"title\\"/></else-if><else><group delimiter=\\" \\"><text variable=\\"genre\\"/><group delimiter=\\" \\"><choose><if variable=\\"chapter-number container-title\\" match=\\"none\\">\x3c!-- Replace with label variable=\\"number\\" as that becomes available --\x3e<text term=\\"issue\\" form=\\"short\\"/></if></choose><text variable=\\"number\\"/></group></group></else></choose></else-if><else-if type=\\"legal_case\\" match=\\"any\\">\x3c!-- Cases are italicized --\x3e<text variable=\\"title\\" font-style=\\"italic\\"/></else-if><else-if type=\\"legislation treaty\\" match=\\"any\\">\x3c!-- Legislation and treaties not italicized or quoted --\x3e<text variable=\\"title\\" form=\\"short\\" text-case=\\"title\\"/></else-if><else-if type=\\"post webpage\\" match=\\"any\\">\x3c!-- Webpages are always italicized --\x3e<text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></else-if><else-if variable=\\"container-title\\" match=\\"any\\">\x3c!-- Other types are italicized or quoted based on presence of container-title. As in title macro. --\x3e<text variable=\\"title\\" form=\\"short\\" quotes=\\"true\\" text-case=\\"title\\"/></else-if><else><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></else></choose></macro><macro name=\\"parenthetical\\">\x3c!-- (Secondary contributors; Database location; Genre no. 123; Report Series 123, Version, Edition, Volume, Page) --\x3e<group prefix=\\"(\\" suffix=\\")\\"><choose><if type=\\"patent\\">\x3c!-- authority: U.S. ; genre: patent ; number: 123,445 --\x3e<group delimiter=\\" \\"><text variable=\\"authority\\" form=\\"short\\"/><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else>\x3c!-- This should be localized --\x3e<text value=\\"patent\\" text-case=\\"capitalize-first\\"/></else></choose><group delimiter=\\" \\">\x3c!-- Replace with label variable=\\"number\\" if that becomes available --\x3e<text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"number\\"/></group></group></if><else-if type=\\"post webpage\\" match=\\"any\\">\x3c!-- For post webpage, container-title is treated as publisher --\x3e<group delimiter=\\"; \\"><text macro=\\"secondary-contributors\\"/><text macro=\\"database-location\\"/><text macro=\\"number\\"/><text macro=\\"locators-booklike\\"/></group></else-if><else-if variable=\\"container-title\\"><group delimiter=\\"; \\"><text macro=\\"secondary-contributors\\"/><choose><if type=\\"broadcast graphic map motion_picture song\\" match=\\"any\\">\x3c!-- For audiovisual media, number information comes after title, not container-title --\x3e<text macro=\\"number\\"/></if></choose></group></else-if><else><group delimiter=\\"; \\"><text macro=\\"secondary-contributors\\"/><text macro=\\"database-location\\"/><text macro=\\"number\\"/><text macro=\\"locators-booklike\\"/></group></else></choose></group></macro><macro name=\\"parenthetical-container\\"><choose><if variable=\\"container-title\\" match=\\"any\\"><group prefix=\\"(\\" suffix=\\")\\"><group delimiter=\\"; \\"><text macro=\\"database-location\\"/><choose><if type=\\"broadcast graphic map motion_picture song\\" match=\\"none\\">\x3c!-- For audiovisual media, number information comes after title, not container-title --\x3e<text macro=\\"number\\"/></if></choose><text macro=\\"locators-booklike\\"/></group></group></if></choose></macro><macro name=\\"bracketed\\">\x3c!-- [Descriptive information] --\x3e\x3c!-- If there is a number, genre is already printed in macro=\\"number\\" --\x3e<group prefix=\\"[\\" suffix=\\"]\\"><choose><if variable=\\"reviewed-author reviewed-title\\" type=\\"review review-book\\" match=\\"any\\">\x3c!-- Reviewed item --\x3e<group delimiter=\\"; \\"><group delimiter=\\", \\"><group delimiter=\\" \\">\x3c!-- Assume that genre is entered as \'Review of the book\' or similar --\x3e<choose><if variable=\\"number\\" match=\\"none\\"><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></else-if><else>\x3c!-- Replace with term=\\"review\\" as that becomes available --\x3e<text value=\\"Review of\\"/></else></choose></if><else><choose><if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if><else>\x3c!-- Replace with term=\\"review\\" as that becomes available --\x3e<text value=\\"Review of\\"/></else></choose></else></choose><text macro=\\"reviewed-title\\"/></group><names variable=\\"reviewed-author\\"><label form=\\"verb-short\\" suffix=\\" \\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></group><choose><if variable=\\"genre\\" match=\\"any\\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></if><else-if type=\\"thesis\\">\x3c!-- Thesis type and institution --\x3e<group delimiter=\\"; \\"><choose><if variable=\\"number\\" match=\\"none\\"><group delimiter=\\", \\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><choose><if variable=\\"archive DOI URL\\" match=\\"any\\">\x3c!-- Include the university in brackets if thesis is published --\x3e<text variable=\\"publisher\\"/></if></choose></group></if></choose><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></group></else-if><else-if variable=\\"interviewer\\" type=\\"interview\\" match=\\"any\\">\x3c!-- Interview information --\x3e<choose><if variable=\\"title\\"><text macro=\\"format\\"/></if><else-if variable=\\"genre\\"><group delimiter=\\"; \\"><group delimiter=\\" \\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><group delimiter=\\" \\"><text term=\\"author\\" form=\\"verb\\"/><names variable=\\"interviewer\\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></group></group></group></else-if><else-if variable=\\"interviewer\\"><group delimiter=\\"; \\"><names variable=\\"interviewer\\"><label form=\\"verb\\" suffix=\\" \\" text-case=\\"capitalize-first\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></group></else-if><else><text macro=\\"format\\"/></else></choose></else-if><else-if type=\\"personal_communication\\">\x3c!-- Letter information --\x3e<choose><if variable=\\"recipient\\"><group delimiter=\\"; \\"><group delimiter=\\" \\"><choose><if variable=\\"number\\" match=\\"none\\"><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></else-if><else><text term=\\"letter\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></else></choose></if><else><choose><if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if><else><text term=\\"letter\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></else></choose></else></choose><names variable=\\"recipient\\" delimiter=\\", \\"><label form=\\"verb\\" suffix=\\" \\"/><name and=\\"symbol\\" delimiter=\\", \\"/></names></group><choose><if variable=\\"genre\\" match=\\"any\\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></if><else><text macro=\\"format\\"/></else></choose></else-if><else-if variable=\\"composer\\" type=\\"song\\" match=\\"all\\">\x3c!-- Performer of classical music works --\x3e<group delimiter=\\"; \\"><choose><if variable=\\"number\\" match=\\"none\\"><group delimiter=\\" \\"><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/>\x3c!-- Replace prefix with performer label as that becomes available --\x3e<names variable=\\"author\\" prefix=\\"recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/>\x3c!-- Replace prefix with performer label as that becomes available --\x3e<names variable=\\"author\\" prefix=\\"recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else-if><else>\x3c!-- Replace prefix with performer label as that becomes available --\x3e<names variable=\\"author\\" prefix=\\"Recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else></choose></group></if><else><group delimiter=\\" \\"><choose><if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/>\x3c!-- Replace prefix with performer label as that becomes available --\x3e<names variable=\\"author\\" prefix=\\"recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></if><else>\x3c!-- Replace prefix with performer label as that becomes available --\x3e<names variable=\\"author\\" prefix=\\"Recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else></choose></group></else></choose><choose><if variable=\\"genre\\" match=\\"any\\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></else-if><else-if variable=\\"container-title\\" match=\\"none\\">\x3c!-- Other description --\x3e<text macro=\\"format\\"/></else-if><else>\x3c!-- For conference presentations, chapters in reports, software, place bracketed after the container title --\x3e<choose><if type=\\"paper-conference speech\\" match=\\"any\\"><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"any\\"><text macro=\\"format\\"/></if></choose></if><else-if type=\\"book\\"><choose><if variable=\\"version\\" match=\\"none\\"><text macro=\\"format\\"/></if></choose></else-if><else-if type=\\"report\\" match=\\"none\\"><text macro=\\"format\\"/></else-if></choose></else></choose></group></macro><macro name=\\"bracketed-intext\\"><group prefix=\\"[\\" suffix=\\"]\\"><choose><if variable=\\"reviewed-author reviewed-title\\" type=\\"review review-book\\" match=\\"any\\">\x3c!-- This should be localized --\x3e<text macro=\\"reviewed-title-intext\\" prefix=\\"Review of \\"/></if><else-if variable=\\"interviewer\\" type=\\"interview\\" match=\\"any\\"><names variable=\\"interviewer\\"><label form=\\"verb\\" suffix=\\" \\" text-case=\\"capitalize-first\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><substitute><text macro=\\"format-intext\\"/></substitute></names></else-if><else-if type=\\"personal_communication\\">\x3c!-- Letter information --\x3e<choose><if variable=\\"recipient\\"><group delimiter=\\" \\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else><text term=\\"letter\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></else></choose><names variable=\\"recipient\\" delimiter=\\", \\"><label form=\\"verb\\" suffix=\\" \\"/><name and=\\"symbol\\" delimiter=\\", \\"/></names></group></if><else><text macro=\\"format-intext\\"/></else></choose></else-if><else><text macro=\\"format-intext\\"/></else></choose></group></macro><macro name=\\"bracketed-container\\"><group prefix=\\"[\\" suffix=\\"]\\"><choose><if type=\\"paper-conference speech\\" match=\\"any\\">\x3c!-- Conference presentations should describe the session [container] in bracketed unless published in a proceedings --\x3e<choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\"><text macro=\\"format\\"/></if></choose></if><else-if type=\\"book\\" variable=\\"version\\" match=\\"all\\">\x3c!-- For entries in mobile app reference works, place bracketed after the container-title --\x3e<text macro=\\"format\\"/></else-if><else-if type=\\"report\\">\x3c!-- For chapters in reports, place bracketed after the container title --\x3e<text macro=\\"format\\"/></else-if></choose></group></macro><macro name=\\"secondary-contributors\\"><choose><if type=\\"article-journal article-magazine article-newspaper post-weblog review review-book\\" match=\\"any\\"><text macro=\\"secondary-contributors-periodical\\"/></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><text macro=\\"secondary-contributors-booklike\\"/></if><else><text macro=\\"secondary-contributors-periodical\\"/></else></choose></else-if><else><text macro=\\"secondary-contributors-booklike\\"/></else></choose></macro><macro name=\\"secondary-contributors-periodical\\"><group delimiter=\\"; \\"><choose><if variable=\\"title\\"><names variable=\\"interviewer\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></if></choose><names variable=\\"translator\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></group></macro><macro name=\\"secondary-contributors-booklike\\"><group delimiter=\\"; \\"><choose><if variable=\\"title\\"><names variable=\\"interviewer\\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></if></choose>\x3c!-- When editortranslator becomes available, add a test: variable=\\"editortranslator\\" match=\\"none\\"; then print translator --\x3e<choose><if type=\\"post webpage\\" match=\\"none\\">\x3c!-- Webpages treat container-title like publisher --\x3e<choose><if variable=\\"container-title\\" match=\\"none\\"><group delimiter=\\"; \\"><names variable=\\"container-author\\"><label form=\\"verb-short\\" suffix=\\" \\" text-case=\\"title\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names><names variable=\\"editor translator\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></group></if></choose></if><else><group delimiter=\\"; \\"><names variable=\\"container-author\\"><label form=\\"verb-short\\" suffix=\\" \\" text-case=\\"title\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names><names variable=\\"editor translator\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></group></else></choose></group></macro><macro name=\\"database-location\\"><choose><if variable=\\"archive-place\\" match=\\"none\\">\x3c!-- With `archive-place`: physical archives. Without: online archives. --\x3e\x3c!-- Add archive_collection as that becomes available --\x3e<text variable=\\"archive_location\\"/></if></choose></macro><macro name=\\"number\\"><choose><if variable=\\"number\\"><group delimiter=\\", \\"><group delimiter=\\" \\"><text variable=\\"genre\\" text-case=\\"title\\"/><choose><if is-numeric=\\"number\\">\x3c!-- Replace with label variable=\\"number\\" if that becomes available --\x3e<text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"number\\"/></if><else><text variable=\\"number\\"/></else></choose></group><choose><if type=\\"thesis\\"><choose>\x3c!-- Include the university in brackets if thesis is published --\x3e<if variable=\\"archive DOI URL\\" match=\\"any\\"><text variable=\\"publisher\\"/></if></choose></if></choose></group></if></choose></macro><macro name=\\"locators-booklike\\"><choose><if type=\\"article-journal article-magazine article-newspaper broadcast interview patent post post-weblog review review-book speech webpage\\" match=\\"any\\"/><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><group delimiter=\\", \\"><text macro=\\"version\\"/><text macro=\\"edition\\"/><text macro=\\"volume-booklike\\"/></group></if></choose></else-if><else><group delimiter=\\", \\"><text macro=\\"version\\"/><text macro=\\"edition\\"/><text macro=\\"volume-booklike\\"/></group></else></choose></macro><macro name=\\"version\\"><choose><if is-numeric=\\"version\\"><group delimiter=\\" \\">\x3c!-- replace with label variable=\\"version\\" if that becomes available --\x3e<text term=\\"version\\" text-case=\\"capitalize-first\\"/><text variable=\\"version\\"/></group></if><else><text variable=\\"version\\"/></else></choose></macro><macro name=\\"edition\\"><choose><if is-numeric=\\"edition\\"><group delimiter=\\" \\"><number variable=\\"edition\\" form=\\"ordinal\\"/><label variable=\\"edition\\" form=\\"short\\"/></group></if><else><text variable=\\"edition\\"/></else></choose></macro><macro name=\\"volume-booklike\\"><group delimiter=\\", \\">\x3c!-- Report series [ex. 52] --\x3e<choose><if type=\\"report\\"><group delimiter=\\" \\"><text variable=\\"collection-title\\" text-case=\\"title\\"/><text variable=\\"collection-number\\"/></group></if></choose><choose><if variable=\\"volume\\" match=\\"any\\"><choose>\x3c!-- Non-numeric volumes are already printed as part of the book title --\x3e<if is-numeric=\\"volume\\" match=\\"none\\"/><else><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><number variable=\\"volume\\" form=\\"numeric\\"/></group></else></choose></if><else><group>\x3c!-- Replace with label variable=\\"number-of-volumes\\" if that becomes available --\x3e<text term=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\" suffix=\\" \\"/><text term=\\"page-range-delimiter\\" prefix=\\"1\\"/><number variable=\\"number-of-volumes\\" form=\\"numeric\\"/></group></else></choose><group delimiter=\\" \\"><label variable=\\"issue\\" text-case=\\"capitalize-first\\"/><text variable=\\"issue\\"/></group><group delimiter=\\" \\"><label variable=\\"page\\" form=\\"short\\" suffix=\\" \\"/><text variable=\\"page\\"/></group></group></macro><macro name=\\"reviewed-title\\"><choose><if variable=\\"reviewed-title\\">\x3c!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --\x3e<text variable=\\"reviewed-title\\" font-style=\\"italic\\"/></if><else>\x3c!-- Assume title is title of reviewed work --\x3e<text variable=\\"title\\" font-style=\\"italic\\"/></else></choose></macro><macro name=\\"reviewed-title-intext\\"><choose><if variable=\\"reviewed-title\\">\x3c!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --\x3e<text variable=\\"reviewed-title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></if><else>\x3c!-- Assume title is title of reviewed work --\x3e<text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></else></choose></macro><macro name=\\"format\\"><choose><if variable=\\"genre medium\\" match=\\"any\\"><group delimiter=\\"; \\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if></choose><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></group></if>\x3c!-- Generic labels for specific types --\x3e\x3c!-- These should be localized when possible --\x3e<else-if type=\\"dataset\\"><text value=\\"Data set\\"/></else-if><else-if type=\\"book\\" variable=\\"version\\" match=\\"all\\">\x3c!-- Replace with type=\\"software\\" and term=\\"software\\" as that becomes available --\x3e<text value=\\"Computer software\\"/></else-if><else-if type=\\"interview personal_communication\\" match=\\"any\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><text term=\\"letter\\" text-case=\\"capitalize-first\\"/></if><else-if type=\\"interview\\"><text term=\\"interview\\" text-case=\\"capitalize-first\\"/></else-if></choose></else-if><else-if type=\\"map\\"><text value=\\"Map\\"/></else-if></choose></macro><macro name=\\"format-intext\\"><choose><if variable=\\"genre\\" match=\\"any\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></else-if>\x3c!-- Generic labels for specific types --\x3e\x3c!-- These should be localized when possible --\x3e<else-if type=\\"dataset\\"><text value=\\"Data set\\"/></else-if><else-if type=\\"book\\" variable=\\"version\\" match=\\"all\\">\x3c!-- Replace with type=\\"software\\" and term=\\"software\\" as that becomes available --\x3e<text value=\\"Computer software\\"/></else-if><else-if type=\\"interview personal_communication\\" match=\\"any\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><text term=\\"letter\\" text-case=\\"capitalize-first\\"/></if><else-if type=\\"interview\\"><text term=\\"interview\\" text-case=\\"capitalize-first\\"/></else-if></choose></else-if><else-if type=\\"map\\"><text value=\\"Map\\"/></else-if></choose></macro>\x3c!-- APA \'source\' element contains four parts:container, event, publisher, access --\x3e<macro name=\\"container\\"><choose><if type=\\"article-journal article-magazine article-newspaper post-weblog review review-book\\" match=\\"any\\">\x3c!-- Periodical items --\x3e<text macro=\\"container-periodical\\"/></if><else-if type=\\"paper-conference\\">\x3c!-- Determine if paper-conference is a periodical or booklike --\x3e<choose><if variable=\\"editor editorial-director collection-editor container-author\\" match=\\"any\\"><text macro=\\"container-booklike\\"/></if><else><text macro=\\"container-periodical\\"/></else></choose></else-if><else-if type=\\"post webpage\\" match=\\"none\\">\x3c!-- post and webpage treat container-title like publisher --\x3e<text macro=\\"container-booklike\\"/></else-if></choose></macro><macro name=\\"container-periodical\\"><group delimiter=\\". \\"><group delimiter=\\", \\"><text variable=\\"container-title\\" font-style=\\"italic\\" text-case=\\"title\\"/><choose><if variable=\\"volume\\"><group><text variable=\\"volume\\" font-style=\\"italic\\"/><text variable=\\"issue\\" prefix=\\"(\\" suffix=\\")\\"/></group></if><else><text variable=\\"issue\\" font-style=\\"italic\\"/></else></choose><choose><if variable=\\"page\\"><text variable=\\"page\\"/></if><else>\x3c!-- Ex. 6: Journal article with article number or eLocator --\x3e\x3c!-- This should be localized --\x3e<text variable=\\"number\\" prefix=\\"Article \\"/></else></choose></group><choose><if variable=\\"issued\\"><choose><if variable=\\"issue page volume\\" match=\\"none\\"><text variable=\\"status\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></macro><macro name=\\"container-booklike\\"><choose><if variable=\\"container-title\\" match=\\"any\\"><group delimiter=\\" \\"><text term=\\"in\\" text-case=\\"capitalize-first\\"/><group delimiter=\\", \\"><names variable=\\"editor translator\\" delimiter=\\", &amp; \\">\x3c!-- Change to editortranslator and move editor to substitute as that becomes available --\x3e<name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" text-case=\\"title\\" prefix=\\" (\\" suffix=\\")\\"/><substitute><names variable=\\"editorial-director\\"/><names variable=\\"collection-editor\\"/><names variable=\\"container-author\\"/></substitute></names><group delimiter=\\": \\" font-style=\\"italic\\"><text variable=\\"container-title\\"/>\x3c!-- Replace with volume-title as that becomes available --\x3e<choose><if is-numeric=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose></group></group><text macro=\\"parenthetical-container\\"/><text macro=\\"bracketed-container\\"/></group></if></choose></macro><macro name=\\"publisher\\"><group delimiter=\\"; \\"><choose><if type=\\"thesis\\"><choose><if variable=\\"archive DOI URL\\" match=\\"none\\"><text variable=\\"publisher\\"/></if></choose></if><else-if type=\\"post webpage\\" match=\\"any\\">\x3c!-- For websites, treat container title like publisher --\x3e<group delimiter=\\"; \\"><text variable=\\"container-title\\" text-case=\\"title\\"/><text variable=\\"publisher\\"/></group></else-if><else-if type=\\"paper-conference\\">\x3c!-- For paper-conference, don\'t print publisher if in a journal-like proceedings --\x3e<choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><text variable=\\"publisher\\"/></if></choose></else-if><else-if type=\\"article-journal article-magazine article-newspaper post-weblog\\" match=\\"none\\"><text variable=\\"publisher\\"/></else-if></choose><group delimiter=\\", \\"><choose><if variable=\\"archive-place\\">\x3c!-- With `archive-place`: physical archives. Without: online archives. --\x3e\x3c!-- For physical archives, print the location before the archive name.For electronic archives, these are printed in macro=\\"description\\". --\x3e\x3c!-- Split \\"archive_location\\" into \\"archive_collection\\" and \\"archive_location\\" as that becomes available --\x3e\x3c!-- Must test for archive_collection:With collection: archive_collection (archive_location), archive, archive-placeNo collection: archive (archive_location), archive-place--\x3e<text variable=\\"archive_location\\"/></if></choose><text variable=\\"archive\\"/><text variable=\\"archive-place\\"/></group></group></macro><macro name=\\"access\\"><choose><if variable=\\"DOI\\" match=\\"any\\"><text variable=\\"DOI\\" prefix=\\"https://doi.org/\\"/></if><else-if variable=\\"URL\\"><group delimiter=\\" \\"><choose><if variable=\\"issued status\\" match=\\"none\\"><group delimiter=\\" \\"><text term=\\"retrieved\\" text-case=\\"capitalize-first\\"/><date variable=\\"accessed\\" form=\\"text\\" suffix=\\",\\"/><text term=\\"from\\"/></group></if></choose><text variable=\\"URL\\"/></group></else-if></choose></macro><macro name=\\"event\\"><choose><if variable=\\"event\\">\x3c!-- To prevent Zotero from printing event-place due to its double-mapping of all \'place\' toboth publisher-place and event-place. Remove this \'choose\' when that is changed. --\x3e<choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\">\x3c!-- Don\'t print event info if published in a proceedings --\x3e<group delimiter=\\", \\"><text variable=\\"event\\"/><text variable=\\"event-place\\"/></group></if></choose></if></choose></macro>\x3c!-- After \'source\', APA also prints publication history (original publication, reprint info, retraction info) --\x3e<macro name=\\"publication-history\\"><choose><if type=\\"patent\\" match=\\"none\\"><group prefix=\\"(\\" suffix=\\")\\"><choose><if variable=\\"references\\">\x3c!-- This provides the option for more elaborate description of publication history, such as full \\"reprinted\\" references(examples 11, 43, 44) or retracted references --\x3e<text variable=\\"references\\"/></if><else><group delimiter=\\" \\"><text value=\\"Original work published\\"/><choose><if is-uncertain-date=\\"original-date\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><date variable=\\"original-date\\"><date-part name=\\"year\\"/></date></group></else></choose></group></if><else><text variable=\\"references\\" prefix=\\"(\\" suffix=\\")\\"/></else></choose></macro>\x3c!-- Legal citations have their own rules --\x3e<macro name=\\"legal-cites\\"><choose><if type=\\"legal_case\\"><group delimiter=\\". \\"><group delimiter=\\", \\"><text variable=\\"title\\"/><group delimiter=\\" \\"><text macro=\\"container-legal\\"/><text macro=\\"date-legal\\"/></group><text variable=\\"references\\"/></group><text macro=\\"access\\"/></group></if><else-if type=\\"bill\\">\x3c!-- Currently designed to handle bills, resolutions, hearings, rederal reports. --\x3e<group delimiter=\\". \\"><group delimiter=\\", \\"><choose><if variable=\\"number container-title\\" match=\\"none\\">\x3c!-- If no number or container-title, then assume it is a hearing --\x3e<text variable=\\"title\\" font-style=\\"italic\\"/></if><else><text variable=\\"title\\"/></else></choose><group delimiter=\\" \\"><text macro=\\"container-legal\\"/><text macro=\\"date-legal\\"/><choose><if variable=\\"number container-title\\" match=\\"none\\">\x3c!-- If no number or container-title, then assume it is a hearing --\x3e<names variable=\\"author\\" prefix=\\"(testimony of \\" suffix=\\")\\"><name and=\\"symbol\\" delimiter=\\", \\"/></names></if><else><text variable=\\"status\\" prefix=\\"(\\" suffix=\\")\\"/></else></choose></group><text variable=\\"references\\"/></group><text macro=\\"access\\"/></group></else-if><else-if type=\\"legislation\\">\x3c!-- Currently designed to handle statutes, codified regulations, executive orders.For uncodified regulations, assume future code section is in status. --\x3e<group delimiter=\\". \\"><group delimiter=\\", \\"><text variable=\\"title\\"/><group delimiter=\\" \\"><text macro=\\"container-legal\\"/><text macro=\\"date-legal\\"/><text variable=\\"status\\" prefix=\\"(\\" suffix=\\")\\"/></group><text variable=\\"references\\"/></group><text macro=\\"access\\"/></group></else-if><else-if type=\\"treaty\\">\x3c!-- APA generally defers to Bluebook for legal citations, but diverges withoutexplanation for treaty items. The Bluebook format that was used in APA 6thed. is used here. --\x3e<group delimiter=\\", \\"><text variable=\\"title\\" text-case=\\"title\\"/><names variable=\\"author\\"><name initialize-with=\\".\\" form=\\"short\\" delimiter=\\"-\\"/></names><text macro=\\"date-legal\\"/><text macro=\\"container-legal\\"/><text macro=\\"access\\"/></group></else-if></choose></macro><macro name=\\"date-legal\\"><choose><if type=\\"legal_case\\"><group prefix=\\"(\\" suffix=\\")\\" delimiter=\\" \\"><text variable=\\"authority\\"/><choose><if variable=\\"container-title\\" match=\\"any\\">\x3c!-- Print only year for cases published in reporters--\x3e<date variable=\\"issued\\" form=\\"numeric\\" date-parts=\\"year\\"/></if><else><date variable=\\"issued\\" form=\\"text\\"/></else></choose></group></if><else-if type=\\"bill legislation\\" match=\\"any\\"><group prefix=\\"(\\" suffix=\\")\\" delimiter=\\" \\"><group delimiter=\\" \\"><date variable=\\"original-date\\"><date-part name=\\"year\\"/></date><text term=\\"and\\" form=\\"symbol\\"/></group><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></group></else-if><else-if type=\\"treaty\\"><date variable=\\"issued\\" form=\\"text\\"/></else-if></choose></macro><macro name=\\"container-legal\\">\x3c!-- Expect legal item container-titles to be stored in short form --\x3e<choose><if type=\\"legal_case\\"><group delimiter=\\" \\"><choose><if variable=\\"container-title\\"><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><group delimiter=\\" \\">\x3c!-- Change to label variable=\\"section\\" as that becomes available --\x3e<text term=\\"section\\" form=\\"symbol\\"/><text variable=\\"section\\"/></group><choose><if variable=\\"page page-first\\" match=\\"any\\"><text variable=\\"page-first\\"/></if><else><text value=\\"___\\"/></else></choose></group></if><else><group delimiter=\\" \\"><choose><if is-numeric=\\"number\\">\x3c!-- Replace with label variable=\\"number\\" if that becomes available --\x3e<text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></if></choose><text variable=\\"number\\"/></group></else></choose></group></if><else-if type=\\"bill\\"><group delimiter=\\", \\"><group delimiter=\\" \\"><text variable=\\"genre\\"/><group delimiter=\\" \\"><choose><if variable=\\"chapter-number container-title\\" match=\\"none\\">\x3c!-- Replace with label variable=\\"number\\" as that becomes available --\x3e<text term=\\"issue\\" form=\\"short\\"/></if></choose><text variable=\\"number\\"/></group></group><text variable=\\"authority\\"/><text variable=\\"chapter-number\\"/><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><text variable=\\"page-first\\"/></group></group></else-if><else-if type=\\"legislation\\"><choose><if variable=\\"number\\">\x3c!--There\'s a public law number--\x3e<group delimiter=\\", \\"><text variable=\\"number\\" prefix=\\"Pub. L. No. \\"/><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><text variable=\\"page-first\\"/></group></group></if><else><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><choose><if variable=\\"section\\"><group delimiter=\\" \\">\x3c!-- Change to label variable=\\"section\\" as that becomes available --\x3e<text term=\\"section\\" form=\\"symbol\\"/><text variable=\\"section\\"/></group></if><else><text variable=\\"page-first\\"/></else></choose></group></else></choose></else-if><else-if type=\\"treaty\\"><group delimiter=\\" \\"><number variable=\\"volume\\"/><text variable=\\"container-title\\"/><choose><if variable=\\"page page-first\\" match=\\"any\\"><text variable=\\"page-first\\"/></if><else><group delimiter=\\" \\">\x3c!-- Replace with label variable=\\"number\\" if that becomes available --\x3e<text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"number\\"/></group></else></choose></group></else-if></choose></macro><macro name=\\"citation-locator\\"><group delimiter=\\" \\"><choose><if locator=\\"chapter\\"><label variable=\\"locator\\" text-case=\\"capitalize-first\\"/></if><else><label variable=\\"locator\\" form=\\"short\\"/></else></choose><text variable=\\"locator\\"/></group></macro><citation et-al-min=\\"3\\" et-al-use-first=\\"1\\" disambiguate-add-year-suffix=\\"true\\" disambiguate-add-names=\\"true\\" disambiguate-add-givenname=\\"true\\" collapse=\\"year\\" givenname-disambiguation-rule=\\"primary-name-with-initials\\"><sort><key macro=\\"author-bib\\" names-min=\\"3\\" names-use-first=\\"1\\"/><key macro=\\"date-sort-group\\"/><key macro=\\"date-sort-date\\" sort=\\"ascending\\"/><key variable=\\"status\\"/></sort><layout prefix=\\"(\\" suffix=\\")\\" delimiter=\\"; \\"><group delimiter=\\", \\"><text macro=\\"author-intext\\"/><text macro=\\"date-intext\\"/><text macro=\\"citation-locator\\"/></group></layout></citation><bibliography hanging-indent=\\"true\\" et-al-min=\\"21\\" et-al-use-first=\\"19\\" et-al-use-last=\\"true\\" entry-spacing=\\"0\\" line-spacing=\\"2\\"><sort><key macro=\\"author-bib\\"/><key macro=\\"date-sort-group\\"/><key macro=\\"date-sort-date\\" sort=\\"ascending\\"/><key variable=\\"status\\"/><key macro=\\"title\\"/></sort><layout><choose><if type=\\"bill legal_case legislation treaty\\" match=\\"any\\">\x3c!-- Legal items have different orders and delimiters --\x3e<choose><if variable=\\"DOI URL\\" match=\\"any\\"><text macro=\\"legal-cites\\"/></if><else><text macro=\\"legal-cites\\" suffix=\\".\\"/></else></choose></if><else><group delimiter=\\" \\"><group delimiter=\\". \\" suffix=\\".\\"><text macro=\\"author-bib\\"/><text macro=\\"date-bib\\"/><text macro=\\"title-and-descriptions\\"/><text macro=\\"container\\"/><text macro=\\"event\\"/><text macro=\\"publisher\\"/></group><text macro=\\"access\\"/><text macro=\\"publication-history\\"/></group></else></choose></layout></bibliography>\\n</style>\\n","vancouver":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<style xmlns=\\"http://purl.org/net/xbiblio/csl\\" class=\\"in-text\\" version=\\"1.0\\" demote-non-dropping-particle=\\"sort-only\\" initialize-with-hyphen=\\"false\\" page-range-format=\\"minimal\\"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href=\\"http://www.zotero.org/styles/vancouver\\" rel=\\"self\\"/><link href=\\"http://www.nlm.nih.gov/bsd/uniform_requirements.html\\" rel=\\"documentation\\"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format=\\"numeric\\"/><category field=\\"medicine\\"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2022-04-14T13:48:43+00:00</updated><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\\"en\\"><date form=\\"text\\" delimiter=\\" \\"><date-part name=\\"year\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"day\\"/></date><terms><term name=\\"collection-editor\\" form=\\"long\\"><single>editor</single><multiple>editors</multiple></term><term name=\\"presented at\\">presented at</term><term name=\\"available at\\">available from</term><term name=\\"section\\" form=\\"short\\">sect.</term></terms></locale><locale xml:lang=\\"fr\\"><date form=\\"text\\" delimiter=\\" \\"><date-part name=\\"day\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"year\\"/></date></locale><macro name=\\"author\\"><names variable=\\"author\\"><name sort-separator=\\" \\" initialize-with=\\"\\" name-as-sort-order=\\"all\\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\", \\"/><substitute><names variable=\\"editor\\"/></substitute></names></macro><macro name=\\"editor\\"><names variable=\\"editor\\" suffix=\\".\\"><name sort-separator=\\" \\" initialize-with=\\"\\" name-as-sort-order=\\"all\\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\", \\"/></names></macro><macro name=\\"chapter-marker\\"><choose><if type=\\"chapter paper-conference entry-dictionary entry-encyclopedia\\" match=\\"any\\"><text term=\\"in\\" text-case=\\"capitalize-first\\"/></if></choose></macro><macro name=\\"publisher\\"><choose>\x3c!--discard publisher info for articles--\x3e<if type=\\"article-journal article-magazine article-newspaper\\" match=\\"none\\"><group delimiter=\\": \\" suffix=\\";\\"><choose><if type=\\"thesis\\"><text variable=\\"publisher-place\\" prefix=\\"[\\" suffix=\\"]\\"/></if><else-if type=\\"speech\\"/><else><text variable=\\"publisher-place\\"/></else></choose><text variable=\\"publisher\\"/></group></if></choose></macro><macro name=\\"access\\"><choose><if variable=\\"URL\\"><group delimiter=\\": \\"><text term=\\"available at\\" text-case=\\"capitalize-first\\"/><text variable=\\"URL\\"/></group></if></choose></macro><macro name=\\"accessed-date\\"><choose><if variable=\\"URL\\"><group prefix=\\"[\\" suffix=\\"]\\" delimiter=\\" \\"><text term=\\"cited\\" text-case=\\"lowercase\\"/><date variable=\\"accessed\\" form=\\"text\\"/></group></if></choose></macro><macro name=\\"container-title\\"><choose><if type=\\"article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia\\" match=\\"any\\"><group suffix=\\".\\" delimiter=\\" \\"><choose><if type=\\"article-journal review review-book\\" match=\\"any\\"><text variable=\\"container-title\\" form=\\"short\\" strip-periods=\\"true\\"/></if><else><text variable=\\"container-title\\" strip-periods=\\"true\\"/></else></choose><choose><if variable=\\"URL\\"><text term=\\"internet\\" prefix=\\"[\\" suffix=\\"]\\" text-case=\\"capitalize-first\\"/></if></choose></group><text macro=\\"edition\\" prefix=\\" \\"/></if>\x3c!--add event-name and event-place once they become available--\x3e<else-if type=\\"bill legislation\\" match=\\"any\\"><group delimiter=\\", \\"><group delimiter=\\". \\"><text variable=\\"container-title\\"/><group delimiter=\\" \\"><text term=\\"section\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"section\\"/></group></group><text variable=\\"number\\"/></group></else-if><else-if type=\\"speech\\"><group delimiter=\\": \\" suffix=\\";\\"><group delimiter=\\" \\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><text term=\\"presented at\\"/></group><text variable=\\"event\\"/></group></else-if><else><group delimiter=\\", \\" suffix=\\".\\"><choose><if variable=\\"collection-title\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose><text variable=\\"container-title\\"/></group></else></choose></macro><macro name=\\"title\\"><text variable=\\"title\\"/><choose><if type=\\"article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia\\" match=\\"none\\"><choose><if variable=\\"URL\\"><text term=\\"internet\\" prefix=\\" [\\" suffix=\\"]\\" text-case=\\"capitalize-first\\"/></if></choose><text macro=\\"edition\\" prefix=\\". \\"/></if></choose><choose><if type=\\"thesis\\"><text variable=\\"genre\\" prefix=\\" [\\" suffix=\\"]\\"/></if></choose></macro><macro name=\\"edition\\"><choose><if is-numeric=\\"edition\\"><group delimiter=\\" \\"><number variable=\\"edition\\" form=\\"ordinal\\"/><text term=\\"edition\\" form=\\"short\\"/></group></if><else><text variable=\\"edition\\" suffix=\\".\\"/></else></choose></macro><macro name=\\"date\\"><choose><if type=\\"article-journal article-magazine article-newspaper review review-book\\" match=\\"any\\"><group suffix=\\";\\" delimiter=\\" \\"><date variable=\\"issued\\" form=\\"text\\"/><text macro=\\"accessed-date\\"/></group></if><else-if type=\\"bill legislation\\" match=\\"any\\"><group delimiter=\\", \\"><date variable=\\"issued\\" delimiter=\\" \\"><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"day\\"/></date><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></group></else-if><else-if type=\\"report\\"><date variable=\\"issued\\" delimiter=\\" \\"><date-part name=\\"year\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/></date><text macro=\\"accessed-date\\" prefix=\\" \\"/></else-if><else-if type=\\"patent\\"><group suffix=\\".\\"><group delimiter=\\", \\"><text variable=\\"number\\"/><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></group><text macro=\\"accessed-date\\" prefix=\\" \\"/></group></else-if><else-if type=\\"speech\\"><group delimiter=\\"; \\"><group delimiter=\\" \\"><date variable=\\"issued\\" delimiter=\\" \\"><date-part name=\\"year\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"day\\"/></date><text macro=\\"accessed-date\\"/></group><text variable=\\"event-place\\"/></group></else-if><else><group suffix=\\".\\"><date variable=\\"issued\\"><date-part name=\\"year\\"/></date><text macro=\\"accessed-date\\" prefix=\\" \\"/></group></else></choose></macro><macro name=\\"pages\\"><choose><if type=\\"article-journal article-magazine article-newspaper review review-book\\" match=\\"any\\"><text variable=\\"page\\" prefix=\\":\\"/></if><else-if type=\\"book\\" match=\\"any\\"><text variable=\\"number-of-pages\\" prefix=\\" \\"/><choose><if is-numeric=\\"number-of-pages\\"><label variable=\\"number-of-pages\\" form=\\"short\\" prefix=\\" \\" plural=\\"never\\"/></if></choose></else-if><else><group prefix=\\" \\" delimiter=\\" \\"><label variable=\\"page\\" form=\\"short\\" plural=\\"never\\"/><text variable=\\"page\\"/></group></else></choose></macro><macro name=\\"journal-location\\"><choose><if type=\\"article-journal article-magazine review review-book\\" match=\\"any\\"><text variable=\\"volume\\"/><text variable=\\"issue\\" prefix=\\"(\\" suffix=\\")\\"/></if></choose></macro><macro name=\\"collection-details\\"><choose><if type=\\"article-journal article-magazine article-newspaper review review-book\\" match=\\"none\\"><choose><if variable=\\"collection-title\\"><group delimiter=\\" \\" prefix=\\"(\\" suffix=\\")\\"><names variable=\\"collection-editor\\" suffix=\\".\\"><name sort-separator=\\" \\" initialize-with=\\"\\" name-as-sort-order=\\"all\\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\", \\"/></names><group delimiter=\\"; \\"><text variable=\\"collection-title\\"/><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\"/><text variable=\\"volume\\"/></group></group></group></if></choose></if></choose></macro><macro name=\\"report-details\\"><choose><if type=\\"report\\"><text variable=\\"number\\" prefix=\\"Report No.: \\"/></if></choose></macro><citation collapse=\\"citation-number\\"><sort><key variable=\\"citation-number\\"/></sort><layout prefix=\\"(\\" suffix=\\")\\" delimiter=\\",\\"><text variable=\\"citation-number\\"/></layout></citation><bibliography et-al-min=\\"7\\" et-al-use-first=\\"6\\" second-field-align=\\"flush\\"><layout><text variable=\\"citation-number\\" suffix=\\". \\"/><group delimiter=\\". \\" suffix=\\". \\"><text macro=\\"author\\"/><text macro=\\"title\\"/></group><group delimiter=\\" \\" suffix=\\". \\"><group delimiter=\\": \\"><text macro=\\"chapter-marker\\"/><group delimiter=\\" \\"><text macro=\\"editor\\"/><text macro=\\"container-title\\"/></group></group><text macro=\\"publisher\\"/><group><text macro=\\"date\\"/><text macro=\\"journal-location\\"/><text macro=\\"pages\\"/></group></group><text macro=\\"collection-details\\" suffix=\\". \\"/><text macro=\\"report-details\\" suffix=\\". \\"/><text macro=\\"access\\"/></layout></bibliography>\\n</style>\\n","harvard1":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<style xmlns=\\"http://purl.org/net/xbiblio/csl\\" class=\\"in-text\\" version=\\"1.0\\" demote-non-dropping-particle=\\"sort-only\\" default-locale=\\"en-GB\\"><info><title>Cite Them Right 11th edition - Harvard</title><id>http://www.zotero.org/styles/harvard-cite-them-right</id><link href=\\"http://www.zotero.org/styles/harvard-cite-them-right\\" rel=\\"self\\"/><link href=\\"http://www.zotero.org/styles/harvard-cite-them-right-10th-edition\\" rel=\\"template\\"/><link href=\\"http://www.citethemrightonline.com/\\" rel=\\"documentation\\"/><author><name>Patrick O\'Brien</name></author><category citation-format=\\"author-date\\"/><category field=\\"generic-base\\"/><summary>Harvard according to Cite Them Right, 11th edition.</summary><updated>2021-09-01T10:12:20+00:00</updated><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\\"en-GB\\"><terms><term name=\\"editor\\" form=\\"short\\"><single>ed.</single><multiple>eds</multiple></term><term name=\\"editortranslator\\" form=\\"verb\\">edited and translated by</term><term name=\\"edition\\" form=\\"short\\">edn.</term></terms></locale><macro name=\\"editor\\"><choose><if type=\\"chapter paper-conference\\" match=\\"any\\"><names variable=\\"container-author\\" delimiter=\\", \\" suffix=\\", \\"><name and=\\"text\\" initialize-with=\\". \\" delimiter=\\", \\" sort-separator=\\", \\" name-as-sort-order=\\"all\\"/></names><choose><if variable=\\"container-author\\" match=\\"none\\"><names variable=\\"editor translator\\" delimiter=\\", \\"><name and=\\"text\\" initialize-with=\\".\\" name-as-sort-order=\\"all\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\"/></names></if></choose></if></choose></macro><macro name=\\"secondary-contributors\\"><choose><if type=\\"chapter paper-conference\\" match=\\"none\\"><names variable=\\"editor translator\\" delimiter=\\". \\"><label form=\\"verb\\" text-case=\\"capitalize-first\\" suffix=\\" \\"/><name and=\\"text\\" initialize-with=\\".\\"/></names></if><else-if variable=\\"container-author\\" match=\\"any\\"><names variable=\\"editor translator\\" delimiter=\\". \\"><label form=\\"verb\\" text-case=\\"capitalize-first\\" suffix=\\" \\"/><name and=\\"text\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else-if></choose></macro><macro name=\\"author\\"><names variable=\\"author\\"><name and=\\"text\\" delimiter-precedes-last=\\"never\\" initialize-with=\\".\\" name-as-sort-order=\\"all\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\"/><et-al font-style=\\"italic\\"/><substitute><names variable=\\"editor\\"/><names variable=\\"translator\\"/><choose><if type=\\"article-newspaper article-magazine\\" match=\\"any\\"><text variable=\\"container-title\\" text-case=\\"title\\" font-style=\\"italic\\"/></if><else><text macro=\\"title\\"/></else></choose></substitute></names></macro><macro name=\\"author-short\\"><names variable=\\"author\\"><name form=\\"short\\" and=\\"text\\" delimiter=\\", \\" delimiter-precedes-last=\\"never\\" initialize-with=\\". \\"/><et-al font-style=\\"italic\\"/><substitute><names variable=\\"editor\\"/><names variable=\\"translator\\"/><choose><if type=\\"article-newspaper article-magazine\\" match=\\"any\\"><text variable=\\"container-title\\" text-case=\\"title\\" font-style=\\"italic\\"/></if><else><text macro=\\"title\\"/></else></choose></substitute></names></macro><macro name=\\"access\\"><choose><if variable=\\"DOI\\"><text variable=\\"DOI\\" prefix=\\"doi:\\"/></if><else-if variable=\\"URL\\"><text term=\\"available at\\" suffix=\\": \\" text-case=\\"capitalize-first\\"/><text variable=\\"URL\\"/><group prefix=\\" (\\" delimiter=\\": \\" suffix=\\")\\"><text term=\\"accessed\\" text-case=\\"capitalize-first\\"/><date form=\\"text\\" variable=\\"accessed\\"><date-part name=\\"day\\"/><date-part name=\\"month\\"/><date-part name=\\"year\\"/></date></group></else-if></choose></macro><macro name=\\"number-volumes\\"><choose><if variable=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\" prefix=\\"(\\" suffix=\\")\\"><text variable=\\"number-of-volumes\\"/><label variable=\\"volume\\" form=\\"short\\" strip-periods=\\"true\\"/></group></if></choose></macro><macro name=\\"title\\"><choose><if type=\\"bill book legal_case legislation motion_picture report song thesis webpage graphic\\" match=\\"any\\"><group delimiter=\\". \\"><group delimiter=\\" \\"><group delimiter=\\" \\"><text variable=\\"title\\" font-style=\\"italic\\"/><text variable=\\"medium\\" prefix=\\"[\\" suffix=\\"]\\"/></group><text macro=\\"number-volumes\\"/></group><text macro=\\"edition\\"/></group></if><else><text variable=\\"title\\" form=\\"long\\" quotes=\\"true\\"/></else></choose></macro><macro name=\\"publisher\\"><choose><if type=\\"thesis\\"><group delimiter=\\". \\"><text variable=\\"genre\\"/><text variable=\\"publisher\\"/></group></if><else-if type=\\"report\\"><group delimiter=\\". \\"><group delimiter=\\" \\"><text variable=\\"genre\\"/><text variable=\\"number\\"/></group><group delimiter=\\": \\"><text variable=\\"publisher-place\\"/><text variable=\\"publisher\\"/></group></group></else-if><else-if type=\\"article-journal article-newspaper article-magazine\\" match=\\"none\\"><group delimiter=\\" \\"><group delimiter=\\", \\"><choose><if type=\\"speech\\" variable=\\"event\\" match=\\"any\\"><text variable=\\"event\\" font-style=\\"italic\\"/></if></choose><group delimiter=\\": \\"><text variable=\\"publisher-place\\"/><text variable=\\"publisher\\"/></group></group><group prefix=\\"(\\" suffix=\\")\\" delimiter=\\", \\"><text variable=\\"collection-title\\"/><text variable=\\"collection-number\\"/></group></group></else-if></choose></macro><macro name=\\"year-date\\"><choose><if variable=\\"issued\\"><date variable=\\"issued\\"><date-part name=\\"year\\"/></date><text variable=\\"year-suffix\\"/></if><else><text term=\\"no date\\"/><text variable=\\"year-suffix\\" prefix=\\" \\"/></else></choose></macro><macro name=\\"locator\\"><choose><if type=\\"article-journal\\"><text variable=\\"volume\\"/><text variable=\\"issue\\" prefix=\\"(\\" suffix=\\")\\"/></if></choose></macro><macro name=\\"published-date\\"><choose><if type=\\"article-newspaper article-magazine post-weblog speech\\" match=\\"any\\"><date variable=\\"issued\\"><date-part name=\\"day\\" suffix=\\" \\"/><date-part name=\\"month\\" form=\\"long\\"/></date></if></choose></macro><macro name=\\"pages\\"><choose><if type=\\"chapter paper-conference article-journal article article-magazine article-newspaper book review review-book report\\" match=\\"any\\"><group delimiter=\\" \\"><label variable=\\"page\\" form=\\"short\\"/><text variable=\\"page\\"/></group></if></choose></macro><macro name=\\"container-title\\"><choose><if variable=\\"container-title\\"><group delimiter=\\". \\"><group delimiter=\\" \\"><text variable=\\"container-title\\" font-style=\\"italic\\"/><choose><if type=\\"article article-journal\\" match=\\"any\\"><choose><if match=\\"none\\" variable=\\"page volume\\"><text value=\\"Preprint\\" prefix=\\"[\\" suffix=\\"]\\"/></if></choose></if></choose></group><text macro=\\"edition\\"/></group></if></choose></macro><macro name=\\"edition\\"><choose><if is-numeric=\\"edition\\"><group delimiter=\\" \\"><number variable=\\"edition\\" form=\\"ordinal\\"/><text term=\\"edition\\" form=\\"short\\" strip-periods=\\"true\\"/></group></if><else><text variable=\\"edition\\"/></else></choose></macro><macro name=\\"container-prefix\\"><choose><if type=\\"chapter paper-conference\\" match=\\"any\\"><text term=\\"in\\"/></if></choose></macro><citation et-al-min=\\"4\\" et-al-use-first=\\"1\\" disambiguate-add-year-suffix=\\"true\\" disambiguate-add-names=\\"true\\" disambiguate-add-givenname=\\"true\\" collapse=\\"year\\"><sort><key macro=\\"year-date\\"/></sort><layout prefix=\\"(\\" suffix=\\")\\" delimiter=\\"; \\"><group delimiter=\\", \\"><group delimiter=\\", \\"><text macro=\\"author-short\\"/><text macro=\\"year-date\\"/></group><group><label variable=\\"locator\\" form=\\"short\\" suffix=\\" \\"/><text variable=\\"locator\\"/></group></group></layout></citation><bibliography and=\\"text\\" et-al-min=\\"4\\" et-al-use-first=\\"1\\"><sort><key macro=\\"author\\"/><key macro=\\"year-date\\"/><key variable=\\"title\\"/></sort><layout suffix=\\".\\"><group delimiter=\\". \\"><group delimiter=\\" \\"><text macro=\\"author\\"/><text macro=\\"year-date\\" prefix=\\"(\\" suffix=\\")\\"/><group delimiter=\\", \\"><text macro=\\"title\\"/><group delimiter=\\" \\"><text macro=\\"container-prefix\\"/><text macro=\\"editor\\"/><text macro=\\"container-title\\"/></group></group></group><text macro=\\"secondary-contributors\\"/><text macro=\\"publisher\\"/></group><group delimiter=\\", \\" prefix=\\", \\"><text macro=\\"locator\\"/><text macro=\\"published-date\\"/><text macro=\\"pages\\"/></group><text macro=\\"access\\" prefix=\\". \\"/></layout></bibliography>\\n</style>\\n"}'),o=new r.D5.Register(n);var l=i(26109),m=i.n(l);const u=Symbol.for("proxied"),p=function(e){const t=function(t,i){if(t.sys.wrapBibliographyEntry){const[e,r]=t.sys.wrapBibliographyEntry(this.system_id);i=[e,i,r].join("")}return e.call(this,t,i)};return t[u]=!0,t};for(const e in m().Output.Formats){const t=m().Output.Formats[e]["@bibliography/entry"];t&&!t[u]&&(m().Output.Formats[e]["@bibliography/entry"]=p(t))}function c(e){if(a.has(e))return a.get(e);const t=e.replace("-","_");return a.has(t)?a.get(t):{}}const h={},f=function(e,t,i,r){if(!m().Output.Formats[r]||!m().Output.Formats[r]["@bibliography/entry"])throw new TypeError(`Cannot find format '${r}'`);const s=e.reduce(((e,t)=>(e[t.id]=t,e)),{}),n=o.get(o.has(t)?t:"apa"),l=function(e,t,i,r,s){const a=`${e}|${t}`;let n;return h[a]instanceof m().Engine?(n=h[a],n.sys.retrieveItem=r,n.sys.wrapBibliographyEntry=void 0,n.updateItems([])):n=h[a]=new(m().Engine)({retrieveLocale:s,retrieveItem:r},i,t,!0),n}(t,i=a.has(i)?i:void 0,n,(function(e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e];throw new Error(`Cannot find entry with id '${e}'`)}),c);return l.setOutputFormat(r),l},d=(e,t)=>"function"==typeof t?t(e):t||"";function g(e){return"object"==typeof e?e:{id:e}}function b(e){return e.citationItems?e:{citationItems:[].concat(e).map(g),properties:{noteIndex:0}}}function v(e){return e?e.map(b):[]}r.Gr.add("@csl",{output:{bibliography:function(e,t={}){const{template:i="apa",lang:s,format:a="text",nosort:n=!1}=t,o=t.entry?[].concat(t.entry):e.map((({id:e})=>e));e=r.D5.downgradeCsl(e);const l=f(e,i,s,a),m=l.updateItems(o,n);if(t.append||t.prepend){const i=e.reduce(((e,t)=>(e[t.id]=t,e)),{});l.sys.wrapBibliographyEntry=function(e){const r=i[e];return[d(r,t.prepend),d(r,t.append)]}}const u=l.makeBibliography(),[{bibstart:p,bibend:c},h]=u,g=h.map(((e,t)=>{return i=e,r=m[t],((e,t,i)=>e.replace(/^\s*<[a-z]+/i,`$& data-${t}="${i}"`))(i,"csl-entry-id",r);var i,r}));return t.asEntryArray?g.map(((e,t)=>[m[t],e])):p+g.join("")+c},citation:function(e,t={}){const{template:i="apa",lang:s,format:a="text"}=t,n=e.map((({id:e})=>e)),o=t.entry?t.entry:n;e=r.D5.downgradeCsl(e);const l=f(e,i,s,a),m=v(t.citationsPre),u=b(o),p=v(t.citationsPost);return l.rebuildProcessorState([...m,u,...p],a,[])[m.length][2]}},config:{engine:f,locales:a,templates:o}})},26109:e=>{var t,i,r,s,a,n,o,l,m,u,p={PROCESSOR_VERSION:"1.4.61",error:function(e){throw"undefined"==typeof Error?new Error("citeproc-js error: "+e):"citeproc-js error: "+e},debug:function(e){"undefined"==typeof console?dump("CSL: "+e+"\n"):console.log("citeproc-js warning: "+e)},toLocaleUpperCase(e){var t=this.tmp.lang_array;try{e=e.toLocaleUpperCase(t)}catch(t){e=e.toUpperCase()}return e},toLocaleLowerCase(e){var t=this.tmp.lang_array;try{e=e.toLocaleLowerCase(t)}catch(t){e=e.toLowerCase()}return e},LOCATOR_LABELS_REGEXP:new RegExp("^((vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"vrs.":"verse","sv.":"sub-verbo","subpara.":"subparagraph","op.":"opus","subch.":"subchapter","add.":"addendum","amend.":"amendment","annot.":"annotation","app.":"appendix","art.":"article","bibliog.":"bibliography","bk.":"book","ch.":"chapter","cl.":"clause","col.":"column","cmt.":"comment","dec.":"decision","dept.":"department","ex.":"example","fig.":"figure","fld.":"field","fol.":"folio","n.":"note","hypo.":"hypothetical","illus.":"illustration","intro.":"introduction","l.":"line","no.":"issue","p.":"page","pp.":"page","para.":"paragraph","pt.":"part","pmbl.":"preamble","princ.":"principle","pub.":"publication","r.":"rule","rn.":"randnummer","sched.":"schedule","sec.":"section","ser.":"series,","subdiv.":"subdivision","subsec.":"subsection","supp.":"supplement","tbl.":"table","tit.":"title","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{verse:"vrs.","sub-verbo":"sv.","sub verbo":"sv.",subparagraph:"subpara.",opus:"op.",subchapter:"subch.",addendum:"add.",amendment:"amend.",annotation:"annot.",appendix:"app.",article:"art.",bibliography:"bibliog.",book:"bk.",chapter:"ch.",clause:"cl.",column:"col.",comment:"cmt.",decision:"dec.",department:"dept.",example:"ex.",figure:"fig.",field:"fld.",folio:"fol.",note:"n.",hypothetical:"hypo.",illustration:"illus.",introduction:"intro.",line:"l.",issue:"no.",page:"p.",paragraph:"para.",part:"pt.",preamble:"pmbl.",principle:"princ.",publication:"pub.",rule:"r.",randnummer:"rn.",schedule:"sched.",section:"sec.","series,":"ser.",subdivision:"subdiv.",subsection:"subsec.",supplement:"supp.",table:"tbl.",title:"tit.",volume:"vol."},LOCATOR_LABELS_MAP:{vrs:"verse",sv:"sub-verbo",subpara:"subparagraph",op:"opus",subch:"subchapter",add:"addendum",amend:"amendment",annot:"annotation",app:"appendix",art:"article",bibliog:"bibliography",bk:"book",ch:"chapter",cl:"clause",col:"column",cmt:"comment",dec:"decision",dept:"department",ex:"example",fig:"figure",fld:"field",fol:"folio",n:"note",hypo:"hypothetical",illus:"illustration",intro:"introduction",l:"line",no:"issue",p:"page",pp:"page",para:"paragraph",pt:"part",pmbl:"preamble",princ:"principle",pub:"publication",r:"rule",rn:"randnummer",sched:"schedule",sec:"section",ser:"series,",subdiv:"subdivision",subsec:"subsection",supp:"supplement",tbl:"table",tit:"title",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0,patent:!0,locator:!0},checkNestedBrace:function(e){"note"===e.opt.xclass?(this.depth=0,this.update=function(e){for(var t=(e=e||"").split(/([\(\)])/),i=1,r=t.length;i<r;i+=2)"("===t[i]?(1==this.depth%2&&(t[i]="["),this.depth+=1):")"===t[i]&&(0==this.depth%2&&(t[i]="]"),this.depth-=1);return t.join("")}):this.update=function(e){return e}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"titles",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"places",edition:"places",issue:"places",volume:"places"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},getAbbrevsDomain:function(e,t,i){var r=null;if(e.opt.availableAbbrevDomains&&t&&"default"!==t){var s=e.locale[e.opt.lang].opts["jurisdiction-preference"],a=null;if(e.locale[i]&&(a=e.locale[i].opts["jurisdiction-preference"]),a)for(var n=a.length-1;n>-1;n--)if(e.opt.availableAbbrevDomains[t].indexOf(a[n])>-1){r=a[n];break}if(!r&&s)for(n=s.length-1;n>-1;n--)if(e.opt.availableAbbrevDomains[t].indexOf(s[n])>-1){r=s[n];break}}return r},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"container-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","locator-extra":"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(e){if(this.opt.development_extensions.locator_date_and_revision&&e.locator){e.locator=""+e.locator;var t=e.locator.indexOf("|");if(t>-1){var i=e.locator;e.locator=i.slice(0,t);var r=(i=i.slice(t+1)).match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);r&&(e["locator-date"]=this.fun.dateparser.parseDateToObject(r[1]),i=i.slice(r[1].length)),e["locator-extra"]=i.replace(/^\s+/,"").replace(/\s+$/,"")}}return e.locator&&(e.locator=(""+e.locator).replace(/\s+$/,"")),e},normalizeLocaleStr:function(e){if(e){var t=e.split("-");return t[0]=t[0].toLowerCase(),t[1]&&(t[1]=t[1].toUpperCase()),t.join("-")}},parseNoteFieldHacks:function(e,t,i){if("string"==typeof e.note){for(var r=[],s=e.note.split("\n"),a=0,n=s.length;a<n;a++){r=[];var o=(f=s[a]).match(p.NOTE_FIELDS_REGEXP);if(o){for(var l=f.split(p.NOTE_FIELDS_REGEXP),m=0,u=l.length-1;m<u;m++)r.push(l[m]),r.push(o[m]);r.push(l[l.length-1]);for(m=1,u=r.length;m<u&&(!r[m-1].trim()||!(a>0||m>1)||r[m-1].match(p.NOTE_FIELD_REGEXP));m+=2)r[m]="\n"+r[m].slice(2,-1).trim()+"\n";s[a]=r.join("")}}var c=0,h={};for(a=0,n=(s=s.join("\n").split("\n")).length;a<n;a++){var f,d=(f=s[a]).match(p.NOTE_FIELD_REGEXP);if(f.trim()){if(!d){if(0===a)continue;c=a;break}var g=d[1],b=d[2].replace(/^\s+/,"").replace(/\s+$/,"");if("type"===g)e.type=b,s[a]="";else if(p.DATE_VARIABLES.indexOf(g.replace(/^alt-/,""))>-1)e[g]&&!i||(e[g]=p.DateParser.parseDateToArray(b),(!t||t[g]&&this.isDateString(b))&&(s[a]=""));else if(!e[g]){if(p.NAME_VARIABLES.indexOf(g.replace(/^alt-/,""))>-1){h[g]||(h[g]=[]);var v=b.split(/\s*\|\|\s*/);if(1===v.length)h[g].push({literal:v[0]});else if(2===v.length){var y={family:v[0],given:v[1]};p.parseParticles(y),h[g].push(y)}}else e[g]=b;t&&!t[g]||(s[a]="")}}}for(var g in h)e[g]=h[g];if(t){s[c].trim()&&(s[c]="\n"+s[c]);for(a=c-1;a>-1;a--)s[a].trim()||(s=s.slice(0,a).concat(s.slice(a+1)))}e.note=s.join("\n").trim()}},checkPrefixSpaceAppend:function(e,t){t||(t="");var i="",r=t.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),s=r.slice(-1);return(r.match(p.ENDSWITH_ROMANESQUE_REGEXP)||p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(s)>-1||s.match(/[\)\],0-9]/))&&(i=" "),t=(t+i).replace(/\s+/g," ")},checkIgnorePredecessor:function(e,t){var i=t.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,"").slice(-1);return p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(i)>-1&&t.trim().indexOf(" ")>-1&&(e.tmp.term_predecessor=!1,!0)},checkSuffixSpacePrepend:function(e,t){return t?((t.match(p.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(t.slice(0,1))>-1)&&(t=" "+t),t):""},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,PRIMARY:1,SECONDARY:2,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,POSITION_CONTAINER_SUBSEQUENT:4,POSITION_MAP:{0:0,4:1,1:2,2:3,3:4},POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort","intext"],CITE_FIELDS:["first-reference-note-number","first-container-reference-note-number","locator","locator-extra"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,TRIGRAPH:3,DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)(\.)*/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],CREATORS:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","division","edition","page","issue","locator","locator-extra","number","number-of-pages","number-of-volumes","part-number","printing-number","section","supplement-number","version","volume","supplement","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","original-date","publication-date","available-date","submitted","alt-issued","alt-event"],VARIABLES_WITH_SHORT_FORM:["title","container-title"],TITLE_FIELD_SPLITS:function(e){for(var t=["title","short","main","sub","subjoin"],i={},r=0,s=t.length;r<s;r++)i[t[r]]=e+"title"+("title"===t[r]?"":"-"+t[r]);return i},demoteNoiseWords:function(e,t,i){var r=e.locale[e.opt.lang].opts["leading-noise-words"];if(t&&i){(t=t.split(/\s+/)).reverse();for(var s=[],a=t.length-1;a>-1&&r.indexOf(t[a].toLowerCase())>-1;a+=-1)s.push(t.pop());t.reverse();var n=t.join(" "),o=s.join(" ");"drop"!==i&&o?"demote"===i&&(t=[n,o].join(", ")):t=n}return t},extractTitleAndSubtitle:function(e,t){var i=t?" ":"",r=[""];this.opt.development_extensions.split_container_title&&r.push("container-");for(var s=0,a=r.length;s<a;s++){var n=r[s],o=p.TITLE_FIELD_SPLITS(n),l=[!1];if(e.multi)for(var m in e.multi._keys[o.short])l.push(m);for(var u=0,c=l.length;u<c;u++){var h={};(m=l[u])?(e.multi._keys[o.title]&&(h[o.title]=e.multi._keys[o.title][m]),e.multi._keys[o.short]&&(h[o.short]=e.multi._keys[o.short][m])):(h[o.title]=e[o.title],h[o.short]=e[o.short]),h[o.main]=h[o.title],h[o.sub]=!1;var f=h[o.short];if(h[o.title]){if(f&&f.toLowerCase()===h[o.title].toLowerCase())h[o.main]=h[o.title],h[o.subjoin]="",h[o.sub]="";else if(f){var d=h[o.title].slice(f.replace(/[\?\!]+$/,"").length),g=h[o.title].replace(d.replace(/^[\?\!]+/,""),"").trim();if((y=p.TITLE_SPLIT_REGEXP.matchfirst.exec(d))&&g.toLowerCase()===f.toLowerCase())h[o.main]=g,h[o.subjoin]=y[1].replace(/[\?\!]+(\s*)$/,"$1"),h[o.sub]=d.replace(p.TITLE_SPLIT_REGEXP.matchfirst,""),this.opt.development_extensions.force_short_title_casing_alignment&&(h[o.short]=h[o.main]);else 3==(b=p.TITLE_SPLIT(h[o.title])).length?(h[o.main]=b[0],h[o.subjoin]=b[1],h[o.sub]=b[2]):(h[o.main]=h[o.title],h[o.subjoin]="",h[o.sub]="")}else{var b;if(3==(b=p.TITLE_SPLIT(h[o.title])).length){if(h[o.main]=b[0],h[o.subjoin]=b[1],h[o.sub]=b[2],this.opt.development_extensions.implicit_short_title&&"legal_case"!==e.type&&!e[o.short]&&!h[o.main].match(/^[\-\.[0-9]+$/)){var v=h[o.subjoin].trim();-1===["?","!"].indexOf(v)&&(v=""),h[o.short]=h[o.main]+v}}else h[o.main]=h[o.title],h[o.subjoin]="",h[o.sub]=""}if(h[o.subjoin]&&h[o.subjoin].match(/([\?\!])/)){var y=h[o.subjoin].match(/(\s*)$/);h[o.main]=h[o.main]+i+h[o.subjoin].trim(),h[o.subjoin]=y[1]}}if(h[o.subjoin]&&(h[o.subjoin].indexOf(":")>-1&&(h[o.subjoin]=i+": "),(h[o.subjoin].indexOf("-")>-1||h[o.subjoin].indexOf("—")>-1)&&(h[o.subjoin]="—")),m)for(var _ in h)e.multi._keys[_]||(e.multi._keys[_]={}),e.multi._keys[_][m]=h[_];else for(var _ in h)e[_]=h[_]}}},titlecaseSentenceOrNormal:function(e,t,i,r,s){var a=p.TITLE_FIELD_SPLITS(i),n={};if(r&&t.multi?(t.multi._keys[a.title]&&(n[a.title]=t.multi._keys[a.title][r]),t.multi._keys[a.main]&&(n[a.main]=t.multi._keys[a.main][r]),t.multi._keys[a.sub]&&(n[a.sub]=t.multi._keys[a.sub][r]),t.multi._keys[a.subjoin]&&(n[a.subjoin]=t.multi._keys[a.subjoin][r])):(n[a.title]=t[a.title],n[a.main]=t[a.main],n[a.sub]=t[a.sub],n[a.subjoin]=t[a.subjoin]),n[a.main]&&n[a.sub]){var o=n[a.main],l=n[a.subjoin],m=n[a.sub];return s?(o=p.Output.Formatters.sentence(e,o),m=p.Output.Formatters.sentence(e,m)):e.opt.development_extensions.uppercase_subtitles&&(m=p.Output.Formatters["capitalize-first"](e,m)),[o,l,m].join("")}if(n[a.title]){if(s)return p.Output.Formatters.sentence(e,n[a.title]);if(e.opt.development_extensions.uppercase_subtitles){for(var u=p.TITLE_SPLIT(n[a.title]),c=0,h=u.length;c<h;c+=2)u[c]=p.Output.Formatters["capitalize-first"](e,u[c]);for(c=1,h=u.length-1;c<h;c+=2){var f=u[c].match(/([:\?\!] )/);if(f){var d="fr"===e.opt["default-locale"][0].slice(0,2).toLowerCase()?" ":"";u[c]=d+f[1]}(u[c].indexOf("-")>-1||u[c].indexOf("—")>-1)&&(u[c]="—")}return n[a.title]=u.join(""),n[a.title]}return n[a.title]}return""},getSafeEscape:function(e){if(["bibliography","citation"].indexOf(e.tmp.area)>-1){var t=[];return e.opt.development_extensions.thin_non_breaking_space_html_hack&&"html"===e.opt.mode&&t.push((function(e){return e.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')})),t.length?function(i){for(var r=0,s=t.length;r<s;r+=1)i=t[r](i);return p.Output.Formats[e.opt.mode].text_escape(i)}:p.Output.Formats[e.opt.mode].text_escape}return function(e){return e}},SKIP_WORDS:["about","above","across","afore","after","against","al","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","et","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-à-vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokmål)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukrainian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{ª:"a","²":"2","³":"3","¹":"1",º:"o",ʰ:"h",ʱ:"ɦ",ʲ:"j",ʳ:"r",ʴ:"ɹ",ʵ:"ɻ",ʶ:"ʁ",ʷ:"w",ʸ:"y",ˠ:"ɣ",ˡ:"l",ˢ:"s",ˣ:"x",ˤ:"ʕ",ᴬ:"A",ᴭ:"Æ",ᴮ:"B",ᴰ:"D",ᴱ:"E",ᴲ:"Ǝ",ᴳ:"G",ᴴ:"H",ᴵ:"I",ᴶ:"J",ᴷ:"K",ᴸ:"L",ᴹ:"M",ᴺ:"N",ᴼ:"O",ᴽ:"Ȣ",ᴾ:"P",ᴿ:"R",ᵀ:"T",ᵁ:"U",ᵂ:"W",ᵃ:"a",ᵄ:"ɐ",ᵅ:"ɑ",ᵆ:"ᴂ",ᵇ:"b",ᵈ:"d",ᵉ:"e",ᵊ:"ə",ᵋ:"ɛ",ᵌ:"ɜ",ᵍ:"g",ᵏ:"k",ᵐ:"m",ᵑ:"ŋ",ᵒ:"o",ᵓ:"ɔ",ᵔ:"ᴖ",ᵕ:"ᴗ",ᵖ:"p",ᵗ:"t",ᵘ:"u",ᵙ:"ᴝ",ᵚ:"ɯ",ᵛ:"v",ᵜ:"ᴥ",ᵝ:"β",ᵞ:"γ",ᵟ:"δ",ᵠ:"φ",ᵡ:"χ","⁰":"0",ⁱ:"i","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","⁺":"+","⁻":"−","⁼":"=","⁽":"(","⁾":")",ⁿ:"n","℠":"SM","™":"TM","㆒":"一","㆓":"二","㆔":"三","㆕":"四","㆖":"上","㆗":"中","㆘":"下","㆙":"甲","㆚":"乙","㆛":"丙","㆜":"丁","㆝":"天","㆞":"地","㆟":"人",ˀ:"ʔ",ˁ:"ʕ",ۥ:"و",ۦ:"ي"},SUPERSCRIPTS_REGEXP:new RegExp("[ª²³¹ºʰʱʲʳʴʵʶʷʸˠˡˢˣˤᴬᴭᴮᴰᴱᴲᴳᴴᴵᴶᴷᴸᴹᴺᴼᴽᴾᴿᵀᵁᵂᵃᵄᵅᵆᵇᵈᵉᵊᵋᵌᵍᵏᵐᵑᵒᵓᵔᵕᵖᵗᵘᵙᵚᵛᵜᵝᵞᵟᵠᵡ⁰ⁱ⁴⁵⁶⁷⁸⁹⁺⁻⁼⁽⁾ⁿ℠™㆒㆓㆔㆕㆖㆗㆘㆙㆚㆛㆜㆝㆞㆟ˀˁۥۦ]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(e,t,i,r,s){if(e.opt.use_context_condition){var a=e.tmp.group_context.tip;a.condition?(a.condition.termtxt||(a.condition.termtxt=t,a.condition.valueTerm=i),a.value_seen||"comma-safe-numbers-only"!==a.condition.test||s&&(a.value_seen=!0,s.match(/^[0-9]/)||(e.tmp.just_did_number=!1))):r&&r.decorations.filter((e=>"@vertical-align"===e[0])).length>0||r&&r.strings.suffix?e.tmp.just_did_number=!1:t&&(t.match(/[0-9]$/)?e.tmp.just_did_number=!0:e.tmp.just_did_number=!1)}},EVALUATE_GROUP_CONDITION:function(e,t){if(e.opt.use_context_condition){var i,r="comma-safe-numbers-only"===t.condition.test;if("empty-label"===t.condition.test)i=!t.condition.termtxt;else if("empty-label-no-decor"===t.condition.test)i=!t.condition.termtxt||t.condition.termtxt.indexOf("%s")>-1;else if(["comma-safe","comma-safe-numbers-only"].indexOf(t.condition.test)>-1){var s=t.condition.termtxt,a=!1;t.condition.termtxt&&(a=t.condition.termtxt.slice(0,1).match(p.ALL_ROMANESQUE_REGEXP)),i=e.tmp.just_did_number?t.condition.valueTerm?!r:!s||(a?!r:["always","after-number"].indexOf(e.opt.require_comma_on_symbol)>-1):!t.condition.valueTerm&&(!!s&&(a?!r:"always"===e.opt.require_comma_on_symbol))}if(i)var n=!1;else n=!0;return t.condition.not&&(n=!n),n}},SYS_OPTIONS:["prioritize_disambiguate_condition","csl_reverse_lookup_support","main_title_from_short_title","uppercase_subtitles","force_short_title_casing_alignment","implicit_short_title","split_container_title"],TITLE_SPLIT_REGEXP:(t=["\\.\\s+","\\!\\s+","\\?\\s+","\\s*::*\\s+","\\s*—\\s*","\\s+\\-\\s+","\\s*\\-\\-\\-*\\s*"],{match:new RegExp("("+t.join("|")+")","g"),matchfirst:new RegExp("^("+t.join("|")+")"),split:new RegExp("(?:"+t.join("|")+")")}),TITLE_SPLIT:function(e){if(!e)return e;for(var t=e.match(p.TITLE_SPLIT_REGEXP.match),i=e.split(p.TITLE_SPLIT_REGEXP.split),r=i.length-2;r>-1;r--)i[r]=i[r].trim(),i[r]&&i[r].slice(-1).toLowerCase()!==i[r].slice(-1)?(i[r]=i[r]+t[r]+i[r+1],i=i.slice(0,r+1).concat(i.slice(r+2))):i=i.slice(0,r+1).concat([t[r]]).concat(i.slice(r+1));return i},GET_COURT_CLASS:function(e,t,i){var r="",s=null,a=t.jurisdiction?t.jurisdiction.split(":")[0]:null,n="court_condition_classes";return i&&(n="court_key_classes"),a&&t.authority&&("string"==typeof t.authority?s=t.authority:t.authority[0]&&t.authority[0].literal&&(s=t.authority[0].literal)),s&&(this.lang&&e.locale[this.lang].opts[n]&&e.locale[this.lang].opts[n][a]&&e.locale[this.lang].opts[n][a][s]?r=e.locale[this.lang].opts[n][a][s]:e.locale[e.opt["default-locale"][0]].opts[n]&&e.locale[e.opt["default-locale"][0]].opts[n][a]&&e.locale[e.opt["default-locale"][0]].opts[n][a][s]&&(r=e.locale[e.opt["default-locale"][0]].opts[n][a][s])),r},SET_COURT_CLASSES:function(e,t,i,r){for(var s=i.getNodesByName(r,"court-class"),a=0,n=i.numberofnodes(s);a<n;a+=1){var o=s[a],l=i.attributes(o),m=l["@name"],u=l["@country"],p=l["@courts"],c="court_key_classes";if(e.registry&&(c="court_condition_classes"),m&&u&&p){p=p.trim().split(/\s+/),e.locale[t].opts[c]||(e.locale[t].opts[c]={}),e.locale[t].opts[c][u]||(e.locale[t].opts[c][u]={});for(var h=0,f=p.length;h<f;h++)e.locale[t].opts[c][u][p[h]]=m}}},INIT_JURISDICTION_MACROS:function(e,t,i,r){if(t["best-jurisdiction"])return!0;if(!e.sys.retrieveStyleModule||!p.MODULE_MACROS[r]||!t.jurisdiction)return!1;var s=e.getJurisdictionList(t.jurisdiction);if(!e.opt.jurisdictions_seen[s[0]]){var a=e.retrieveAllStyleModules(s);for(var n in a){var o=e.loadStyleModule(n,a[n]);o&&(a[o]||(Object.assign(a,e.retrieveAllStyleModules([o])),e.loadStyleModule(o,a[o],!0)))}}e.opt.parallel.enable&&(e.parallel||(e.parallel=new p.Parallel(e)));for(var l=0,m=s.length;l<m;l++){n=s[l];if(i&&e.juris[n]&&!i["best-jurisdiction"]&&e.juris[n].types.locator&&(t["best-jurisdiction"]=n),e.juris[n]&&e.juris[n].types[t.type])return t["best-jurisdiction"]=n,!0}return!1}};p.XmlJSON=function(e){this.dataObj=e,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", "},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}},p.XmlJSON.prototype.clean=function(e){return e},p.XmlJSON.prototype.getStyleId=function(e,t){var i="id";t&&(i="title");for(var r="",s=e.children,a=0,n=s.length;a<n;a++)if("info"===s[a].name)for(var o=s[a].children,l=0,m=o.length;l<m;l++)o[l].name===i&&(r=o[l].children[0]);return r},p.XmlJSON.prototype.children=function(e){return!(!e||!e.children.length)&&e.children.slice()},p.XmlJSON.prototype.nodename=function(e){return e?e.name:null},p.XmlJSON.prototype.attributes=function(e){var t={};for(var i in e.attrs)t["@"+i]=e.attrs[i];return t},p.XmlJSON.prototype.content=function(e){var t="";if(!e||!e.children)return t;for(var i=0,r=e.children.length;i<r;i+=1)"string"==typeof e.children[i]&&(t+=e.children[i]);return t},p.XmlJSON.prototype.namespace={},p.XmlJSON.prototype.numberofnodes=function(e){return e&&"number"==typeof e.length?e.length:0},p.XmlJSON.prototype.getAttributeValue=function(e,t,i){var r="";return i&&(t=i+":"+t),e&&e.attrs&&(r=e.attrs[t]?e.attrs[t]:""),r},p.XmlJSON.prototype.getNodeValue=function(e,t){var i="";if(t)for(var r=0,s=e.children.length;r<s;r+=1)e.children[r].name===t&&(i=e.children[r].children.length?e.children[r]:"");else e&&(i=e);return i&&i.children&&1==i.children.length&&"string"==typeof i.children[0]&&(i=i.children[0]),i},p.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(e,t,i,r,s){"@"===r.slice(0,1)&&(r=r.slice(1));for(var a=0,n=e.children.length;a<n;a+=1)e.children[a].name===t&&e.children[a].attrs.name===i&&(e.children[a].attrs[r]=s)},p.XmlJSON.prototype.deleteNodeByNameAttribute=function(e,t){var i,r;for(i=0,r=e.children.length;i<r;i+=1)e.children[i]&&"string"!=typeof e.children[i]&&e.children[i].attrs.name==t&&(e.children=e.children.slice(0,i).concat(e.children.slice(i+1)))},p.XmlJSON.prototype.deleteAttribute=function(e,t){void 0!==e.attrs[t]&&e.attrs.pop(t)},p.XmlJSON.prototype.setAttribute=function(e,t,i){return e.attrs[t]=i,!1},p.XmlJSON.prototype.nodeCopy=function(e,t){if(!t)t={};if("object"==typeof t&&void 0===t.length)for(var i in e)"string"==typeof e[i]?t[i]=e[i]:"object"==typeof e[i]&&(void 0===e[i].length?t[i]=this.nodeCopy(e[i],{}):t[i]=this.nodeCopy(e[i],[]));else for(var r=0,s=e.length;r<s;r+=1)"string"==typeof e[r]?t[r]=e[r]:t[r]=this.nodeCopy(e[r],{});return t},p.XmlJSON.prototype.getNodesByName=function(e,t,i,r){if(!r)r=[];if(!e||!e.children)return r;t===e.name&&(i?i===e.attrs.name&&r.push(e):r.push(e));for(var s=0,a=e.children.length;s<a;s+=1)"object"==typeof e.children[s]&&this.getNodesByName(e.children[s],t,i,r);return r},p.XmlJSON.prototype.nodeNameIs=function(e,t){return void 0!==e&&t==e.name},p.XmlJSON.prototype.makeXml=function(e){return"string"==typeof e&&(e="<"===e.slice(0,1)?this.jsonStringWalker.walkToObject(e):JSON.parse(e)),e},p.XmlJSON.prototype.insertChildNodeAfter=function(e,t,i,r){for(var s=0,a=e.children.length;s<a;s+=1)if(t===e.children[s]){e.children=e.children.slice(0,s).concat([r]).concat(e.children.slice(s+1));break}return e},p.XmlJSON.prototype.insertPublisherAndPlace=function(e){if("group"===e.name){for(var t=!0,i=["publisher","publisher-place"],r=0,s=e.children.length;r<s;r+=1){var a=i.indexOf(e.children[r].attrs.variable);if(!("text"===e.children[r].name&&a>-1)||e.children[r].attrs.prefix||e.children[r].attrs.suffix){t=!1;break}i=i.slice(0,a).concat(i.slice(a+1))}t&&!i.length&&(e.attrs["has-publisher-and-publisher-place"]=!0)}for(r=0,s=e.children.length;r<s;r+=1)"object"==typeof e.children[r]&&this.insertPublisherAndPlace(e.children[r])},p.XmlJSON.prototype.isChildOfSubstitute=function(e){if(e.length>0){var t=e.slice();return"substitute"===t.pop()||this.isChildOfSubstitute(t)}return!1},p.XmlJSON.prototype.addMissingNameNodes=function(e,t){if(t||(t=[]),"names"===e.name&&!this.isChildOfSubstitute(t)){for(var i=!0,r=0,s=e.children.length;r<s;r++)if("name"===e.children[r].name){i=!1;break}i&&(e.children=[{name:"name",attrs:{},children:[]}].concat(e.children))}t.push(e.name);for(r=0,s=e.children.length;r<s;r+=1)"object"==typeof e.children[r]&&this.addMissingNameNodes(e.children[r],t);t.pop()},p.XmlJSON.prototype.addInstitutionNodes=function(e){if("names"===e.name){for(var t={},i=-1,r=0,s=e.children.length;r<s;r+=1){if("name"==e.children[r].name){for(var a in e.children[r].attrs)t[a]=e.children[r].attrs[a];t.delimiter=e.children[r].attrs.delimiter,t.and=e.children[r].attrs.and,i=r;for(var n=0,o=e.children[r].children.length;n<o;n+=1)if("family"===e.children[r].children[n].attrs.name)for(var a in e.children[r].children[n].attrs)t[a]=e.children[r].children[n].attrs[a]}if("institution"==e.children[r].name){i=-1;break}}if(i>-1){var l=this.nodeCopy(this.institution);for(r=0,s=p.INSTITUTION_KEYS.length;r<s;r+=1){var m=p.INSTITUTION_KEYS[r];void 0!==t[m]&&(l.children[0].attrs[m]=t[m]),t.delimiter&&(l.attrs.delimiter=t.delimiter),t.and&&(l.attrs.and=t.and)}e.children=e.children.slice(0,i+1).concat([l]).concat(e.children.slice(i+1))}}for(r=0,s=e.children.length;r<s;r+=1)"string"!=typeof e.children[r]&&this.addInstitutionNodes(e.children[r])},p.XmlJSON.prototype.flagDateMacros=function(e){for(var t=0,i=e.children.length;t<i;t+=1)"macro"===e.children[t].name&&this.inspectDateMacros(e.children[t])&&(e.children[t].attrs["macro-has-date"]="true")},p.XmlJSON.prototype.inspectDateMacros=function(e){if(!e||!e.children)return!1;if("date"===e.name)return!0;for(var t=0,i=e.children.length;t<i;t+=1)if(this.inspectDateMacros(e.children[t]))return!0;return!1},p.stripXmlProcessingInstruction=function(e){return e?e=(e=(e=(e=e.replace(/^<\?[^?]+\?>/,"")).replace(/<!--[^>]+-->/g,"")).replace(/^\s+/g,"")).replace(/\s+$/g,""):e},p.parseXml=function(e){var t={children:[]},i=[t.children];function r(e){return e.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,(function(e,t){var i=parseInt(t,10);return String.fromCharCode(i)})).replace(/&#x([a-f0-9]{1,6});/gi,(function(e,t){var i=parseInt(t,16);return String.fromCharCode(i)}))}function s(e,t){var i=RegExp("^.*[\t ]+"+t+"=(\"(?:[^\"]*)\"|'(?:[^']*)').*$"),r=e.match(i);return r?r[1].slice(1,-1):null}function a(e){var t=RegExp("^<([^\t />]+)"),i=e.match(t);return i?i[1]:null}function n(e){var t={};t.name=a(e),t.attrs={};var i=function(e){var t=e.match(/([^\'\"=	 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(t)for(var i=0,r=t.length;i<r;i++)t[i]=t[i].replace(/=.*/,"");return t}(e);if(i)for(var n=0,o=i.length;n<o;n++){var l={name:i[n],value:s(e,i[n])};t.attrs[l.name]=r(l.value)}return t.children=[],t}function o(e){return r(e.match(/^.*>([^<]*)<.*$/)[1])}function l(e){i.slice(-1)[0].push(e)}function m(e){var t;e.slice(1).indexOf("<")>-1?((t=n(e.slice(0,e.indexOf(">")+1))).children=[o(e)],l(t)):"/>"===e.slice(-2)?(t=n(e),"term"===a(e)&&t.children.push(""),l(t)):"</"===e.slice(0,2)?i.pop():(l(t=n(e)),function(e){i.push(e.children)}(t))}for(var u=function(e){for(var t=(e=e.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[	 ]+</g,"><").replace(/<\!--.*?-->/g,"")).split("><"),i=null,r=0,s=t.length;r<s;r++)r>0&&(t[r]="<"+t[r]),r<t.length-1&&(t[r]=t[r]+">"),"number"!=typeof i&&("<style "!==t[r].slice(0,7)&&"<locale "!=t[r].slice(0,8)||(i=r));for(r=(t=t.slice(i)).length-2;r>-1;r--)if(-1===t[r].slice(1).indexOf("<")){var a=t[r].slice(0,5);"/>"!==t[r].slice(-2)&&("<term"===a?"</term"===t[r+1].slice(0,6)&&(t[r]=t[r]+t[r+1],t=t.slice(0,r+1).concat(t.slice(r+2))):["<sing","<mult"].indexOf(a)>-1&&"/>"!==t[r].slice(-2)&&"<"===t[r+1].slice(0,1)&&(t[r]=t[r]+t[r+1],t=t.slice(0,r+1).concat(t.slice(r+2))))}return t}(e),p=0,c=u.length;p<c;p++){m(u[p])}return t.children[0]},p.XmlDOM=function(e){this.dataObj=e,"undefined"==typeof DOMParser?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(e,t){var i;return"undefined"!=typeof ActiveXObject?((i=new ActiveXObject("MSXML.DomDocument")).async=!1,i.loadXML(e),i):"undefined"!=typeof XMLHttpRequest?(t||(t="text/xml"),(i=new XMLHttpRequest).open("GET","data:"+t+";charset=utf-8,"+encodeURIComponent(e),!1),i.overrideMimeType&&i.overrideMimeType(t),i.send(null),i.responseXML):"undefined"!=typeof marknote?(new marknote.Parser).parse(e):void 0},this.hasAttributes=function(e){return!(!e.attributes||!e.attributes.length)}):this.hasAttributes=function(e){return!(!e.attributes||!e.attributes.length)},this.importNode=function(e,t){return void 0===e.importNode?this._importNode(e,t,!0):e.importNode(t,!0)},this._importNode=function(e,t,i){if(1===t.nodeType){var r=e.createElement(t.nodeName);if(t.attributes&&t.attributes.length>0)for(var s=0,a=t.attributes.length;s<a;)r.setAttribute(t.attributes[s].nodeName,t.getAttribute(t.attributes[s++].nodeName));if(i&&t.childNodes&&t.childNodes.length>0)for(s=0,a=t.childNodes.length;s<a;)r.appendChild(this._importNode(e,t.childNodes[s++],i));return r}},this.parser=new DOMParser;var t=this.parser.parseFromString('<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',"text/xml"),i=t.getElementsByTagName("institution");this.institution=i.item(0);var r=t.getElementsByTagName("institution-part");this.institutionpart=r.item(0),this.ns="http://purl.org/net/xbiblio/csl"},p.XmlDOM.prototype.clean=function(e){return e=(e=(e=(e=(e=e.replace(/<\?[^?]+\?>/g,"")).replace(/<![^>]+>/g,"")).replace(/^\s+/,"")).replace(/\s+$/,"")).replace(/^\n*/,"")},p.XmlDOM.prototype.getStyleId=function(e,t){var i="",r="id";t&&(r="title");var s=e.getElementsByTagName(r);return s&&s.length&&(s=s.item(0)),s&&(i=s.textContent),i||(i=s.innerText),i||(i=s.innerHTML),i},p.XmlDOM.prototype.children=function(e){var t,i,r,s;if(e){for(s=[],i=0,r=(t=e.childNodes).length;i<r;i+=1)"#text"!=t[i].nodeName&&s.push(t[i]);return s}return[]},p.XmlDOM.prototype.nodename=function(e){return e.nodeName},p.XmlDOM.prototype.attributes=function(e){var t,i,r,s,a;if(t=new Object,e&&this.hasAttributes(e))for(s=0,a=(i=e.attributes).length;s<a;s+=1)t["@"+(r=i[s]).name]=r.value;return t},p.XmlDOM.prototype.content=function(e){return void 0!==e.textContent?e.textContent:void 0!==e.innerText?e.innerText:e.txt},p.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},p.XmlDOM.prototype.numberofnodes=function(e){return e?e.length:0},p.XmlDOM.prototype.getAttributeName=function(e){return e.name},p.XmlDOM.prototype.getAttributeValue=function(e,t,i){var r="";return i&&(t=i+":"+t),e&&this.hasAttributes(e)&&e.getAttribute(t)&&(r=e.getAttribute(t)),r},p.XmlDOM.prototype.getNodeValue=function(e,t){var i=null;if(t){var r=e.getElementsByTagName(t);r.length>0&&(i=void 0!==r[0].textContent?r[0].textContent:void 0!==r[0].innerText?r[0].innerText:r[0].text)}return null===i&&e&&e.childNodes&&(0==e.childNodes.length||1==e.childNodes.length&&"#text"==e.firstChild.nodeName)&&(i=void 0!==e.textContent?e.textContent:void 0!==e.innerText?e.innerText:e.text),null===i&&(i=e),i},p.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(e,t,i,r,s){var a,n,o,l;for("@"===r.slice(0,1)&&(r=r.slice(1)),a=0,n=(o=e.getElementsByTagName(t)).length;a<n;a+=1)(l=o[a]).getAttribute("name")==i&&l.setAttribute(r,s)},p.XmlDOM.prototype.deleteNodeByNameAttribute=function(e,t){var i,r,s,a;for(i=0,r=(a=e.childNodes).length;i<r;i+=1)(s=a[i])&&s.nodeType!=s.TEXT_NODE&&this.hasAttributes(s)&&s.getAttribute("name")==t&&e.removeChild(a[i])},p.XmlDOM.prototype.deleteAttribute=function(e,t){e.removeAttribute(t)},p.XmlDOM.prototype.setAttribute=function(e,t,i){return e.ownerDocument||(e=e.firstChild),["function","unknown"].indexOf(typeof e.setAttribute)>-1&&e.setAttribute(t,i),!1},p.XmlDOM.prototype.nodeCopy=function(e){return e.cloneNode(!0)},p.XmlDOM.prototype.getNodesByName=function(e,t,i){var r,s,a,n,o;for(r=[],n=0,o=(s=e.getElementsByTagName(t)).length;n<o;n+=1)a=s.item(n),(!i||this.hasAttributes(a)&&a.getAttribute("name")==i)&&r.push(a);return r},p.XmlDOM.prototype.nodeNameIs=function(e,t){return t==e.nodeName},p.XmlDOM.prototype.makeXml=function(e){return e||(e="<docco><bogus/></docco>"),e=e.replace(/\s*<\?[^>]*\?>\s*\n*/g,""),this.parser.parseFromString(e,"application/xml").firstChild},p.XmlDOM.prototype.insertChildNodeAfter=function(e,t,i,r){var s;return s=this.importNode(t.ownerDocument,r),e.replaceChild(s,t),e},p.XmlDOM.prototype.insertPublisherAndPlace=function(e){for(var t=e.getElementsByTagName("group"),i=0,r=t.length;i<r;i+=1){for(var s=t.item(i),a=[],n=0,o=s.childNodes.length;n<o;n+=1)1!==s.childNodes.item(n).nodeType&&a.push(n);if(s.childNodes.length-a.length==2){var l=[];for(n=0,o=2;n<o;n+=1)if(!(a.indexOf(n)>-1)){for(var m=s.childNodes.item(n),u=[],p=0,c=m.childNodes.length;p<c;p+=1)1!==m.childNodes.item(p).nodeType&&u.push(p);if(m.childNodes.length-u.length==0&&(l.push(m.getAttribute("variable")),m.getAttribute("suffix")||m.getAttribute("prefix"))){l=[];break}}l.indexOf("publisher")>-1&&l.indexOf("publisher-place")>-1&&s.setAttribute("has-publisher-and-publisher-place",!0)}}},p.XmlDOM.prototype.isChildOfSubstitute=function(e){return!!e.parentNode&&("substitute"===e.parentNode.tagName.toLowerCase()||this.isChildOfSubstitute(e.parentNode))},p.XmlDOM.prototype.addMissingNameNodes=function(e){for(var t=e.getElementsByTagName("names"),i=0,r=t.length;i<r;i+=1){var s=t.item(i),a=s.getElementsByTagName("name");if(!(a&&0!==a.length||this.isChildOfSubstitute(s))){var n=s.ownerDocument.createElement("name");s.appendChild(n)}}},p.XmlDOM.prototype.addInstitutionNodes=function(e){var t,i,r,s,a,n,o,l;for(o=0,l=(t=e.getElementsByTagName("names")).length;o<l;o+=1)if(0!=(a=(i=t.item(o)).getElementsByTagName("name")).length&&0==i.getElementsByTagName("institution").length){s=(r=this.importNode(e.ownerDocument,this.institution)).getElementsByTagName("institution-part").item(0),n=a.item(0),i.insertBefore(r,n.nextSibling);for(var m=0,u=p.INSTITUTION_KEYS.length;m<u;m+=1){var c=p.INSTITUTION_KEYS[m];(g=n.getAttribute(c))&&s.setAttribute(c,g)}var h=n.getElementsByTagName("name-part");for(m=0,u=h.length;m<u;m+=1)if("family"===h[m].getAttribute("name"))for(var f=0,d=p.INSTITUTION_KEYS.length;f<d;f+=1){var g;c=p.INSTITUTION_KEYS[f];(g=h[m].getAttribute(c))&&s.setAttribute(c,g)}}},p.XmlDOM.prototype.flagDateMacros=function(e){var t,i,r,s=e.getElementsByTagName("macro");for(t=0,i=s.length;t<i;t+=1)(r=s.item(t)).getElementsByTagName("date").length&&r.setAttribute("macro-has-date","true")},p.setupXml=function(e){var t={},i=null;return void 0!==e?"string"==typeof e?(t="<"===(e=e.replace("^\ufeff","").replace(/^\s+/,"")).slice(0,1)?p.parseXml(e):JSON.parse(e),i=new p.XmlJSON(t)):i=void 0!==e.getAttribute?new p.XmlDOM(e):void 0!==e.toXMLString?new p.XmlE4X(e):new p.XmlJSON(e):p.error("unable to parse XML input"),i||p.error("citeproc-js error: unable to parse CSL style or locale object"),i},p.getSortCompare=function(e){if(p.stringCompare)return p.stringCompare;var t,i=this,r={sensitivity:"base",ignorePunctuation:!0,numeric:!0};e||(e="en-US");var s=function(e){return e.replace(/^[\[\]\'\"]*/g,"")},a=!!(t=function(t,s){return p.toLocaleLowerCase.call(i,t).localeCompare(p.toLocaleLowerCase.call(i,s),e,r)})("[x","x")&&function(e,i){return t(s(e),s(i))};return function(e,i){return a?a(e,i):t(e,i)}},p.ambigConfigDiff=function(e,t){var i,r,s,a;if(e.names.length!==t.names.length)return 1;for(i=0,r=e.names.length;i<r;i+=1){if(e.names[i]!==t.names[i])return 1;for(s=0,a=e.givens[i];s<a;s+=1)if(e.givens[i][s]!==t.givens[i][s])return 1}return e.disambiguate!=t.disambiguate||e.year_suffix!==t.year_suffix?1:0},p.cloneAmbigConfig=function(e,t){var i,r,s,a,n,o={names:[],givens:[],year_suffix:!1,disambiguate:!1};for(i=0,r=e.names.length;i<r;i+=1)n=e.names[i],o.names[i]=n;for(i=0,r=e.givens.length;i<r;i+=1){for(n=[],s=0,a=e.givens[i].length;s<a;s+=1)n.push(e.givens[i][s]);o.givens.push(n)}return t?(o.year_suffix=t.year_suffix,o.disambiguate=t.disambiguate):(o.year_suffix=e.year_suffix,o.disambiguate=e.disambiguate),o},p.getAmbigConfig=function(){var e;return(e=this.tmp.disambig_request)||(e=this.tmp.disambig_settings),p.cloneAmbigConfig(e)},p.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},p.getMinVal=function(){return this.tmp["et-al-min"]},p.tokenExec=function(e,t,i){var r,s;r=e.next,s=!1;e.test&&(r=function(t){return t?(this.tmp.jump.replace("succeed"),e.succeed):(this.tmp.jump.replace("fail"),e.fail)}.call(this,e.test(t,i)));for(var a=0,n=e.execs.length;a<n;a++)(s=e.execs[a].call(e,this,t,i))&&(r=s);return r},p.expandMacro=function(e,t){var i,r,s;i=e.postponed_macro;var a=e.strings.sort_direction;e=new p.Token("group",p.START);var n=!1,o=!1;(r=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",i)).length&&(o=this.cslXml.getAttributeValue(r[0],"cslid"),n=this.cslXml.getAttributeValue(r[0],"macro-has-date")),n&&(i=i+"@"+this.build.current_default_locale,u=function(e){e.tmp.extension&&(e.tmp["doing-macro-with-date"]=!0)},e.execs.push(u)),this.build.macro_stack.indexOf(i)>-1?p.error('CSL processor error: call to macro "'+i+'" would cause an infinite loop'):this.build.macro_stack.push(i),e.cslid=o,p.MODULE_MACROS[i]&&(e.juris=i,this.opt.update_mode=p.POSITION),p.Node.group.build.call(e,this,t,!0),this.cslXml.getNodeValue(r)||p.error('CSL style error: undefined macro "'+i+'"');var l,m=p.getMacroTarget.call(this,i);if(m&&(p.buildMacro.call(this,m,r),p.configureMacro.call(this,m)),!this.build.extension){var u=(l=i,function(e,t,i){for(var r=0;r<e.macros[l].length;)r=p.tokenExec.call(e,e.macros[l][r],t,i)}),c=new p.Token("text",p.SINGLETON);c.execs.push(u),t.push(c)}(s=new p.Token("group",p.END)).strings.sort_direction=a,n&&(u=function(e){e.tmp.extension&&(e.tmp["doing-macro-with-date"]=!1)},s.execs.push(u)),e.juris&&(s.juris=i),p.Node.group.build.call(s,this,t,!0),this.build.macro_stack.pop()},p.getMacroTarget=function(e){var t=!1;return this.build.extension?t=this[this.build.root+this.build.extension].tokens:this.macros[e]||(t=[],this.macros[e]=t),t},p.buildMacro=function(e,t){p.makeBuilder(this,e)(void 0===t.length?t:t[0])},p.configureMacro=function(e){this.build.extension||this.configureTokenList(e)},p.XmlToToken=function(e,t,i,r){var s,a,n,o,l,m;if(s=e.cslXml.nodename(this),!e.build.skip||e.build.skip===s)if(s){if(p.Node[e.cslXml.nodename(this)]||p.error('Undefined node name "'+s+'".'),[],n=e.cslXml.attributes(this),o=p.setDecorations.call(this,e,n),l=new p.Token(s,t),t!==p.END||"if"===s||"else-if"===s||"layout"===s){for(var u in n)if(n.hasOwnProperty(u)){if(t===p.END&&"@language"!==u&&"@locale"!==u)continue;if(n.hasOwnProperty(u))if(p.Attributes[u])try{p.Attributes[u].call(l,e,""+n[u])}catch(e){p.error(u+" attribute: "+e)}else p.debug('warning: undefined attribute "'+u+'" in style')}l.decorations=o,p.DATE_VARIABLES.indexOf(n["@variable"])>-1&&r.push(l.variables)}else t===p.END&&n["@variable"]&&(l.hasVariable=!0,p.DATE_VARIABLES.indexOf(n["@variable"])>-1&&(l.variables=r.pop()));m=i||e[e.build.area].tokens,p.Node[s].build.call(l,e,m,!0)}else(a=e.cslXml.content(this))&&(e.build.text=a)},p.DateParser=function(){for(var e=[["明治",1867],["大正",1911],["昭和",1925],["平成",1988]],t={},i=0,r=e.length;i<r;i++){var s=e[i][0],a=e[i][1];t[s]=a}var n=[],o={};for(i=0,r=e.length;i<r;i++){var l=e[i];a=l[0];n.push(a),o[l[0]]=l[1]}var m=n.join("|"),u=new RegExp("(?:"+m+")(?:[0-9]+)"),c=new RegExp("(?:"+m+")(?:[0-9]+)","g"),h=/(\u6708|\u5E74)/g,f=/\u65E5/g,d=/\u301c/g,g="([?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])|(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])|[?0-9]{1,3}|[%%DATED%%]|[?~]|[^-/~?0-9]+)",b=new RegExp(g.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),v=new RegExp(g.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),y=new RegExp(g.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-"));this.monthStrings="january february march april may june july august september october november december spring summer fall winter spring summer".split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var e=0,t=this.monthStrings.length;e<t;e++)this.monthSets.push([this.monthStrings[e]]);this.monthAbbrevs=[];for(e=0,t=this.monthSets.length;e<t;e++){this.monthAbbrevs.push([]);for(var i=0,r=this.monthSets[e].length;i<r;i++)this.monthAbbrevs[e].push(this.monthSets[e][0].slice(0,3))}this.monthRexes=[];for(e=0,t=this.monthAbbrevs.length;e<t;e++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[e].join("|")+")"))},this.addDateParserMonths=function(e){if("string"==typeof e&&(e=e.split(/\s+/)),12===e.length||16===e.length){for(var t=0,i=e.length;t<i;t++){for(var r=null,s=!1,a=3,n={},o=0,l=this.monthAbbrevs.length;o<l;o++){if(n[o]={},o===t){for(var m=0,u=this.monthAbbrevs[t].length;m<u;m++)if(this.monthAbbrevs[t][m]===e[t].slice(0,this.monthAbbrevs[t][m].length)){s=!0;break}}else for(m=0,u=this.monthAbbrevs[o].length;m<u;m++)if(r=this.monthAbbrevs[o][m].length,this.monthAbbrevs[o][m]===e[t].slice(0,r)){for(;this.monthSets[o][m].slice(0,r)===e[t].slice(0,r);){if(r>e[t].length||r>this.monthSets[o][m].length){p.debug("unable to disambiguate month string in date parser: "+e[t]);break}r+=1}a=r,n[o][m]=r}for(var c in n)for(var h in n[c])r=n[c][h],c=parseInt(c,10),h=parseInt(h,10),this.monthAbbrevs[c][h]=this.monthSets[c][h].slice(0,r)}s||(this.monthSets[t].push(e[t]),this.monthAbbrevs[t].push(e[t].slice(0,a)))}this.monthRexes=[],this.monthRexStrs=[];for(t=0,i=this.monthAbbrevs.length;t<i;t++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[t].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[t].join("|")+")");if(18===this.monthAbbrevs.length)for(t=12,i=14;t<i;t++)this.monthRexes[t+4]=new RegExp("^(?:"+this.monthAbbrevs[t].join("|")+")"),this.monthRexStrs[t+4]="^(?:"+this.monthAbbrevs[t].join("|")+")"}else p.debug("month [+season] list of "+e.length+", expected 12 or 16. Ignoring.")},this.convertDateObjectToArray=function(e){e["date-parts"]=[],e["date-parts"].push([]);for(var t,i=0,r=0,s=3;r<s&&e[t=["year","month","day"][r]];r++)i+=1,e["date-parts"][0].push(e[t]),delete e[t];e["date-parts"].push([]);for(r=0,s=i;r<s&&e[t=["year_end","month_end","day_end"][r]];r++)e["date-parts"][1].push(e[t]),delete e[t];return e["date-parts"][0].length!==e["date-parts"][1].length&&e["date-parts"].pop(),e},this.convertDateObjectToString=function(e){for(var t=[],i=0;i<3&&e[p.DATE_PARTS_ALL[i]];i+=1)t.push(e[p.DATE_PARTS_ALL[i]]);return t.join("-")},this._parseNumericDate=function(e,t,i,r){i||(i="");for(var s=r.split(t),a=0,n=s.length;a<n;a++)if(4===s[a].length){e["year"+i]=s[a].replace(/^0*/,""),s=a?s.slice(0,a):s.slice(1);break}for(a=0,n=s.length;a<n;a++)s[a]=parseInt(s[a],10);if(1===s.length||2===s.length&&!s[1])(o=s[0])&&(e["month"+i]=""+s[0]);else if(2===s.length)if(s[this.monthGuess]>12){var o=s[this.dayGuess],l=s[this.monthGuess];o&&(e["month"+i]=""+o,l&&(e["day"+i]=""+l))}else{o=s[this.monthGuess],l=s[this.dayGuess];o&&(e["month"+i]=""+o,l&&(e["day"+i]=""+l))}},this.parseDateToObject=function(e){var t,i=e,r=-1,s=-1,a=!1;if(e){if("-"===(e=e.replace(/^(.*[0-9])T[0-9].*/,"$1")).slice(0,1)&&(a=!0,e=e.slice(1)),e.match(/^[0-9]{1,3}$/))for(;e.length<4;)e="0"+e;if(S=(e=(e=""+e).replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"")).match(h)){var n=(e=(e=(e=(e=(e=(e=e.replace(/\s+/g,"")).replace(f,"")).replace(h,"-")).replace(d,"/")).replace(/\-\//g,"/")).replace(/-$/g,"")).split(u);t=[];var l=e.match(c);if(l){for(var m=[],g=0,_=l.length;g<_;g++)m=m.concat(l[g].match(/([^0-9]+)([0-9]+)/).slice(1));for(g=0,_=n.length;g<_;g++)if(t.push(n[g]),g!==_-1){var x=2*g;t.push(m[x]),t.push(m[x+1])}}else t=n;for(g=1,_=t.length;g<_;g+=3)t[g+1]=o[t[g]]+parseInt(t[g+1],10),t[g]="";r=(e=(e=(e=(e=t.join("")).replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/")).replace(/\.\s*$/,"")).replace(/\.(?! )/,"")).indexOf("/"),s=e.indexOf("-")}}var E,O,A="",w="",T={};if('"'===(e=e.replace(/([A-Za-z])\./g,"$1")).slice(0,1)&&'"'===e.slice(-1))return T.literal=e.slice(1,-1),T;r>-1&&s>-1?e.split("/").length>3?(E="-",O="/",t=(e=e.replace(/\_/g,"-")).split(y)):(E="/",O="-",t=(e=e.replace(/\_/g,"/")).split(v)):(E="-",O="-",t=(e=(e=e.replace(/\//g,"-")).replace(/\_/g,"-")).split(b));var k=[];for(g=0,_=t.length;g<_;g++){var S;(S=t[g].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/))&&k.push(S[1])}var I=k.indexOf(E),N=[],C=!1;I>-1?(N.push([0,I]),N.push([I+1,k.length]),C=!0):N.push([0,k.length]);var D="";for(g=0,_=N.length;g<_;g++){var R=N[g],j=k.slice(R[0],R[1]);e:for(var L=0,P=j.length;L<P;L++){var F=j[L];if(F.indexOf(O)>-1)this._parseNumericDate(T,O,D,F);else if(F.match(/[0-9]{4}/))T["year"+D]=F.replace(/^0*/,"");else{("~"===F||"?"===F||"c"===F||F.match(/^cir/))&&(T.circa=!0);for(var B=0,z=this.monthRexes.length;B<z;B++)if(F.toLocaleLowerCase().match(this.monthRexes[B])){T["month"+D]=""+(parseInt(B,10)+1);continue e}F.match(/^[0-9]+$/)&&(A=F),F.toLocaleLowerCase().match(/^bc/)&&A?(T["year"+D]=""+-1*A,A=""):F.toLocaleLowerCase().match(/^ad/)&&A?(T["year"+D]=""+A,A=""):!F.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)||T["season"+D]||(w=F)}}A&&(T["day"+D]=A,A=""),w&&!T["season"+D]&&(T["season"+D]=w.trim(),w=""),D="_end"}if(C)for(L=0,P=p.DATE_PARTS_ALL.length;L<P;L++){var U=p.DATE_PARTS_ALL[L];T[U]&&!T[U+"_end"]?T[U+"_end"]=T[U]:!T[U]&&T[U+"_end"]&&(T[U]=T[U+"_end"])}(!T.year||T.year&&T.day&&!T.month)&&(T={literal:i});var M=["year","month","day","year_end","month_end","day_end"];for(g=0,_=M.length;g<_;g++){var q=M[g];"string"==typeof T[q]&&T[q].match(/^[0-9]+$/)&&(T[q]=parseInt(T[q],10))}return a&&Object.keys(T).indexOf("year")>-1&&(T.year=-1*T.year),T},this.parseDateToArray=function(e){return this.convertDateObjectToArray(this.parseDateToObject(e))},this.parseDateToString=function(e){return this.convertDateObjectToString(this.parseDateToObject(e))},this.parse=function(e){return this.parseDateToObject(e)},this.setOrderMonthDay(),this.resetDateParserMonths()},p.DateParser=new p.DateParser,p.Engine=function(e,t,i,r){var s,a;for(var n in this.processor_version=p.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=e,"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},writable:!0,configurable:!0}),e.variableWrapper&&(p.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(p.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),p.retrieveStyleModule&&(this.sys.retrieveStyleModule=p.retrieveStyleModule),p.getAbbreviation&&(this.sys.getAbbreviation=p.getAbbreviation),this.sys.stringCompare&&(p.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=p.AbbreviationSegments,this.transform=new p.Transform(this),this.setParseNames=function(e){this.opt["parse-names"]=e},this.opt=new p.Engine.Opt,this.tmp=new p.Engine.Tmp,this.build=new p.Engine.Build,this.fun=new p.Engine.Fun(this),this.configure=new p.Engine.Configure,this.citation_sort=new p.Engine.CitationSort,this.bibliography_sort=new p.Engine.BibliographySort,this.citation=new p.Engine.Citation(this),this.bibliography=new p.Engine.Bibliography,this.intext=new p.Engine.InText,this.output=new p.Output.Queue(this),this.dateput=new p.Output.Queue(this),this.cslXml=p.setupXml(t),p.SYS_OPTIONS){var o=p.SYS_OPTIONS[n];"boolean"==typeof this.sys[o]&&(this.opt.development_extensions[o]=this.sys[o])}(this.opt.development_extensions.uppercase_subtitles||this.opt.development_extensions.implicit_short_title)&&(this.opt.development_extensions.main_title_from_short_title=!0),this.opt.development_extensions.csl_reverse_lookup_support&&(this.build.cslNodeId=0,this.setCslNodeIds=function(e,t){var i=this.cslXml.children(e);this.cslXml.setAttribute(e,"cslid",this.build.cslNodeId),this.opt.nodenames.push(t),this.build.cslNodeId+=1;for(var r=0,s=this.cslXml.numberofnodes(i);r<s;r+=1)(t=this.cslXml.nodename(i[r]))&&this.setCslNodeIds(i[r],t)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),void 0===this.cslXml.attributes(this.cslXml.dataObj)["@sort-separator"]&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt.class=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),"1.1m"===this.opt.version.slice(0,4)&&(this.opt.development_extensions.consolidate_legal_items=!0,this.opt.development_extensions.consolidate_container_items=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0,this.opt.development_extensions.force_title_abbrev_fallback=!0),i&&(i=i.replace("_","-"),i=p.normalizeLocaleStr(i)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=p.normalizeLocaleStr(this.opt["default-locale"][0])),i&&r&&(this.opt["default-locale"]=[i]),i&&!r&&this.opt["default-locale"][0]&&(i=this.opt["default-locale"][0]),0===this.opt["default-locale"].length&&(i||(i="en-US"),this.opt["default-locale"].push("en-US")),i||(i=this.opt["default-locale"][0]),s=p.localeResolve(i),this.opt.lang=s.best,this.opt["default-locale"][0]=s.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(s),this.locale[this.opt.lang].opts["skip-words-regexp"]=(a=(a=this.locale[this.opt.lang].opts["skip-words"]).slice(),new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+a.join("|")+")(?=[!?:]*\\s+|-|$))","g")),this.output.adjust=new p.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new p.Registry(this),this.macros={},this.build.area="citation";var l=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(l,this[this.build.area].tokens),this.build.area="bibliography";l=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(l,this[this.build.area].tokens),this.build.area="intext";l=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(l,this[this.build.area].tokens),this.opt.parallel.enable&&(this.parallel=new p.Parallel(this)),this.juris={},this.configureTokenLists(),this.disambiguate=new p.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=p.DateParser,this.fun.flipflopper=new p.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=p.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=p.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},p.Engine.prototype.setCloseQuotesArray=function(){var e;(e=[]).push(this.getTerm("close-quote")),e.push(this.getTerm("close-inner-quote")),e.push('"'),e.push("'"),this.opt.close_quotes_array=e},p.makeBuilder=function(e,t){var i=[],r=[];function s(s){r.push(s),p.XmlToToken.call(s,e,p.START,t,i)}function a(){var s=r.pop();p.XmlToToken.call(s,e,p.END,t,i)}function n(r){p.XmlToToken.call(r,e,p.SINGLETON,t,i)}return function t(i,r,o){o||(o=[]),i||(i=[]),void 0===i.length&&(i=[i]);for(var l=0;l<i.length;l++){var m=i[l];null!==e.cslXml.nodename(m)&&(r&&"date"===e.cslXml.nodename(m)&&(p.Util.fixDateNode.call(e,r,l,m),m=e.cslXml.children(r)[l]),e.cslXml.numberofnodes(e.cslXml.children(m))?(s(m),t(e.cslXml.children(m),m,o),a()):n(m))}}},p.Engine.prototype.buildTokenLists=function(e,t){this.cslXml.getNodeValue(e)&&p.makeBuilder(this,t)(void 0===e.length?e:e[0])},p.Engine.prototype.setStyleAttributes=function(){var e,t,i={};for(t in i.name=this.cslXml.nodename(this.cslXml.dataObj),e=this.cslXml.attributes(this.cslXml.dataObj))e.hasOwnProperty(t)&&p.Attributes[t].call(i,this,e[t])},p.Engine.prototype.getTerm=function(e,t,i,r,s,a){var n;e&&e.match(/[A-Z]/)&&e===e.toUpperCase()&&(p.debug("Warning: term key is in uppercase form: "+e),e=e.toLowerCase()),n=a?this.opt["default-locale"][0]:this.opt.lang;var o=p.Engine.getField(p.LOOSE,this.locale[n].terms,e,t,i,r);return o||"range-delimiter"!==e||(o="–"),void 0===o&&(s===p.STRICT?p.error('Error in getTerm: term "'+e+'" does not exist.'):s===p.TOLERANT&&(o="")),o&&(this.tmp.cite_renders_content=!0),o},p.Engine.prototype.getDate=function(e,t){var i;return i=t?this.opt["default-locale"]:this.opt.lang,!!this.locale[i].dates[e]&&this.locale[i].dates[e]},p.Engine.prototype.getOpt=function(e){return void 0!==this.locale[this.opt.lang].opts[e]&&this.locale[this.opt.lang].opts[e]},p.Engine.prototype.getVariable=function(e,t,i,r){return p.Engine.getField(p.LOOSE,e,t,i,r)},p.Engine.prototype.getDateNum=function(e,t){return void 0===e?0:e[t]},p.Engine.getField=function(e,t,i,r,s,a){var n,o,l,m,u,c;if(n="",void 0===t[i]){if(e!==p.STRICT)return;p.error('Error in getField: term "'+i+'" does not exist.')}for(c=a&&t[i][a]?t[i][a]:t[i],o=[],"symbol"===r?o=["symbol","short"]:"verb-short"===r?o=["verb-short","verb"]:"long"!==r&&(o=[r]),u=(o=o.concat(["long"])).length,m=0;m<u;m+=1)if(l=o[m],"string"==typeof c||"number"==typeof c)n=c;else if(void 0!==c[l]){n="string"==typeof c[l]||"number"==typeof c[l]?c[l]:"number"==typeof s?c[l][s]:c[l][0];break}return n},p.Engine.prototype.configureTokenLists=function(){var e,t;for(t=p.AREAS.length,e=0;e<t;e+=1){var i=this[p.AREAS[e]].tokens;this.configureTokenList(i)}return this.version=p.version,this.state},p.Engine.prototype.configureTokenList=function(e){var t,i,r,s,a,n;for(t=["year","month","day"],s=e.length-1;s>-1;s+=-1){if("date"===(i=e[s]).name&&p.END===i.tokentype&&(r=[]),"date-part"===i.name&&i.strings.name)for(n=t.length,a=0;a<n;a+=1)t[a]===i.strings.name&&r.push(i.strings.name);"date"===i.name&&p.START===i.tokentype&&(r.reverse(),i.dateparts=r),i.next=s+1,i.name&&p.Node[i.name].configure&&p.Node[i.name].configure.call(i,this,s)}},p.Engine.prototype.refetchItems=function(e){for(var t=[],i=0,r=e.length;i<r;i+=1)t.push(this.refetchItem(""+e[i]));return t},p.ITERATION=0,p.Engine.prototype.retrieveItem=function(e){var t,i;if(this.tmp.loadedItemIDs[e])return this.registry.refhash[e];if(this.tmp.loadedItemIDs[e]=!0,this.opt.development_extensions.normalize_lang_keys_to_lowercase&&"boolean"==typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase){for(var r=0,s=this.opt["default-locale"].length;r<s;r+=1)this.opt["default-locale"][r]=this.opt["default-locale"][r].toLowerCase();for(r=0,s=this.opt["locale-translit"].length;r<s;r+=1)this.opt["locale-translit"][r]=this.opt["locale-translit"][r].toLowerCase();for(r=0,s=this.opt["locale-translat"].length;r<s;r+=1)this.opt["locale-translat"][r]=this.opt["locale-translat"][r].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(p.ITERATION+=1,t=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+e))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(t.multi){if(t.multi._keys)for(var a in t.multi._keys)for(var n in t.multi._keys[a])n!==n.toLowerCase()&&(t.multi._keys[a][n.toLowerCase()]=t.multi._keys[a][n],delete t.multi._keys[a][n]);if(t.multi.main)for(var a in t.multi.main)t.multi.main[a]=t.multi.main[a].toLowerCase()}for(r=0,s=p.NAME_VARIABLES.length;r>s;r+=1){var o=p.NAME_VARIABLES[r];if(t[o]&&t[o].multi)for(var l=0,m=t[o].length;l<m;l+=1){var u=t[o][l];if(u.multi){if(u.multi._key)for(var n in u.multi._key)n!==n.toLowerCase()&&(u.multi._key[n.toLowerCase()]=u.multi._key[n],delete u.multi._key[n]);u.multi.main&&(u.multi.main=u.multi.main.toLowerCase())}}}}t.language&&t.language.match(/[><]/)&&("<"===(i=t.language.match(/(.*?)([<>])(.*)/))[2]?(t["language-name"]=i[1],t["language-name-original"]=i[3]):(t["language-name"]=i[3],t["language-name-original"]=i[1]),this.opt.multi_layout?t["language-name-original"]&&(t.language=t["language-name-original"]):t["language-name"]&&(t.language=t["language-name"]));t.page&&(t["page-first"]=t.page,"\\"!==(i=(""+t.page).split(/\s*(?:&|, |-|\u2013)\s*/))[0].slice(-1)&&(t["page-first"]=i[0]));for(var n in this.opt.development_extensions.field_hack&&t.note&&p.parseNoteFieldHacks(t,!1,this.opt.development_extensions.allow_field_hack_date_override),t)if(p.DATE_VARIABLES.indexOf(n.replace(/^alt-/,""))>-1){var c=t[n];c&&(this.opt.development_extensions.raw_date_parsing&&(!c.raw||c["date-parts"]&&0!==c["date-parts"].length||(c=this.fun.dateparser.parseDateToObject(c.raw))),t[n]=this.dateParseArray(c))}if(this.opt.development_extensions.consolidate_legal_items&&t.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(t.type)>-1){var h=[];for(r=0,s=(g=["type","title","jurisdiction","genre","volume","container-title"]).length;r<s;r+=1)t[d=g[r]]&&h.push(t[d]);for(r=0,s=(g=["original-date","issued"]).length;r<s;r+=1)if(t[d=g[r]]&&t[d].year){var f=t[d].year;h.push(f);break}t.legislation_id=h.join("::")}if(this.bibliography.opt.track_container_items&&this.bibliography.opt.track_container_items.indexOf(t.type)>-1){var d,g,b=[];for(r=0,s=(g=["type","container-title","publisher","edition"]).length;r<s;r+=1)t[d=g[r]]&&b.push(t[d]);t.container_id=b.join("::")}if(this.opt.development_extensions.force_jurisdiction&&"string"==typeof t.authority&&(t.authority=[{literal:t.authority,multi:{_key:{}}}],t.multi&&t.multi._keys&&t.multi._keys.authority))for(var n in t.authority[0].multi._key={},t.multi._keys.authority)t.authority[0].multi._key[n]={literal:t.multi._keys.authority[n]};if(t["title-short"]||(t["title-short"]=t.shortTitle),this.opt.development_extensions.main_title_from_short_title){var v="fr"===this.opt["default-locale"][0].slice(0,2).toLowerCase();p.extractTitleAndSubtitle.call(this,t,v)}var y,_=["bill","legal_case","legislation","gazette","regulation"].indexOf(t.type)>-1;if(this.opt.development_extensions.force_jurisdiction&&_&&(t.jurisdiction||(t.jurisdiction="us")),!_&&t.title&&this.sys.getAbbreviation){t.jurisdiction||!0,y=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey("title",t.title):t.title;var x=this.transform.loadAbbreviation(t.jurisdiction,"title",y,t.language);this.transform.abbrevs[x].title&&this.transform.abbrevs[x].title[y]&&(t["title-short"]=this.transform.abbrevs[x].title[y])}if(t["container-title-short"]||(t["container-title-short"]=t.journalAbbreviation),t["container-title"]&&this.sys.getAbbreviation){y=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey(t["container-title"]):t["container-title"];x=this.transform.loadAbbreviation(t.jurisdiction,"container-title",y,t.language);this.transform.abbrevs[x]["container-title"]&&this.transform.abbrevs[x]["container-title"][y]&&(t["container-title-short"]=this.transform.abbrevs[x]["container-title"][y])}if(t.jurisdiction&&(t.country=t.jurisdiction.split(":")[0]),this.registry.refhash[e]){if(JSON.stringify(this.registry.refhash[e])!=JSON.stringify(t)){for(var n in this.registry.refhash[e])delete this.registry.refhash[e][n];this.tmp.taintedItemIDs[t.id]=!0,Object.assign(this.registry.refhash[e],t)}}else this.registry.refhash[e]=t;return this.registry.refhash[e]},p.Engine.prototype.refetchItem=function(e){return this.registry.refhash[e]},p.Engine.prototype.setOpt=function(e,t,i){"style"===e.name||"cslstyle"===e.name?(this.opt.inheritedAttributes[t]=i,this.citation.opt.inheritedAttributes[t]=i,this.bibliography.opt.inheritedAttributes[t]=i):["citation","bibliography"].indexOf(e.name)>-1?this[e.name].opt.inheritedAttributes[t]=i:e.strings[t]=i},p.Engine.prototype.inheritOpt=function(e,t,i,r){if(void 0!==e.strings[t])return e.strings[t];var s=this[this.tmp.root].opt.inheritedAttributes[i||t];return void 0!==s?s:r},p.Engine.prototype.remapSectionVariable=function(e){for(var t=0,i=e.length;t<i;t+=1){var r=e[t][0],s=e[t][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(r.type)>-1){if(s.locator)s.locator=s.locator.trim(),(n=s.locator.match(p.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))||(s.label?s.locator=p.STATUTE_SUBDIV_STRINGS_REVERSE[s.label]+" "+s.locator:s.locator="p. "+s.locator);var a=null;if(r.section)r.section=r.section.trim(),(n=r.section.match(p.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))?a=n[0].trim():(r.section="sec. "+r.section,a="sec.");if(r.section)if(s.locator){var n,o=" ";(n=s.locator.match(/^([^ ]*)\s*(.*)/))?("p."===n[1]&&"p."!==a&&(s.locator=n[2]),["[","(",".",",",";",":","?"].indexOf(s.locator.slice(0,1))>-1&&(o="")):o="",s.locator=r.section+o+s.locator}else s.locator=r.section;s.label=""}}},p.Engine.prototype.setNumberLabels=function(e){if(e.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(e.type)>-1&&this.opt.development_extensions.consolidate_legal_items&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var t=""+e.number,i=(t=t.split("\\").join("")).split(/\s+/)[0],r=p.STATUTE_SUBDIV_STRINGS[i];if(r){var s=t.split(p.STATUTE_SUBDIV_PLAIN_REGEX);if(s.length>1){for(var a=[],n=1,o=s.length;n<o;n+=1)a.push(s[n].replace(/\s*$/,"").replace(/^\s*/,""));t=a.join(" ")}else t=s[0];this.tmp.shadow_numbers.number.label=r,this.tmp.shadow_numbers.number.values.push(["Blob",t,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",t,!1]),this.tmp.shadow_numbers.number.numeric=!0}},p.substituteOne=function(e){return function(t,i){return i?e.replace("%%STRING%%",i):""}},p.substituteTwo=function(e){return function(t){var i=e.replace("%%PARAM%%",t);return function(e,t){return t?i.replace("%%STRING%%",t):""}}},p.Mode=function(e){var t,i,r,s,a,n;for(r in t={},i=p.Output.Formats[e])"@"===r.slice(0,1)?(s=!1,a=i[r],n=r.split("/"),"string"==typeof a&&a.indexOf("%%STRING%%")>-1?s=a.indexOf("%%PARAM%%")>-1?p.substituteTwo(a):p.substituteOne(a):"boolean"!=typeof a||a?"function"==typeof a?s=a:p.error("Bad "+e+" config entry for "+r+": "+a):s=p.Output.Formatters.passthrough,1===n.length?t[n[0]]=s:2===n.length&&(t[n[0]]||(t[n[0]]={}),t[n[0]][n[1]]=s)):t[r]=i[r];return t},p.setDecorations=function(e,t){var i,r;for(r in i=[],p.FORMAT_KEY_SEQUENCE){var s;t[s=p.FORMAT_KEY_SEQUENCE[r]]&&(i.push([s,t[s]]),delete t[s])}return i},p.Doppeler=function(e,t){var i=new RegExp("("+e+")","g"),r=new RegExp(e,"g");this.split=function(e){t&&(e=t(e));var s=e.match(i);if(!s)return{tags:[],strings:[e]};for(var a=e.split(r),n=s.length-1;n>-1;n--){"number"==typeof s[n]&&(s[n]=""),"'"===s[n]&&a[n+1].length>0&&(a[n+1]=s[n]+a[n+1],s[n]="")}return{tags:s,strings:a,origStrings:a.slice()}},this.join=function(e){for(var t=e.strings.slice(-1),i=e.tags.length-1;i>-1;i--)t.push(e.tags[i]),t.push(e.strings[i]);return t.reverse(),t.join("")}},p.Engine.prototype.normalDecorIsOrphan=function(e,t){if("normal"===t[1]){for(var i,r=!1,s=(i="citation"===this.tmp.area?[this.citation.opt.layout_decorations].concat(e.alldecor):e.alldecor).length-1;s>-1;s+=-1)for(var a=i[s].length-1;a>-1;a+=-1)i[s][a][0]===t[0]&&"normal"!==i[s][a][1]&&(r=!0);if(!r)return!0}return!1},p.Engine.prototype.getCitationLabel=function(e){var t="",i=this.getTrigraphParams(),r=i[0],s=this.getTerm("reference","short",0);void 0===s&&(s="reference"),s=(s=s.replace(".","")).slice(0,1).toUpperCase()+s.slice(1);for(var a=0,n=p.NAME_VARIABLES.length;a<n;a+=1){var o=p.NAME_VARIABLES[a];if(e[o]){var l=e[o];r=l.length>i.length?i[i.length-1]:i[l.length-1];for(var m=0,u=l.length;m<u&&m!==r.authors.length;m+=1){var c=this.nameOutput.getName(l[m],"locale-translit",!0).name;c&&c.family?s=(s=c.family).replace(/^([ \'\u2019a-z]+\s+)/,""):c&&c.literal&&(s=c.literal);var h=s.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(h&&(s=s.slice(h[1].length)),!(s=s.replace(p.ROMANESQUE_NOT_REGEXP,"")))break;(s=s.slice(0,r.authors[m])).length>1?s=s.slice(0,1).toUpperCase()+s.slice(1).toLowerCase():1===s.length&&(s=s.toUpperCase()),t+=s}break}}if(!t&&e.title){var f=this.locale[this.opt.lang].opts["skip-words"],d=e.title.split(/\s+/);for(a=d.length-1;a>-1;a--)f.indexOf(d[a])>-1&&(d=d.slice(0,a).concat(d.slice(a+1)));var g=d.join("");(g=g.slice(0,i[0].authors[0])).length>1?g=g.slice(0,1).toUpperCase()+g.slice(1).toLowerCase():1===g.length&&(g=g.toUpperCase()),t=g}var b="0000";return e.issued&&e.issued.year&&(b=""+e.issued.year),t+=b=b.slice(-1*r.year)},p.Engine.prototype.getTrigraphParams=function(){var e=[],t=this.opt.trigraph.split(":");this.opt.trigraph&&"A"===this.opt.trigraph.slice(0,1)||p.error("Bad trigraph definition: "+this.opt.trigraph);for(var i=0,r=t.length;i<r;i+=1){for(var s=t[i],a={authors:[],year:0},n=0,o=s.length;n<o;n+=1)switch(s.slice(n,n+1)){case"A":a.authors.push(1);break;case"a":a.authors[a.authors.length-1]+=1;break;case"0":a.year+=1;break;default:p.error("Invalid character in trigraph definition: "+this.opt.trigraph)}e.push(a)}return e},p.Engine.prototype.setOutputFormat=function(e){this.opt.mode=e,this.fun.decorate=p.Mode(e),this.output[e]||(this.output[e]={},this.output[e].tmp={})},p.Engine.prototype.getSortFunc=function(){return function(e,t){return e=e.split("-"),t=t.split("-"),e.length<t.length?1:e.length>t.length?-1:(e=e.slice(-1)[0],t=t.slice(-1)[0],e.length<t.length?1:e.length>t.length?-1:0)}},p.Engine.prototype.setLangTagsForCslSort=function(e){var t,i;if(e)for(this.opt["locale-sort"]=[],t=0,i=e.length;t<i;t+=1)this.opt["locale-sort"].push(e[t]);this.opt["locale-sort"].sort(this.getSortFunc())},p.Engine.prototype.setLangTagsForCslTransliteration=function(e){var t,i;if(this.opt["locale-translit"]=[],e)for(t=0,i=e.length;t<i;t+=1)this.opt["locale-translit"].push(e[t]);this.opt["locale-translit"].sort(this.getSortFunc())},p.Engine.prototype.setLangTagsForCslTranslation=function(e){var t,i;if(this.opt["locale-translat"]=[],e)for(t=0,i=e.length;t<i;t+=1)this.opt["locale-translat"].push(e[t]);this.opt["locale-translat"].sort(this.getSortFunc())},p.Engine.prototype.setLangPrefsForCites=function(e,t){var i=this.opt["cite-lang-prefs"];t||(t=function(e){return e.toLowerCase()});for(var r=["Persons","Institutions","Titles","Journals","Publishers","Places"],s=0,a=r.length;s<a;s+=1){var n=t(r[s]),o=r[s].toLowerCase();if(e[n]){for(var l=[];e[n].length>1;)l.push(e[n].pop());var m={orig:1,translit:2,translat:3};for(2===l.length&&m[l[0]]<m[l[1]]&&l.reverse();l.length;)e[n].push(l.pop());for(var u=i[o];u.length;)u.pop();for(var p=0,c=e[n].length;p<c;p+=1)u.push(e[n][p])}}},p.Engine.prototype.setLangPrefsForCiteAffixes=function(e){if(e&&48===e.length){for(var t,i=this.opt.citeAffixes,r=0,s=["persons","institutions","titles","journals","publishers","places"],a=["translit","orig","translit","translat"],n=0,o=s.length;n<o;n+=1)for(var l=0,m=a.length;l<m;l+=1)t="",r%8==4&&(i[s[n]]["locale-"+a[l]].prefix||i[s[n]]["locale-"+a[l]].suffix)||(t=e[r]?e[r]:"",i[s[n]]["locale-"+a[l]].prefix=t,t=e[r]?e[r+1]:"",i[s[n]]["locale-"+a[l]].suffix=t),r+=2;this.opt.citeAffixes=i}},p.Engine.prototype.setAutoVietnameseNamesOption=function(e){this.opt["auto-vietnamese-names"]=!!e},p.Engine.prototype.setAbbreviations=function(e){this.sys.setAbbreviations&&this.sys.setAbbreviations(e)},p.Engine.prototype.setSuppressTrailingPunctuation=function(e){this.citation.opt.suppressTrailingPunctuation=!!e},p.Output={},p.Output.Queue=function(e){this.levelname=["top"],this.state=e,this.queue=[],this.empty=new p.Token("empty");var t={};t.empty=this.empty,this.formats=new p.Stack(t),this.current=new p.Stack(this.queue)},p.Output.Queue.prototype.pop=function(){var e=this.current.value();return e.length?e.pop():e.blobs.pop()},p.Output.Queue.prototype.getToken=function(e){return this.formats.value()[e]},p.Output.Queue.prototype.mergeTokenStrings=function(e,t){var i,r,s;if(s=i=this.formats.value()[e],r=this.formats.value()[t]){i||((i=new p.Token(e,p.SINGLETON)).decorations=[]),s=new p.Token(e,p.SINGLETON);var a="";for(var a in i.strings)i.strings.hasOwnProperty(a)&&(s.strings[a]=i.strings[a]);for(var a in r.strings)r.strings.hasOwnProperty(a)&&(s.strings[a]=r.strings[a]);s.decorations=i.decorations.concat(r.decorations)}return s},p.Output.Queue.prototype.addToken=function(e,t,i){var r,s;if(r=new p.Token("output"),"string"==typeof i&&(i=this.formats.value()[i]),i&&i.strings){for(s in i.strings)i.strings.hasOwnProperty(s)&&(r.strings[s]=i.strings[s]);r.decorations=i.decorations}"string"==typeof t&&(r.strings.delimiter=t),this.formats.value()[e]=r},p.Output.Queue.prototype.pushFormats=function(e){e||(e={}),e.empty=this.empty,this.formats.push(e)},p.Output.Queue.prototype.popFormats=function(){this.formats.pop()},p.Output.Queue.prototype.startTag=function(e,t){var i={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(t=this.empty,e="empty"),i[e]=t,this.pushFormats(i),this.openLevel(e)},p.Output.Queue.prototype.endTag=function(e){this.closeLevel(e),this.popFormats()},p.Output.Queue.prototype.openLevel=function(e){var t,i;"object"==typeof e?t=new p.Blob(void 0,e):void 0===e?t=new p.Blob(void 0,this.formats.value().empty,"empty"):(this.formats.value()&&this.formats.value()[e]||p.error('CSL processor error: call to nonexistent format token "'+e+'"'),t=new p.Blob(void 0,this.formats.value()[e],e)),i=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(t.strings.prefix=this.checkNestedBrace.update(t.strings.prefix)),i.push(t),this.current.push(t)},p.Output.Queue.prototype.closeLevel=function(e){e&&e!==this.current.value().levelname&&p.error("Level mismatch error:  wanted "+e+" but found "+this.current.value().levelname);var t=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(t.strings.suffix=this.checkNestedBrace.update(t.strings.suffix))},p.Output.Queue.prototype.append=function(e,t,i,r,s){var a,n,o,l=!0;if(i&&(r=!0),this.state.tmp["doing-macro-with-date"]&&!i){if("macro-with-date"!==t)return!1;"macro-with-date"===t&&(t="empty")}if(void 0===e)return!1;if("number"==typeof e&&(e=""+e),!i&&this.state.tmp.element_trace&&"suppress-me"===this.state.tmp.element_trace.value())return!1;if(n=!1,t?"literal"===t?(a=!0,l=!1):a="string"==typeof t?this.formats.value()[t]:t:a=this.formats.value().empty,a||p.error("CSL processor error: unknown format token name: "+t),a.strings&&void 0===a.strings.delimiter&&(a.strings.delimiter=""),"string"==typeof e&&e.length&&(e=e.replace(/ ([:;?!\u00bb])/g," $1").replace(/\u00ab /g,"« "),this.last_char_rendered=e.slice(-1),e=e.replace(/\s+'/g," '"),i||(e=e.replace(/^'/g," '")),r?i&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),n=new p.Blob(e,a),void 0===(o=this.current.value())&&0===this.current.mystack.length&&(this.current.mystack.push([]),o=this.current.value()),"string"==typeof n.blobs&&(r?i&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),"string"==typeof e){if("string"==typeof n.blobs&&" "!==n.blobs.slice(0,1)){for(var m="",u=n.blobs;p.TERMINAL_PUNCTUATION.indexOf(u.slice(0,1))>-1;)m+=u.slice(0,1),u=u.slice(1);u&&m&&(n.strings.prefix=n.strings.prefix+m,n.blobs=u)}n.strings["text-case"]&&(n.blobs=p.Output.Formatters[n.strings["text-case"]](this.state,e)),this.state.tmp.strip_periods&&!s&&(n.blobs=n.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var c=n.decorations.length-1;c>-1;c+=-1)"@quotes"===n.decorations[c][0]&&"false"!==n.decorations[c][1]&&(n.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),n.blobs.match(p.ROMANESQUE_REGEXP)||"@font-style"===n.decorations[c][0]&&(n.decorations=n.decorations.slice(0,c).concat(n.decorations.slice(c+1)));o.push(n),this.state.fun.flipflopper.processTags(n)}else l?o.push(n):o.push(e);return!0},p.Output.Queue.prototype.string=function(e,t,i){var r,s=p.getSafeEscape(this.state),a=t.slice(),n=[];if(0===a.length)return n;var o,l,m,u,c="";i?c=i.strings.delimiter:(e.tmp.count_offset_characters=!1,e.tmp.offset_characters=0),i&&i.new_locale&&(i.old_locale=e.opt.lang,e.opt.lang=i.new_locale);for(var h=0,f=a.length;h<f;h+=1){if((o=a[h]).strings.first_blob&&(e.tmp.count_offset_characters=o.strings.first_blob),"string"==typeof o.blobs){if("number"==typeof o.num)n.push(o);else if(o.blobs){o.particle&&(o.blobs=o.particle+o.blobs,o.particle="");var d=(r=s(o.blobs)).length;if(!e.tmp.suppress_decorations)for(v=0,y=o.decorations.length;v<y;v+=1)"@showid"!==(u=o.decorations[v])[0]&&(e.normalDecorIsOrphan(o,u)||(r=e.fun.decorate[u[0]][u[1]].call(o,e,r,u[2])));if(r&&r.length){if(r=s(o.strings.prefix)+r+s(o.strings.suffix),e.opt.development_extensions.csl_reverse_lookup_support&&!e.tmp.suppress_decorations)for(v=0,y=o.decorations.length;v<y;v+=1)"@showid"===(u=o.decorations[v])[0]&&(r=e.fun.decorate[u[0]][u[1]].call(o,e,r,u[2]));n.push(r),e.tmp.count_offset_characters&&(e.tmp.offset_characters+=d+o.strings.suffix.length+o.strings.prefix.length)}}}else if(o.blobs.length){var g=e.output.string(e,o.blobs,o);if(i&&"string"!==g&&g.length>1&&o.strings.delimiter)for(var b=!1,v=0,y=g.length;v<y;v++)"string"!=typeof g[v]?b=!0:b&&(g[v]=o.strings.delimiter+g[v]);n=n.concat(g)}o.strings.first_blob&&e.registry.registry[o.strings.first_blob]&&(e.registry.registry[o.strings.first_blob].offset=e.tmp.offset_characters,e.tmp.count_offset_characters=!1)}for(h=0,f=n.length-1;h<f;h+=1)"number"!=typeof n[h].num||"number"!=typeof n[h+1].num||n[h+1].UGLY_DELIMITER_SUPPRESS_HACK||(n[h].strings.suffix=n[h].strings.suffix+(c||""),n[h+1].successor_prefix="",n[h+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);var _=0;for(h=0,f=n.length;h<f;h+=1)"string"==typeof n[h]&&(_=parseInt(h,10)+1,h<n.length-1&&"object"==typeof n[h+1]&&(c&&!n[h+1].UGLY_DELIMITER_SUPPRESS_HACK&&(n[h]+=s(c)),n[h+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(i&&(i.decorations.length||i.strings.suffix))_=n.length;else if(i&&i.strings.prefix)for(h=0,f=n.length;h<f;h++)if(void 0!==n[h].num){_=h,0===h&&(n[h].strings.prefix=i.strings.prefix+n[h].strings.prefix);break}var x=e.output.renderBlobs(n.slice(0,_),c,!1,i);if(x&&i&&(i.decorations.length||i.strings.suffix||i.strings.prefix)){if(!e.tmp.suppress_decorations)for(h=0,f=i.decorations.length;h<f;h+=1)u=i.decorations[h],["@cite","@bibliography","@display","@showid"].indexOf(u[0])>-1||e.normalDecorIsOrphan(o,u)||u[0]&&"string"==typeof x&&(x=e.fun.decorate[u[0]][u[1]].call(i,e,x,u[2]));if(r=x,l=i.strings.suffix,r&&r.length&&(r=s(m=i.strings.prefix)+r+s(l),e.tmp.count_offset_characters&&(e.tmp.offset_characters+=m.length+l.length)),x=r,!e.tmp.suppress_decorations)for(h=0,f=i.decorations.length;h<f;h+=1)u=i.decorations[h],-1!==["@cite","@bibliography","@display","@showid"].indexOf(u[0])&&"string"==typeof x&&(x=e.fun.decorate[u[0]][u[1]].call(i,e,x,u[2]))}var E=n.slice(_,n.length);return!E.length&&x?n=[x]:E.length&&!x?n=E:x&&E.length&&(n=[x].concat(E)),void 0===i?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),e.tmp.suppress_decorations&&(n=e.output.renderBlobs(n,void 0,!1))):"boolean"==typeof i&&(n=e.output.renderBlobs(n,void 0,!0)),i&&i.new_locale&&(e.opt.lang=i.old_locale),n},p.Output.Queue.prototype.clearlevel=function(){var e,t,i;for(i=(e=this.current.value()).blobs.length,t=0;t<i;t+=1)e.blobs.pop()},p.Output.Queue.prototype.renderBlobs=function(e,t,i,r){var s,a,n,o,l,m,u,c,h,f,d;if(d=p.getSafeEscape(this.state),t||(t=""),s=this.state,a="",[],n="",m=e.length,"citation"===this.state.tmp.area&&!this.state.tmp.just_looking&&1===m&&"object"==typeof e[0]&&r)return e[0].strings.prefix=r.strings.prefix+e[0].strings.prefix,e[0].strings.suffix=e[0].strings.suffix+r.strings.suffix,e[0].decorations=e[0].decorations.concat(r.decorations),e[0].params=r.params,e[0];var g=!0;for(l=0;l<m;l+=1)e[l].checkNext?(e[l].checkNext(e[l+1],g),g=!1):g=!e[l+1]||!e[l+1].splice_prefix;var b=!0;for(l=e.length-1;l>0;l+=-1)e[l].checkLast?b&&e[l].checkLast(e[l-1])&&(b=!1):b=!0;for(m=e.length,l=0;l<m;l+=1)if(a&&(n=t),"string"==typeof(o=e[l]))a+=d(n),a+=o,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=n.length);else if(i)a=a?[a,o]:[o];else if(o.status!==p.SUPPRESS){var v=(h=o.particle?o.particle+o.num:o.formatter.format(o.num,o.gender)).replace(/<[^>]*>/g,"").length;this.append(h,"empty",!0);var y=this.pop(),_=s.tmp.count_offset_characters;if(h=this.string(s,[y],!1),s.tmp.count_offset_characters=_,o.strings["text-case"]&&(h=p.Output.Formatters[o.strings["text-case"]](this.state,h)),h&&this.state.tmp.strip_periods&&(h=h.replace(/\.([^a-z]|$)/g,"$1")),!s.tmp.suppress_decorations)for(c=o.decorations.length,u=0;u<c;u+=1)f=o.decorations[u],s.normalDecorIsOrphan(o,f)||(h=s.fun.decorate[f[0]][f[1]].call(o,s,h,f[2]));h=d(o.strings.prefix)+h+d(o.strings.suffix);var x="";o.status===p.END?x=d(o.range_prefix):o.status===p.SUCCESSOR?x=d(o.successor_prefix):o.status===p.START?x=l>0&&!o.suppress_splice_prefix?d(o.splice_prefix):"":o.status===p.SEEN&&(x=d(o.splice_prefix)),a+=x,a+=h,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=x.length+o.strings.prefix.length+v+o.strings.suffix.length)}return a},p.Output.Queue.purgeEmptyBlobs=function(e){if("object"==typeof e&&"object"==typeof e.blobs&&e.blobs.length)for(var t=e.blobs.length-1;t>-1;t--){p.Output.Queue.purgeEmptyBlobs(e.blobs[t]);var i=e.blobs[t];if(!i||!i.blobs||!i.blobs.length){for(var r=[];e.blobs.length-1>t;)r.push(e.blobs.pop());for(e.blobs.pop();r.length;)e.blobs.push(r.pop())}}},p.Output.Queue.adjust=function(e){var t={";":!0,":":!0},i={".":!0,"!":!0,"?":!0},r={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},s={},a={},n={},o={};for(var l in r)n[l]=!0,o[l]=!0,t[l]||(s[l]=!0),i[l]||(a[l]=!0);o[" "]=!0,o[" "]=!0;var m={};for(var l in r)for(var u in r[l])m[u]||(m[u]={}),m[u][l]=r[l][u];function p(e){return"number"==typeof e.num||e.blobs&&1===e.blobs.length&&"number"==typeof e.blobs[0].num}function c(e){return"number"==typeof e.num||!(!e.blobs||"object"!=typeof e.blobs)&&(!!c(e.blobs[e.blobs.length-1])||void 0)}function h(e,t){var i=!1,r=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(t&&r.push("@quotes"),e.decorations)for(var s=0,a=e.decorations.length;s<a;s++)if(r.indexOf(e.decorations[s][0])>-1){i=!0;break}return i}function f(e){if(e.decorations)for(var t=0,i=e.decorations.length;t<i;t++)if("@quotes"===e.decorations[t][0]&&"false"!==e.decorations[t][1])return!0;return"object"==typeof e.blobs&&f(e.blobs[e.blobs.length-1])}function d(e,t){var i=t.strings.suffix.slice(-1);i||"string"!=typeof t.blobs||(i=t.blobs.slice(-1));var r=m[e][i];return!(!r||1!==r.length)||"object"==typeof t.blobs&&!!d(e,t.blobs[t.blobs.length-1])}function g(e,t){if(!n[t])return!1;if("string"==typeof e.blobs)return e.blobs.slice(-1)===t;var i=e.blobs[e.blobs.length-1];return!!i&&(i.strings.suffix.slice(-1)?i.strings.suffix.slice(-1)==t:g(i,t))}function b(e,t,i,s,a){var n="blobs"===t?e:e.strings,o="blobs"===s?i:i.strings,l=n[t].slice(-1),u=o[s].slice(0,1);function p(){o[s]=o[s].slice(1)}function c(){n[t]=n[t].slice(0,-1)}function h(e){o[s]=e+o[s]}function f(e){n[t]+=e}var d=a?function(){return r[l]}:function(){return m[u]};var g=a?function(){var e=r[l][u];"string"==typeof e?(c(),p(),h(e)):(h(l),c())}:function(){var e=m[u][l];"string"==typeof e?(c(),p(),f(e)):(f(u),p())};l===u?(a?c:p)():d()&&g()}function v(e){var t=e.strings.suffix.slice(0,1);if("string"==typeof e.blobs)for(;s[t];)b(e,"blobs",e,"suffix"),t=e.strings.suffix.slice(0,1);else for(;s[t];)b(e.blobs[e.blobs.length-1],"suffix",e,"suffix"),t=e.strings.suffix.slice(0,1)}function y(e){if("string"==typeof e.blobs)for(var t=e.blobs.slice(-1);a[t];)b(e,"blobs",e,"suffix",!0),t=e.blobs.slice(-1);else for(t=e.blobs[e.blobs.length-1].strings.suffix.slice(-1);a[t];)b(e.blobs[e.blobs.length-1],"suffix",e,"suffix",!0),t=e.blobs[e.blobs.length-1].strings.suffix.slice(-1)}this.upward=function(e){if(e.blobs&&"string"==typeof e.blobs)n[e.strings.suffix.slice(0,1)]&&e.strings.suffix.slice(0,1)===e.blobs.slice(-1)&&(e.strings.suffix=e.strings.suffix.slice(1));else if("object"==typeof e&&"object"==typeof e.blobs&&e.blobs.length)for(var t=h(e,!0),i=e.blobs.length-1;i>-1;i--){this.upward(e.blobs[i]);var r=e.strings,s=e.blobs[i].strings;if(0===i){" "===r.prefix.slice(-1)&&" "===s.prefix.slice(0,1)&&(s.prefix=s.prefix.slice(1));var a=s.prefix.slice(0,1);t||!o[a]||r.prefix||(r.prefix+=a,s.prefix=s.prefix.slice(1))}if(i===e.blobs.length-1){a=s.suffix.slice(-1);!t&&[" "].indexOf(a)>-1&&(r.suffix.slice(0,1)!==a&&(r.suffix=a+r.suffix),s.suffix=s.suffix.slice(0,-1))}r.delimiter&&i>0&&o[r.delimiter.slice(-1)]&&r.delimiter.slice(-1)===s.prefix.slice(0,1)&&(s.prefix=s.prefix.slice(1))}},this.leftward=function(e){if("object"==typeof e&&"object"==typeof e.blobs&&e.blobs.length)for(var t=e.blobs.length-1;t>-1;t--)if(this.leftward(e.blobs[t]),t<e.blobs.length-1&&!e.strings.delimiter){var i=e.blobs[t],r=i.strings.suffix.slice(-1),s=e.blobs[t+1],a=s.strings.prefix.slice(0,1),o="number"==typeof r||"number"==typeof a;if(!(h(i)||h(s))&&!o&&n[a]&&!o){var l=a===i.strings.suffix.slice(-1),m=!i.strings.suffix&&"string"==typeof i.blobs&&i.blobs.slice(-1)===a;l||m?s.strings.prefix=s.strings.prefix.slice(1):b(i,"suffix",s,"prefix")}}},this.downward=function(t){if(t.blobs&&"string"==typeof t.blobs)n[t.strings.suffix.slice(0,1)]&&t.strings.suffix.slice(0,1)===t.blobs.slice(-1)&&(t.strings.suffix=t.strings.suffix.slice(1));else if("object"==typeof t&&"object"==typeof t.blobs&&t.blobs.length){for(var i=t.strings,r=0,s=t.blobs.length;r<s;r++)if(p(t.blobs[r])){!0;break}if(i.delimiter&&n[i.delimiter.slice(0,1)]){var a=i.delimiter.slice(0,1);for(r=t.blobs.length-2;r>-1;r--){(m=t.blobs[r].strings).suffix.slice(-1)!==a&&(m.suffix+=a)}i.delimiter=i.delimiter.slice(1)}for(r=t.blobs.length-1;r>-1;r--){var l=t.blobs[r],m=t.blobs[r].strings,u=h(l,!0),v=p(l);if(r===t.blobs.length-1){var y=i.suffix.slice(0,1),_=!1;n[y]&&!(_=d(y,l))&&e&&(_=f(l)),_&&n[y]&&(c(l)||("string"==typeof l.blobs?b(l,"blobs",t,"suffix"):b(l,"suffix",t,"suffix"),"."===i.suffix.slice(0,1)&&(m.suffix+=i.suffix.slice(0,1),i.suffix=i.suffix.slice(1))))," "===m.suffix.slice(-1)&&" "===i.suffix.slice(0,1)&&(i.suffix=i.suffix.slice(1)),o[m.suffix.slice(0,1)]&&("string"==typeof l.blobs&&l.blobs.slice(-1)===m.suffix.slice(0,1)&&(m.suffix=m.suffix.slice(1)),m.suffix.slice(-1)===i.suffix.slice(0,1)&&(i.suffix=i.suffix.slice(0,-1))),g(t,t.strings.suffix.slice(0,1))&&(t.strings.suffix=t.strings.suffix.slice(1))}else if(i.delimiter)o[i.delimiter.slice(0,1)]&&i.delimiter.slice(0,1)===m.suffix.slice(-1)&&(t.blobs[r].strings.suffix=t.blobs[r].strings.suffix.slice(0,-1));else{var x=t.blobs[r+1].strings;p(l)||u||!o[m.suffix.slice(-1)]||m.suffix.slice(-1)!==x.prefix.slice(0,1)||(x.prefix=x.prefix.slice(1))}v||u||!n[m.suffix.slice(0,1)]||"string"!=typeof l.blobs||b(l,"blobs",l,"suffix"),this.downward(t.blobs[r])}}},this.fix=function(t){if("object"==typeof t&&"object"==typeof t.blobs&&t.blobs.length){for(var i,r=0,s=t.blobs.length;r<s;r++){for(var a=t.blobs[r],n=!1,o=0,l=a.decorations.length;o<l;o++){var m=a.decorations[o];"@quotes"===m[0]&&"false"!==m[1]&&(n=!0)}n&&(e?v(a):y(a)),i=this.fix(t.blobs[r]),a.blobs&&"string"==typeof a.blobs&&(i=a.blobs.slice(-1))}return i}}},p.Engine.Opt=function(){this.parallel={enable:!1},this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=p.NONE,this.bib_mode=p.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.disable_duplicate_year_suppression=[],this.use_context_condition=!1,this.jurisdiction_fallbacks={},this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.consolidate_legal_items=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0,this.development_extensions.hanging_indent_legacy_number=!1,this.development_extensions.throw_on_empty=!1,this.development_extensions.strict_inputs=!0,this.development_extensions.prioritize_disambiguate_condition=!1,this.development_extensions.force_short_title_casing_alignment=!0,this.development_extensions.implicit_short_title=!1,this.development_extensions.force_title_abbrev_fallback=!1,this.development_extensions.split_container_title=!1,this.development_extensions.legacy_institution_name_ordering=!1,this.development_extensions.etal_min_etal_usefirst_hack=!1},p.Engine.Tmp=function(){this.names_max=new p.Stack,this.names_base=new p.Stack,this.givens_base=new p.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new p.Stack(0,p.LITERAL),this.element_rendered_ok=!1,this.element_trace=new p.Stack("style"),this.nameset_counter=0,this.group_context=new p.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_first:void 0,parallel_last:void 0,parallel_delimiter_override:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new p.Stack(0,p.LITERAL),this.decorations=new p.Stack,this.tokenstore_stack=new p.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new p.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new p.AmbigConfig,this.bib_sort_keys=[],this.prefix=new p.Stack("",p.LITERAL),this.suffix=new p.Stack("",p.LITERAL),this.delimiter=new p.Stack("",p.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={},this.condition_counter=0,this.condition_lang_val_arr=[],this.condition_lang_counter_arr=[]},p.Engine.Fun=function(e){this.match=new p.Util.Match,this.suffixator=new p.Util.Suffixator(p.SUFFIX_CHARS),this.romanizer=new p.Util.Romanizer,this.ordinalizer=new p.Util.Ordinalizer(e),this.long_ordinalizer=new p.Util.LongOrdinalizer},p.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.names_variables=[[]],this.name_label=[{}],this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new p.Stack(0,p.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1,this.bibliography_key_pos=0},p.Engine.Configure=function(){this.tests=[],this.fail=[],this.succeed=[]},p.Engine.Citation=function(e){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new p.Registry.Comparifier(e,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},p.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},p.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.opt.topdecor=[],this.opt.citation_number_sort_direction=p.ASCENDING,this.opt.citation_number_secondary=!1,this.tmp={},this.keys=[],this.root="bibliography"},p.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},p.Engine.InText=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="intext"},p.Engine.prototype.previewCitationCluster=function(e,t,i,r){var s=this.opt.mode;this.setOutputFormat(r),e.citationID&&delete e.citationID;var a=this.processCitationCluster(e,t,i,p.PREVIEW);return this.setOutputFormat(s),a[1]},p.Engine.prototype.appendCitationCluster=function(e){for(var t=[],i=this.registry.citationreg.citationByIndex.length,r=0;r<i;r+=1){var s=this.registry.citationreg.citationByIndex[r];t.push([""+s.citationID,s.properties.noteIndex])}return this.processCitationCluster(e,t,[])[1]},p.Engine.prototype.processCitationCluster=function(e,t,i,r){var s,a,n,o,l,m,u,c,h,f,d,g,b,v,y,_,x;if(this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[],this.registry.return_data={bibchange:!1},this.setCitationId(e),r===p.PREVIEW){this.debug&&p.debug("****** start state save *********"),y=this.registry.citationreg.citationByIndex.slice(),_=this.registry.reflist.slice();for(var E=t.concat(i),O={},A=[],w=0,T=E.length;w<T;w+=1)for(o=0,l=(s=this.registry.citationreg.citationById[E[w][0]]).citationItems.length;o<l;o+=1)O[s.citationItems[o].id]=!0,A.push(""+s.citationItems[o].id);for(o=0,l=e.citationItems.length;o<l;o+=1)O[e.citationItems[o].id]=!0,A.push(""+e.citationItems[o].id);x={};for(w=0,T=_.length;w<T;w+=1)if(!O[_[w].id]){var k=this.registry.registry[_[w].id].ambig,S=this.registry.ambigcites[k];if(S)for(o=0,l=S.length;o<l;o+=1)x[S[o]]=p.cloneAmbigConfig(this.registry.registry[S[o]].disambig)}this.debug&&p.debug("****** end state save *********")}this.tmp.taintedCitationIDs={};var I=[],N={};for(w=0,T=e.citationItems.length;w<T;w+=1){for(var C in d={},e.citationItems[w])d[C]=e.citationItems[w][C];var D;if((f=this.retrieveItem(""+d.id)).id&&this.transform.loadAbbreviation("default","hereinafter",f.id,f.language),d=p.parseLocator.call(this,d),this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable([[f,d]]),this.opt.development_extensions.locator_label_parse)if(d.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(f.type)&&(!d.label||"page"===d.label))if(D=p.LOCATOR_LABELS_REGEXP.exec(d.locator)){var R=p.LOCATOR_LABELS_MAP[D[2]];this.getTerm(R)&&(d.label=R,d.locator=D[3])}var j=[f,d];I.push(j),e.citationItems[w].item=f}e.sortedItems=I;var L,P=[],F={};for(w=0,T=t.length;w<T;w+=1)a=t[w],this.opt.development_extensions.strict_inputs&&(F[a[0]]&&p.error("Previously referenced citationID "+a[0]+" encountered in citationsPre"),a[1]&&(L>a[1]&&p.debug("Note index sequence is not sane at citationsPre["+w+"]"),L=a[1])),this.registry.citationreg.citationById[a[0]].properties.noteIndex=a[1],P.push(this.registry.citationreg.citationById[a[0]]),F[a[0]]=this.registry.citationreg.citationById[a[0]];for(e.properties||(e.properties={noteIndex:0}),this.opt.development_extensions.strict_inputs&&(F[e.citationID]&&p.error("Citation with previously referenced citationID "+e.citationID),e.properties.noteIndex&&(L>e.properties.noteIndex&&p.debug("Note index sequence is not sane for citation "+e.citationID),L=e.properties.noteIndex)),P.push(e),F[e.citationID]=e,w=0,T=i.length;w<T;w+=1)n=i[w],this.opt.development_extensions.strict_inputs&&(F[n[0]]&&p.error("Previously referenced citationID "+n[0]+" encountered in citationsPost"),n[1]&&(L>n[1]&&p.debug("Note index sequence is not sane at postCitation["+w+"]"),L=n[1])),this.registry.citationreg.citationById[n[0]].properties.noteIndex=n[1],P.push(this.registry.citationreg.citationById[n[0]]),F[n[0]]=this.registry.citationreg.citationById[n[0]];this.registry.citationreg.citationByIndex=P,this.registry.citationreg.citationById=F,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===p.POSITION&&(b=[],g=[],v={});var B,z=[];for(w=0,T=P.length;w<T;w+=1){for(P[w].properties.index=w,o=0,l=P[w].sortedItems.length;o<l;o+=1)d=P[w].sortedItems[o],this.registry.citationreg.citationsByItemId[d[1].id]||(this.registry.citationreg.citationsByItemId[d[1].id]=[],z.push(""+d[1].id)),-1===this.registry.citationreg.citationsByItemId[d[1].id].indexOf(P[w])&&this.registry.citationreg.citationsByItemId[d[1].id].push(P[w]);this.opt.update_mode===p.POSITION&&(P[w].properties.noteIndex?g.push(P[w]):(P[w].properties.noteIndex=0,b.push(P[w])))}if(r!==p.ASSUME_ALL_ITEMS_REGISTERED&&(this.debug&&p.debug("****** start update items *********"),this.updateItems(z,null,null,!0),this.debug&&p.debug("****** endo update items *********")),!this.opt.citation_number_sort&&I&&I.length>1&&this.citation_sort.tokens.length>0){for(w=0,T=I.length;w<T;w+=1)I[w][1].sortkeys=p.getSortKeys.call(this,I[w][0],"citation_sort");if(this.opt.grouped_sort&&!e.properties.unsorted){for(w=0,T=I.length;w<T;w+=1){var U=I[w][1].sortkeys;this.tmp.authorstring_request=!0;var M=this.registry.registry[I[w][0].id].disambig;this.tmp.authorstring_request=!0,p.getAmbiguousCite.call(this,I[w][0],M);var q=this.registry.authorstrings[I[w][0].id];this.tmp.authorstring_request=!1,I[w][1].sortkeys=[q].concat(U)}I.sort(this.citation.srt.compareCompositeKeys);var G=!1,$=!1,X=!1;for(w=0,T=I.length;w<T;w+=1)I[w][1].sortkeys[0]!==G&&(X=I[w][1].sortkeys[0],$=I[w][1].sortkeys[1]),I[w][1].sortkeys[0]=""+$+w,G=X}e.properties.unsorted||I.sort(this.citation.srt.compareCompositeKeys)}if(this.opt.parallel.enable&&this.parallel.StartCitation(e.sortedItems),this.opt.update_mode===p.POSITION)for(w=0;w<2;w+=1){var V={},H={},J={};for(o=0,l=(B=[b,g][w]).length;o<l;o+=1){var W=B[o];for(B[o].properties.noteIndex||(B[o].properties.noteIndex=0),B[o].properties.noteIndex=parseInt(B[o].properties.noteIndex,10),o>0&&W.properties.noteIndex&&B[o-1].properties.noteIndex>W.properties.noteIndex&&(v={},V={},H={},J={}),m=0,u=W.sortedItems.length;m<u;m+=1)W.sortedItems[m][1].parallel&&"first"!==W.sortedItems[m][1].parallel||(v[W.properties.noteIndex]?v[W.properties.noteIndex]+=1:v[W.properties.noteIndex]=1);for(m=0,u=B[o].sortedItems.length;m<u;m+=1){var K,Q,Y=(d=B[o].sortedItems[m])[0].id,Z=d[0].legislation_id?d[0].legislation_id:d[0].id,ee=d[0].legislation_id?d[0].legislation_id:d[0].container_id?d[0].container_id:d[0].id,te=d[1]["locator-extra"],ie=d[1].locator,re=d[1].label;if(m>0)if(W.sortedItems[m-1][0].legislation_id)K=W.sortedItems[m-1][0].legislation_id;else{K=W.sortedItems[m-1][1].id,Q=W.sortedItems[m-1][1]["locator-extra"];for(var se=m-2;se>-1;se--)"first"===W.sortedItems[se][1].parallel&&(K=W.sortedItems[se][1].id,Q=W.sortedItems[se][1]["locator-extra"])}if(r!==p.PREVIEW||W.citationID==e.citationID){var ae,ne,oe={};if(oe.position=d[1].position,oe["first-reference-note-number"]=d[1]["first-reference-note-number"],oe["first-container-reference-note-number"]=d[1]["first-container-reference-note-number"],oe["near-note"]=d[1]["near-note"],d[1]["first-reference-note-number"]=0,d[1]["first-container-reference-note-number"]=0,d[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[Y]&&"note"===this.opt.xclass&&this.opt.has_disambiguate){var le=this.registry.registry[d[0].id]["citation-count"],me=this.registry.citationreg.citationsByItemId[Y].length;if(this.registry.registry[d[0].id]["citation-count"]=this.registry.citationreg.citationsByItemId[Y].length,"number"==typeof le){if(le<2!==me<2){se=0;for(var ue=this.registry.citationreg.citationsByItemId[Y].length;se<ue;se++)N[this.registry.registry[d[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[Y][se].citationID]=!0}}else for(se=0,ue=this.registry.citationreg.citationsByItemId[Y].length;se<ue;se++)N[this.registry.registry[d[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[Y][se].citationID]=!0}if(void 0===H[ee]&&"author-only"!==W.properties.mode)V[Z]=W.properties.noteIndex,H[ee]=W.properties.noteIndex,J[ee]=W.properties.noteIndex,d[1].position=p.POSITION_FIRST;else{var pe=!1,ce=!1,he=null;if(o>0)he=B[o-1];var fe,de,ge,be,ve=B[o];if(o>0){var ye=1;"author-only"===he.properties.mode&&o>1&&(ye=2);var _e=o-ye;B[_e].sortedItems.length&&(ae=B[_e].sortedItems.slice(-1)[0][1].id,ne=B[o-ye].sortedItems.slice(-1)[0][1]["locator-extra"]),he.sortedItems.length&&he.sortedItems[0].slice(-1)[0].legislation_id&&(ae=he.sortedItems[0].slice(-1)[0].legislation_id)}if(o>0&&0===m&&he.properties.noteIndex!==ve.properties.noteIndex){var xe=!1,Ee=he.sortedItems[0][0].id;if(he.sortedItems[0][0].legislation_id&&(Ee=he.sortedItems[0][0].legislation_id),Ee==Z&&he.properties.noteIndex>=ve.properties.noteIndex-1){var Oe=he.sortedItems[0][1]["locator-extra"],Ae=ve.sortedItems[0][1]["locator-extra"];1!==v[he.properties.noteIndex]&&0!==he.properties.noteIndex||Oe!==Ae||(xe=!0)}xe?pe=!0:ce=!0}else m>0&&K==Z&&Q==te||0===m&&o>0&&he.properties.noteIndex==ve.properties.noteIndex&&he.sortedItems.length&&ae==Z&&ne==te?pe=!0:ce=!0;pe&&((fe=m>0?W.sortedItems[m-1][1]:B[o-1].sortedItems[0][1]).locator?(ge=fe.label?fe.label:"",de=""+fe.locator+ge):de=fe.locator,be=ie?""+ie+(re||""):ie),pe&&de&&!be&&(pe=!1,ce=!0),pe&&(!de&&be?d[1].position=p.POSITION_IBID_WITH_LOCATOR:de||be?de&&be===de?d[1].position=p.POSITION_IBID:de&&be&&be!==de?d[1].position=p.POSITION_IBID_WITH_LOCATOR:(pe=!1,ce=!0):d[1].position=p.POSITION_IBID),ce&&(d[1].position=p.POSITION_CONTAINER_SUBSEQUENT,void 0===V[Z]?V[Z]=W.properties.noteIndex:d[1].position=p.POSITION_SUBSEQUENT),(ce||pe)&&("author-only"===W.properties.mode&&(d[1].position=p.POSITION_FIRST),J[ee]!=W.properties.noteIndex&&(d[1]["first-container-reference-note-number"]=J[ee],this.registry.registry[d[0].id]&&(this.registry.registry[d[0].id]["first-container-reference-note-number"]=J[ee])),V[Z]!=W.properties.noteIndex&&(d[1]["first-reference-note-number"]=V[Z],this.registry.registry[d[0].id]&&(this.registry.registry[d[0].id]["first-reference-note-number"]=V[Z])))}if(W.properties.noteIndex){var we=parseInt(W.properties.noteIndex,10)-parseInt(H[ee],10);d[1].position!==p.POSITION_FIRST&&we<=this.citation.opt["near-note-distance"]&&(d[1]["near-note"]=!0),H[ee]=W.properties.noteIndex}else d[1].position!==p.POSITION_FIRST&&(d[1]["near-note"]=!0);if(W.citationID!=e.citationID)for(c=0,h=p.POSITION_TEST_VARS.length;c<h;c+=1){var Te=p.POSITION_TEST_VARS[c];d[1][Te]!==oe[Te]&&(this.registry.registry[d[0].id]&&"first-reference-note-number"===Te&&(N[this.registry.registry[d[0].id].ambig]=!0,this.tmp.taintedItemIDs[d[0].id]=!0),this.tmp.taintedCitationIDs[W.citationID]=!0)}this.sys.variableWrapper&&(d[1].index=W.properties.index,d[1].noteIndex=W.properties.noteIndex)}else void 0===V[d[1].id]?(V[Z]=W.properties.noteIndex,H[ee]=W.properties.noteIndex):H[ee]=W.properties.noteIndex}}}if(this.opt.citation_number_sort&&I&&I.length>1&&this.citation_sort.tokens.length>0&&!e.properties.unsorted){for(w=0,T=I.length;w<T;w+=1)I[w][1].sortkeys=p.getSortKeys.call(this,I[w][0],"citation_sort");I.sort(this.citation.srt.compareCompositeKeys)}for(var C in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(C)&&(B=this.registry.citationreg.citationsByItemId[C]))for(w=0,T=B.length;w<T;w+=1)this.tmp.taintedCitationIDs[B[w].citationID]=!0;var ke=[];if(r===p.PREVIEW){this.debug&&p.debug("****** start run processor *********");try{ke=this.process_CitationCluster.call(this,e.sortedItems,e)}catch(e){p.error("Error running CSL processor for preview: "+e)}this.debug&&(p.debug("****** end run processor *********"),p.debug("****** start state restore *********")),this.registry.citationreg.citationByIndex=y,this.registry.citationreg.citationById={};for(w=0,T=y.length;w<T;w+=1)this.registry.citationreg.citationById[y[w].citationID]=y[w];this.debug&&p.debug("****** start final update *********");var Se=[];for(w=0,T=_.length;w<T;w+=1)Se.push(""+_[w].id);for(var C in this.updateItems(Se,null,null,!0),this.debug&&p.debug("****** end final update *********"),x)x.hasOwnProperty(C)&&(this.registry.registry[C].disambig=x[C]);this.debug&&p.debug("****** end state restore *********")}else{for(var Ie in N)this.disambiguate.run(Ie,e);var Ne;for(var C in this.tmp.taintedCitationIDs)if(C!=e.citationID){var Ce=this.registry.citationreg.citationById[C];if(!Ce.properties.unsorted){for(w=0,T=Ce.sortedItems.length;w<T;w+=1)Ce.sortedItems[w][1].sortkeys=p.getSortKeys.call(this,Ce.sortedItems[w][0],"citation_sort");Ce.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=Ce.properties.index,this.tmp.citation_note_index=Ce.properties.noteIndex,this.tmp.citation_id=""+Ce.citationID,(Ne=[]).push(Ce.properties.index),Ne.push(this.process_CitationCluster.call(this,Ce.sortedItems,Ce)),Ne.push(Ce.citationID),ke.push(Ne)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=e.properties.index,this.tmp.citation_note_index=e.properties.noteIndex,this.tmp.citation_id=""+e.citationID,(Ne=[]).push(t.length),Ne.push(this.process_CitationCluster.call(this,I,e)),Ne.push(e.citationID),ke.push(Ne),ke.sort((function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0}))}return this.registry.return_data.citation_errors=this.tmp.citation_errors.slice(),[this.registry.return_data,ke]},p.Engine.prototype.process_CitationCluster=function(e,t){var i="";if(t&&t.properties&&"composite"===t.properties.mode){t.properties.mode="author-only";var r=p.getCitationCluster.call(this,e,t);t.properties.mode="suppress-author";var s="";t.properties.infix&&(this.output.append(t.properties.infix),"object"==typeof(s=this.output.string(this,this.output.queue))&&(s=s.join("")));var a=p.getCitationCluster.call(this,e,t);t.properties.mode="composite",r&&s&&p.SWAPPING_PUNCTUATION.concat(["’","'"]).indexOf(s[0])>-1&&(r+=s,s=!1),i=[r,s,a].filter((function(e){return e})).join(" ")}else i=p.getCitationCluster.call(this,e,t);return i},p.Engine.prototype.makeCitationCluster=function(e){var t,i,r,s,a,n;for(t=[],s=e.length,r=0;r<s;r+=1){for(var o in a={},e[r])a[o]=e[r][o];if(n=this.retrieveItem(""+a.id),this.opt.development_extensions.locator_label_parse&&a.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(n.type)&&(!a.label||"page"===a.label)){var l=p.LOCATOR_LABELS_REGEXP.exec(a.locator);if(l){var m=p.LOCATOR_LABELS_MAP[l[2]];this.getTerm(m)&&(a.label=m,a.locator=l[3])}}a.locator&&(a.locator=(""+a.locator).replace(/\s+$/,"")),i=[n,a],t.push(i)}if(this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable(t),t&&t.length>1&&this.citation_sort.tokens.length>0){for(s=t.length,r=0;r<s;r+=1)t[r][1].sortkeys=p.getSortKeys.call(this,t[r][0],"citation_sort");t.sort(this.citation.srt.compareCompositeKeys)}return this.tmp.citation_errors=[],p.getCitationCluster.call(this,t)},p.getAmbiguousCite=function(e,t,i,r){var s=this.tmp.group_context.tip,a={term_intended:s.term_intended,variable_attempt:s.variable_attempt,variable_success:s.variable_success,output_tip:s.output_tip,label_form:s.label_form,non_parallel:s.non_parallel,parallel_last:s.parallel_last,parallel_first:s.parallel_first,parallel_last_override:s.parallel_last_override,parallel_delimiter_override:s.parallel_delimiter_override,parallel_delimiter_override_on_suppress:s.parallel_delimiter_override_on_suppress,condition:s.condition,force_suppress:s.force_suppress,done_vars:s.done_vars.slice()};this.tmp.disambig_request=t||!1;var n={position:p.POSITION_SUBSEQUENT,"near-note":!0};r&&(n.locator=r.locator,n.label=r.label),this.registry.registry[e.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[e.id]&&this.registry.citationreg.citationsByItemId[e.id].length&&i&&"by-cite"===this.citation.opt["givenname-disambiguation-rule"]&&(n["first-reference-note-number"]=this.registry.registry[e.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation";var o=this.tmp.suppress_decorations;this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,p.getCite.call(this,e,n,null,!1);for(var l=0,m=this.output.queue.length;l<m;l+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[l]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var u=0,c=this.output.queue.length;u<c;u+=1)this.output.adjust.upward(this.output.queue[u]),this.output.adjust.leftward(this.output.queue[u]),this.output.adjust.downward(this.output.queue[u]),this.output.adjust.fix(this.output.queue[u]);var h=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=o,this.tmp.group_context.replace(a),h},p.getSpliceDelimiter=function(e,t,i){if(void 0!==this.citation.opt["after-collapse-delimiter"])e||t&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:t||this.tmp.have_collapsed||"year-suffix"===this.citation.opt.collapse?this.tmp.splice_delimiter=this.citation.opt.layout_delimiter:this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"];else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&"in-text"===this.opt.xclass&&this.opt.update_mode!==p.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[i-1]){var r=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[i-1]];r&&r.delimiter&&(this.tmp.splice_delimiter=r.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter},p.getCitationCluster=function(e,t){var i,r,s,a,n,o,l,m,u,c,h,f,d,g,b,v,y,_,x,E,O,A="";this.output.checkNestedBrace=new p.checkNestedBrace(this),t&&(x=t.citationID,E="author-only"===t.properties.mode&&!!t.properties.mode,"note"!==this.opt.xclass&&(O="suppress-author"===t.properties.mode&&!!t.properties.mode),t.properties.prefix&&(A=p.checkPrefixSpaceAppend(this,t.properties.prefix))),e=e||[],this.tmp.last_primary_names_string=!1,y=p.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",i="",r=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.tmp.just_looking||(this.tmp.abbrev_trimmer={QUASHES:{}});var w=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix+A),T=!1;if(this.citation.opt.suppressTrailingPunctuation&&(T=!0),x&&this.registry.citationreg.citationById[x].properties["suppress-trailing-punctuation"]&&(T=!0),"note"===this.opt.xclass){for(var k=[],S=!1,I=!1,N=[],C=0,D=e.length;C<D;C+=1){var R=e[C][0].type,j=e[C][0].title,L=e[C][1].position,P=e[C][0].id;j&&"legal_case"===R&&P!==I&&L&&(j===S&&0!==k.length||(N=[],k.push(N)),N.push(e[C][1])),S=j,L,I=P}for(C=0,D=k.length;C<D;C+=1)if(!((N=k[C]).length<2)){var F=N.slice(-1)[0].locator;if(F)for(var B=0,z=N.length-1;B<z;B+=1)N[B].locator&&(F=!1);F&&(N[0].locator=F,delete N.slice(-1)[0].locator,N[0].label=N.slice(-1)[0].label,N.slice(-1)[0].label&&delete N.slice(-1)[0].label)}}for(s=[],a=e.length,e[0]&&e[0][1]&&(E?(delete e[0][1]["suppress-author"],e[0][1]["author-only"]=!0):O&&(delete e[0][1]["author-only"],e[0][1]["suppress-author"]=!0)),this.opt.parallel.enable&&this.parallel.StartCitation(e),n=0;n<a;n+=1){this.tmp.cite_index=n,f=e[n][0],o=e[n][1],o=p.parseLocator.call(this,o),l=this.tmp.have_collapsed;var U=!1;if(n>0&&e[n-1][1]&&(U=!!e[n-1][1].locator),m={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var M=this.output;this.output=new p.Output.Queue(this),this.output.adjust=new p.Output.Queue.adjust,p.getAmbiguousCite.call(this,f,null,!1,o),this.output=M}if(this.tmp.in_cite_predecessor=!1,n>0?p.getCite.call(this,f,o,""+e[n-1][0].id,!0):(this.tmp.term_predecessor=!1,p.getCite.call(this,f,o,null,!0)),this.tmp.cite_renders_content||(_={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+f.id,citationItems_pos:n,error_code:p.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(_)),m.splice_delimiter=p.getSpliceDelimiter.call(this,U,l,n),o&&o["author-only"]&&(this.tmp.suppress_decorations=!0),n>0){var q=(v=e[n-1][1]).suffix&&[";",".",","].indexOf(v.suffix.slice(-1))>-1,G=!v.suffix&&o.prefix&&[";",".",","].indexOf(o.prefix.slice(0,1))>-1;if(q||G){var $=m.splice_delimiter.indexOf(" ");m.splice_delimiter=$>-1&&!G?m.splice_delimiter.slice($):""}}if(m.suppress_decorations=this.tmp.suppress_decorations,m.have_collapsed=this.tmp.have_collapsed,s.push(m),o["author-only"])break}h=this.output.queue.slice();var X="";t&&(X=p.checkSuffixSpacePrepend(this,t.properties.suffix));var V=this.citation.opt.layout_suffix,H=this.tmp.cite_locales[this.tmp.cite_locales.length-1];H&&this.tmp.cite_affixes[this.tmp.area][H]&&this.tmp.cite_affixes[this.tmp.area][H].suffix&&(V=this.tmp.cite_affixes[this.tmp.area][H].suffix),p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(V.slice(0,1))>-1&&(V=V.slice(0,1)),V=this.output.checkNestedBrace.update(X+V);for(C=0,D=this.output.queue.length;C<D;C+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[C]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&"citation"===this.tmp.area||(T||(this.output.queue[this.output.queue.length-1].strings.suffix=V),this.output.queue[0].strings.prefix=w)),this.opt.development_extensions.clean_up_csl_flaws)for(B=0,z=this.output.queue.length;B<z;B+=1)this.output.adjust.upward(this.output.queue[B]),this.output.adjust.leftward(this.output.queue[B]),this.output.adjust.downward(this.output.queue[B]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[B]);for(n=0,a=h.length;n<a;n+=1){var J=[];if(this.output.queue=[h[n]],this.tmp.suppress_decorations=s[n].suppress_decorations,this.tmp.splice_delimiter=s[n].splice_delimiter,h[n].parallel_delimiter&&(this.tmp.splice_delimiter=h[n].parallel_delimiter),this.tmp.have_collapsed=s[n].have_collapsed,u=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,"string"==typeof u)return this.tmp.suppress_decorations=!1,u||(this.opt.development_extensions.throw_on_empty?p.error("Citation would render no content"):u="[NO_PRINTED_FORM]"),u;if("object"==typeof u&&0===u.length&&!o["suppress-author"])if(0===n){var W=0===n?y(this.citation.opt.layout_prefix):"",K=n===h.length-1?y(this.citation.opt.layout_suffix):"";u.push(W+"[CSL STYLE ERROR: reference with no printed form.]"+K)}else if(n===h.length-1){var Q=r[r.length-1];"string"==typeof Q?r[r.length-1]+=y(this.citation.opt.layout_suffix):"object"==typeof Q&&(Q.strings.suffix+=y(this.citation.opt.layout_suffix))}if(J.length&&"string"==typeof u[0]){u.reverse();var Y=u.pop();Y&&","===Y.slice(0,1)?J.push(Y):"string"==typeof J.slice(-1)[0]&&","===J.slice(-1)[0].slice(-1)?J.push(" "+Y):Y&&J.push(y(this.tmp.splice_delimiter)+Y)}else u.reverse(),void 0!==(c=u.pop())&&(J.length&&"string"==typeof J[J.length-1]&&(J[J.length-1]+=c.successor_prefix),J.push(c));for(d=u.length,g=0;g<d;g+=1)"string"!=typeof(b=u[g])?void 0!==(c=u.pop())&&J.push(c):J.push(y(this.tmp.splice_delimiter)+b);0!==J.length||e[n][1]["suppress-author"]||1,J.length>1&&"string"!=typeof J[0]&&(J=[this.output.renderBlobs(J)]),J.length&&("string"==typeof J[0]?n>0&&(J[0]=y(this.tmp.splice_delimiter)+J[0]):J[0].splice_prefix=n>0?this.tmp.splice_delimiter:""),r=r.concat(J)}if((i+=this.output.renderBlobs(r))&&!this.tmp.suppress_decorations)for(a=this.citation.opt.layout_decorations.length,n=0;n<a;n+=1)"normal"!==(m=this.citation.opt.layout_decorations[n])[1]&&(o&&o["author-only"]||(i=this.fun.decorate[m[0]][m[1]](this,i)));return this.tmp.suppress_decorations=!1,i||(this.opt.development_extensions.throw_on_empty?p.error("Citation would render no content"):i="[NO_PRINTED_FORM]"),i},p.getCite=function(e,t,i,r){var s,a,n=this.tmp.area;for(t&&t["author-only"]&&this.intext&&this.intext.tokens.length>0&&(this.tmp.area="intext"),this.tmp.cite_renders_content=!1,this.tmp.probably_rendered_something=!1,this.tmp.prevItemID=i,p.citeStart.call(this,e,t,r),s=0,this.tmp.name_node={},this.nameOutput=new p.NameOutput(this,e,t);s<this[this.tmp.area].tokens.length;)s=p.tokenExec.call(this,this[this.tmp.area].tokens[s],e,t);return p.citeEnd.call(this,e,t),this.tmp.cite_renders_content||this.tmp.just_looking||"bibliography"===this.tmp.area&&(a={index:this.tmp.bibliography_pos,itemID:""+e.id,error_code:p.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(a)),this.tmp.area=n,""+e.id},p.citeStart=function(e,t,i){if(this.tmp.lang_array=[],e.language){var r=e.language.match(/^([a-zA-Z]+).*/);r&&this.tmp.lang_array.push(r[1].toLowerCase())}if(this.tmp.lang_array.push(this.opt.lang),i||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="","citation"===this.tmp.area&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[e.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[e.id].disambig,this.tmp.disambig_settings=this.registry.registry[e.id].disambig):this.tmp.disambig_settings=new p.AmbigConfig,"citation"!==this.tmp.area)if(this.registry.registry[e.id]){if(this.tmp.disambig_restore=p.cloneAmbigConfig(this.registry.registry[e.id].disambig),"bibliography"===this.tmp.area&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[e.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[e.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[e.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[e.id].disambig.givens.slice();for(var s=0,a=this.tmp.disambig_settings.givens.length;s<a;s+=1)this.tmp.disambig_settings.givens[s]=this.registry.registry[e.id].disambig.givens[s].slice();for(s=0,a=this.tmp.disambig_request.givens.length;s<a;s+=1)this.tmp.disambig_request.givens[s]=this.registry.registry[e.id].disambig.givens[s].slice()}}else this.tmp.disambig_restore=new p.AmbigConfig;this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.just_looking||t&&"first"!==t.parallel&&t.parallel||(this.tmp.abbrev_trimmer={QUASHES:{}}),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&t&&!t.position&&this.registry.registry[e.id]&&(this.tmp.disambig_restore=p.cloneAmbigConfig(this.registry.registry[e.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},p.citeEnd=function(e,t){if(this.tmp.disambig_restore&&this.registry.registry[e.id]){this.registry.registry[e.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[e.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var i=0,r=this.registry.registry[e.id].disambig.givens.length;i<r;i+=1)this.registry.registry[e.id].disambig.givens[i]=this.tmp.disambig_restore.givens[i].slice()}if(this.tmp.disambig_restore=!1,t&&t.suffix?this.tmp.last_suffix_used=t.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){var s=[];for(i=this.tmp.issued_date.list.length-1;i>this.tmp.issued_date.pos;i+=-1)s.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),i=s.length-1;i>-1;i+=-1)this.tmp.issued_date.list.push(s.pop())}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},p.Engine.prototype.makeBibliography=function(e){var t,i,r,s,a,n,o;if(!1,!e&&(this.bibliography.opt.exclude_types||this.bibliography.opt.exclude_with_fields)){if(e={exclude:[]},this.bibliography.opt.exclude_types)for(var l in this.bibliography.opt.exclude_types){var m=this.bibliography.opt.exclude_types[l];e.exclude.push({field:"type",value:m})}if(this.bibliography.opt.exclude_with_fields)for(var l in this.bibliography.opt.exclude_with_fields){var u=this.bibliography.opt.exclude_with_fields[l];e.exclude.push({field:u,value:!0})}}if(!this.bibliography.tokens.length)return!1;"string"==typeof e&&(this.opt.citation_number_slug=e,e=!1),n=(t=p.getBibliographyEntries.call(this,e))[0],o=t[1];var c=t[2];for(i={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:n,bibliography_errors:this.tmp.bibliography_errors.slice(),done:c},this.bibliography.opt["second-field-align"]&&(i["second-field-align"]=this.bibliography.opt["second-field-align"]),0,s=this.registry.reflist.length,a=0;a<s;a+=1)(r=this.registry.reflist[a]).offset>i.maxoffset&&(i.maxoffset=r.offset);return this.bibliography.opt.hangingindent&&(i.hangingindent=this.bibliography.opt.hangingindent),i.bibstart=this.fun.decorate.bibstart,i.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[i,o]},p.getBibliographyEntries=function(e){var t,i,r,s,a,n,o,l,m,u,c,h,f,d,g,b,v,y,_,x;function E(e,t){return e===t}function O(e,t){return"boolean"!=typeof e&&e?"string"==typeof t?E(e,t):!!t&&function(e,t){for(u=t.length,c=0;c<u;c+=1)if(E(e,t[c]))return!0;return!1}(e,t):e?!!t:!t}if(t=[],_=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,i=e&&e.page_start&&e.page_length?this.registry.getSortedIds():this.refetchItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0,v={},e&&e.page_start&&e.page_length&&(x=0,!0!==e.page_start))for(d=0,g=i.length;d<g&&(v[i[d]]=!0,e.page_start!=i[d]);d+=1);var A=[],w={};for(this.tmp.container_item_count={},i=i.filter((e=>{var t=e;return e.legislation_id?w[e.legislation_id]?t=!1:w[e.legislation_id]=!0:e.container_id&&(this.tmp.container_item_count[e.container_id]||(this.tmp.container_item_count[e.container_id]=0),this.tmp.container_item_count[e.container_id]++,this.bibliography.opt.consolidate_containers.indexOf(e.type)>-1&&(w[e.container_id]?t=!1:w[e.container_id]=!0)),t})),this.tmp.container_item_pos={},d=0,g=i.length;d<g;d+=1){if(e&&e.page_start&&e.page_length){if(v[i[d]])continue;if(l=this.refetchItem(i[d]),x===e.page_length)break}else if(v[(l=i[d]).id])continue;if(e){if(r=!0,e.include){for(r=!1,T=0,k=e.include.length;T<k;T+=1)if(O((m=e.include[T]).value,l[m.field])){r=!0;break}}else if(e.exclude){for(s=!1,T=0,k=e.exclude.length;T<k;T+=1)if(O((m=e.exclude[T]).value,l[m.field])){s=!0;break}s&&(r=!1)}else if(e.select){for(r=!1,a=!0,T=0,k=e.select.length;T<k;T+=1)O((m=e.select[T]).value,l[m.field])||(a=!1);a&&(r=!0)}if(e.quash){for(a=!0,T=0,k=e.quash.length;T<k;T+=1)O((m=e.quash[T]).value,l[m.field])||(a=!1);a&&(r=!1)}if(!r)continue}if(l.container_id&&(this.tmp.container_item_pos[l.container_id]||(this.tmp.container_item_pos[l.container_id]=0),this.tmp.container_item_pos[l.container_id]++),(n=new p.Token("group",p.START)).decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",n),l.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=l.system_id:this.output.current.value().system_id=l.id,f=[],!this.registry.registry[l.id].master||e&&e.page_start&&e.page_length)this.registry.registry[l.id].siblings||(this.tmp.term_predecessor=!1,this.tmp.cite_index=0,f.push(""+p.getCite.call(this,l)),e&&e.page_start&&e.page_length&&(x+=1));else{y=[[l,{id:l.id}]];for(var T=0,k=(b=this.registry.registry[l.id].siblings).length;T<k;T++)y.push([this.refetchItem(b[T]),{id:b[T]}]);for(this.parallel.StartCitation(y),this.registry.registry[l.id].parallel_delimiter_override?this.output.queue[0].strings.delimiter=this.registry.registry[l.id].parallel_delimiter_override:this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,this.tmp.cite_index=0,T=0,k=y.length;T<k;T+=1)T<y.length-1?this.tmp.parallel_and_not_last=!0:delete this.tmp.parallel_and_not_last,f.push(""+p.getCite.call(this,y[T][0],y[T][1])),this.tmp.cite_index++,v[y[T][0].id]=!0}for(_.push(""),this.tmp.bibliography_pos+=1,A.push(f),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&((h=this.output.queue[0].blobs[0].blobs[0].strings?this.output.queue[0].blobs[0].blobs:this.output.queue[0].blobs)[0].strings.prefix=this.bibliography.opt.layout_prefix+h[0].strings.prefix),T=0,k=this.output.queue.length;T<k;T+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[T]);for(T=0,k=this.output.queue.length;T<k;T+=1)this.output.adjust.upward(this.output.queue[T]),this.output.adjust.leftward(this.output.queue[T]),this.output.adjust.downward(this.output.queue[T],!0),this.output.adjust.fix(this.output.queue[T]);if(!(o=this.output.string(this,this.output.queue)[0])&&this.opt.update_mode===p.NUMERIC){var S=t.length+1+". [CSL STYLE ERROR: reference with no printed form.]";o=p.Output.Formats[this.opt.mode]["@bibliography/entry"](this,S)}o&&t.push(o)}var I=!1;if(e&&e.page_start&&e.page_length){var N=i.slice(-1)[0],C=A.slice(-1)[0];N&&C&&N!=C||(I=!0)}return this.tmp.disambig_override=!1,[A,t,I]},p.Engine.prototype.setCitationId=function(e,t){var i,r,s;if(i=!1,!e.citationID||t){for(r=Math.floor(1e14*Math.random());;){if(s=0,!this.registry.citationreg.citationById[r]){e.citationID="a"+r.toString(32);break}r+=1===(s=!s&&r<5e13?1:-1)?1:-1}i=""+r}return this.registry.citationreg.citationById[e.citationID]=e,i},p.Engine.prototype.rebuildProcessorState=function(e,t,i){e||(e=[]),t||(t="html");for(var r={},s=[],a=0,n=e.length;a<n;a+=1)for(var o=0,l=e[a].citationItems.length;o<l;o+=1){var m=""+e[a].citationItems[o].id;r[m]||s.push(m),r[m]=!0}this.updateItems(s);var u=[],c=[],h=[],f=this.opt.mode;this.setOutputFormat(t);for(a=0,n=e.length;a<n;a+=1){var d=this.processCitationCluster(e[a],u,c,p.ASSUME_ALL_ITEMS_REGISTERED);u.push([e[a].citationID,e[a].properties.noteIndex]);for(o=0,l=d[1].length;o<l;o+=1){var g=d[1][o][0];h[g]=[u[g][0],u[g][1],d[1][o][1]]}}return this.updateUncitedItems(i),this.setOutputFormat(f),h},p.Engine.prototype.restoreProcessorState=function(e){var t,i,r,s,a,n,o,l,m,u;l=[],m=[],e||(e=[]);var c=[],h={};for(t=0,i=e.length;t<i;t+=1)h[e[t].citationID]&&this.setCitationId(e[t],!0),h[e[t].citationID]=!0,c.push(e[t].properties.index);var f=e.slice();for(f.sort((function(e,t){return e.properties.index<t.properties.index?-1:e.properties.index>t.properties.index?1:0})),t=0,i=f.length;t<i;t+=1)f[t].properties.index=t;for(t=0,i=f.length;t<i;t+=1){for(u=[],r=0,s=f[t].citationItems.length;r<s;r+=1)void 0===(a=f[t].citationItems[r]).sortkeys&&(a.sortkeys=[]),o=[n=this.retrieveItem(""+a.id),a],u.push(o),f[t].citationItems[r].item=n,m.push(""+a.id);f[t].properties.unsorted||u.sort(this.citation.srt.compareCompositeKeys),f[t].sortedItems=u,this.registry.citationreg.citationById[f[t].citationID]=f[t]}for(this.updateItems(m),t=0,i=e.length;t<i;t+=1)l.push([""+e[t].citationID,e[t].properties.noteIndex]);var d=[];return e&&e.length?d=this.processCitationCluster(e[0],[],l.slice(1)):(this.registry=new p.Registry(this),this.tmp=new p.Engine.Tmp,this.disambiguate=new p.Disambiguation(this)),d},p.Engine.prototype.updateItems=function(e,t,i,r){var s=this.tmp.area,a=this.tmp.root,n=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",r||(this.tmp.loadedItemIDs={}),this.registry.init(e),i)for(var o in this.registry.ambigcites)this.registry.ambigsTouched[o]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=n,this.tmp.area=s,this.tmp.root=a,this.registry.getSortedIds()},p.Engine.prototype.updateUncitedItems=function(e,t){var i,r=this.tmp.area,s=this.tmp.root,a=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},e||(e=[]),"object"==typeof e)if(void 0===e.length)for(var n in i=e,e=[],i)e.push(n);else if("number"==typeof e.length){i={};for(var o=0,l=e.length;o<l;o+=1)i[e[o]]=!0}return this.registry.init(e,!0),this.registry.dopurge(i),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=a,this.tmp.area=r,this.tmp.root=s,this.registry.getSortedIds()},p.localeResolve=function(e,t){var i,r;return t||(t="en-US"),e||(e=t),i={},r=e.split(/[\-_]/),i.base=p.LANG_BASES[r[0]],void 0===i.base?{base:t,best:e,bare:r[0]}:(1===r.length&&(i.generic=!0),1===r.length||"x"===r[1]?i.best=i.base.replace("_","-"):i.best=r.slice(0,2).join("-"),i.base=i.base.replace("_","-"),i.bare=r[0],i)},p.Engine.prototype.localeConfigure=function(e,t){var i;if((!t||!this.locale[e.best])&&("en-US"===e.best?(i=p.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(i,"en-US",e.best)):"en-US"!==e.best&&(e.base!==e.best&&(i=p.setupXml(this.sys.retrieveLocale(e.base)),this.localeSet(i,e.base,e.best)),i=p.setupXml(this.sys.retrieveLocale(e.best)),this.localeSet(i,e.best,e.best)),this.localeSet(this.cslXml,"",e.best),this.localeSet(this.cslXml,e.bare,e.best),e.base!==e.best&&this.localeSet(this.cslXml,e.base,e.best),this.localeSet(this.cslXml,e.best,e.best),void 0===this.locale[e.best].terms["page-range-delimiter"]&&(["fr","pt"].indexOf(e.best.slice(0,2).toLowerCase())>-1?this.locale[e.best].terms["page-range-delimiter"]="-":this.locale[e.best].terms["page-range-delimiter"]="–"),void 0===this.locale[e.best].terms["year-range-delimiter"]&&(this.locale[e.best].terms["year-range-delimiter"]="–"),void 0===this.locale[e.best].terms["citation-range-delimiter"]&&(this.locale[e.best].terms["citation-range-delimiter"]="–"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var r=["default-locale","locale-sort","locale-translit","locale-translat"],s=0,a=r.length;s<a;s+=1)for(var n=0,o=this.opt[r[s]].length;n<o;n+=1)this.opt[r[s]][n]=this.opt[r[s]][n].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},p.Engine.prototype.localeSet=function(e,t,i){var r,s,a,n,o,l,m,u,c,h,f,d;if(t=t.replace("_","-"),i=i.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(t=t.toLowerCase(),i=i.toLowerCase()),this.locale[i]||(this.locale[i]={},this.locale[i].terms={},this.locale[i].opts={},this.locale[i].opts["skip-words"]=p.SKIP_WORDS,this.locale[i].opts["leading-noise-words"]||(this.locale[i].opts["leading-noise-words"]=[]),this.locale[i].dates={},this.locale[i].ord={"1.0.1":!1,keys:{}},this.locale[i]["noun-genders"]={}),s=e.makeXml(),e.nodeNameIs(e.dataObj,"locale"))s=e.dataObj;else{a=e.getNodesByName(e.dataObj,"locale");var g=!1;for(o=0,f=e.numberofnodes(a);o<f;o+=1)if(r=a[o],g||e.getAttributeValue(r,"lang","xml")!==t){var b=e.getAttributeValue(r,"lang","xml"),v=e.getNodesByName(r,"style-options");if(b&&v&&v.length){var y=e.getAttributeValue(v[0],"jurisdiction-preference");y&&(this.locale[b]||(this.locale[b]={opts:{}}),this.locale[b].opts["jurisdiction-preference"]=y.split(/\s+/))}}else s=r,g=!0}for(a=e.getNodesByName(s,"type"),F=0,B=e.numberofnodes(a);F<B;F+=1){var _=a[F],x=e.getAttributeValue(_,"name"),E=e.getAttributeValue(_,"gender");this.opt.gender[x]=E}if(e.getNodesByName(s,"term","ordinal").length){for(var O in this.locale[i].ord.keys)delete this.locale[i].terms[O];this.locale[i].ord={"1.0.1":!1,keys:{}}}a=e.getNodesByName(s,"term");var A={"last-digit":{},"last-two-digits":{},"whole-number":{}},w=!1,T={};for(o=0,f=e.numberofnodes(a);o<f;o+=1){if(l=a[o],"sub verbo"===(u=e.getAttributeValue(l,"name"))&&(u="sub-verbo"),"ordinal"===u.slice(0,7)){if("ordinal"===u)w=!0;else{var k,S=e.getAttributeValue(l,"match"),I=u.slice(8);(k=e.getAttributeValue(l,"gender-form"))||(k="neuter"),S||(S="last-two-digits","0"===I.slice(0,1)&&(S="last-digit")),"0"===I.slice(0,1)&&(I=I.slice(1)),A[S][I]||(A[S][I]={}),A[S][I][k]=u}this.locale[i].ord.keys[u]=!0}void 0===this.locale[i].terms[u]&&(this.locale[i].terms[u]={}),m="long",k=!1,e.getAttributeValue(l,"form")&&(m=e.getAttributeValue(l,"form")),e.getAttributeValue(l,"gender-form")&&(k=e.getAttributeValue(l,"gender-form")),e.getAttributeValue(l,"gender")&&(this.locale[i]["noun-genders"][u]=e.getAttributeValue(l,"gender")),k?(this.locale[i].terms[u][k]={},this.locale[i].terms[u][k][m]=[],d=this.locale[i].terms[u][k],T[u]=!0):(this.locale[i].terms[u][m]=[],d=this.locale[i].terms[u]),e.numberofnodes(e.getNodesByName(l,"multiple"))?(d[m][0]=e.getNodeValue(l,"single"),d[m][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),d[m][1]=e.getNodeValue(l,"multiple"),d[m][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(d[m]=e.getNodeValue(l),d[m].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(this.locale[i].terms.supplement||(this.locale[i].terms.supplement={}),this.locale[i].terms.supplement.long||(this.locale[i].terms.supplement.long=["supplement","supplements"]),w){for(var N in T){var C={},D=0;for(var R in this.locale[i].terms[N])["masculine","feminine"].indexOf(R)>-1?C[R]=this.locale[i].terms[N][R]:D+=1;if(!D)if(C.feminine)for(var R in C.feminine)this.locale[i].terms[N][R]=C.feminine[R];else if(C.masculine)for(var R in C.masculine)this.locale[i].terms[N][R]=C.masculine[R]}this.locale[i].ord["1.0.1"]=A}for(u in this.locale[i].terms)for(F=0,B=2;F<B;F+=1)if(k=p.GENDERS[F],this.locale[i].terms[u][k])for(m in this.locale[i].terms[u])this.locale[i].terms[u][k][m]||(this.locale[i].terms[u][k][m]=this.locale[i].terms[u][m]);for(a=e.getNodesByName(s,"style-options"),o=0,f=e.numberofnodes(a);o<f;o+=1)for(h in c=a[o],n=e.attributes(c))if(n.hasOwnProperty(h))if("@punctuation-in-quote"===h||"@limit-day-ordinals-to-day-1"===h)"true"===n[h]?this.locale[i].opts[h.slice(1)]=!0:this.locale[i].opts[h.slice(1)]=!1;else if("@jurisdiction-preference"===h){var j=n[h].split(/\s+/);this.locale[i].opts[h.slice(1)]=j}else if("@skip-words"===h){var L=n[h].split(/\s*,\s*/);this.locale[i].opts[h.slice(1)]=L}else if("@leading-noise-words"===h){var P=n[h].split(/\s*,\s*/);this.locale[i].opts["leading-noise-words"]=P}else if("@name-as-sort-order"===h){this.locale[i].opts["name-as-sort-order"]={};for(var F=0,B=(z=n[h].split(/\s+/)).length;F<B;F+=1)this.locale[i].opts["name-as-sort-order"][z[F]]=!0}else if("@name-as-reverse-order"===h){this.locale[i].opts["name-as-reverse-order"]={};for(F=0,B=(z=n[h].split(/\s+/)).length;F<B;F+=1)this.locale[i].opts["name-as-reverse-order"][z[F]]=!0}else if("@name-never-short"===h){this.locale[i].opts["name-never-short"]={};var z;for(F=0,B=(z=n[h].split(/\s+/)).length;F<B;F+=1)this.locale[i].opts["name-never-short"][z[F]]=!0}for(a=e.getNodesByName(s,"date"),o=0,f=e.numberofnodes(a);o<f;o+=1){var U=a[o];this.locale[i].dates[e.getAttributeValue(U,"form")]=U}p.SET_COURT_CLASSES(this,i,e,s)},p.getLocaleNames=function(e,t){var i=p.setupXml(e);function r(e,t){var i=["base","best"];if(t)for(var r=p.localeResolve(t),s=0,a=i.length;s<a;s++)r[i[s]]&&-1===e.indexOf(r[i[s]])&&e.push(r[i[s]])}var s=["en-US"];function a(e){for(var t=i.getNodesByName(i.dataObj,e),r=0,a=t.length;r<a;r++){var n=i.getAttributeValue(t[r],"locale");if(n)for(var o=0,l=(n=n.split(/ +/)).length;o<l;o++)this.extendLocaleList(s,n[o])}}r(s,t);var n=i.getNodesByName(i.dataObj,"style")[0],o=i.getAttributeValue(n,"default-locale");r(s,o);for(var l=["layout","if","else-if","condition"],m=0,u=l.length;m<u;m++)a(i);return s},p.Node={},p.Node.bibliography={build:function(e,t){if(this.tokentype===p.START){e.build.area="bibliography",e.build.root="bibliography",e.build.extension="";this.execs.push((function(e){e.tmp.area="bibliography",e.tmp.root="bibliography",e.tmp.extension=""}))}t.push(this)}},p.Node.choose={build:function(e,t){var i;this.tokentype===p.START&&(i=function(e){e.tmp.jump.push(void 0,p.LITERAL)}),this.tokentype===p.END&&(i=function(e){e.tmp.jump.pop()}),this.execs.push(i),t.push(this)},configure:function(e,t){this.tokentype===p.END?(e.configure.fail.push(t),e.configure.succeed.push(t)):(e.configure.fail.pop(),e.configure.succeed.pop())}},p.Node.citation={build:function(e,t){if(this.tokentype===p.START){e.build.area="citation",e.build.root="citation",e.build.extension="";this.execs.push((function(e){e.tmp.area="citation",e.tmp.root="citation",e.tmp.extension=""}))}if(this.tokentype===p.END){if(e.opt.grouped_sort="in-text"===e.opt.xclass&&e.citation.opt.collapse&&e.citation.opt.collapse.length||e.citation.opt.cite_group_delimiter&&e.citation.opt.cite_group_delimiter.length&&e.opt.update_mode!==p.POSITION&&e.opt.update_mode!==p.NUMERIC,e.opt.grouped_sort&&e.citation_sort.opt.sort_directions.length){var i=e.citation_sort.opt.sort_directions[0].slice();e.citation_sort.opt.sort_directions=[i].concat(e.citation_sort.opt.sort_directions)}e.citation.srt=new p.Registry.Comparifier(e,"citation_sort")}t.push(this)}},p.Node["#comment"]={build:function(){}},p.Node.date={build:function(e,t){var i,r,s,a,n,o,l,m,u,c;this.tokentype!==p.START&&this.tokentype!==p.SINGLETON||(e.dateput.string(e,e.dateput.queue),e.tmp.date_token=p.Util.cloneToken(this),e.tmp.date_token.strings.prefix="",e.tmp.date_token.strings.suffix="",e.dateput.openLevel(this),e.build.date_parts=[],e.build.date_variables=this.variables,e.build.extension||p.Util.substituteStart.call(this,e,t),i=e.build.extension?p.dateMacroAsSortKey:function(e,t,i){var p;if(e.tmp.element_rendered_ok=!1,e.tmp.donesies=[],e.tmp.dateparts=[],p=[],!this.variables.length||e.tmp.just_looking&&"accessed"===this.variables[0])e.tmp.date_object=!1;else{for(void 0===(r=t[this.variables[0]])&&(r={"date-parts":[[0]]},e.opt.development_extensions.locator_date_and_revision&&i&&"locator-date"===this.variables[0]&&i["locator-date"]&&(r=i["locator-date"])),e.tmp.date_object=r,s=this.dateparts.length,a=0;a<s;a+=1)n=this.dateparts[a],(void 0!==e.tmp.date_object[n+"_end"]||"month"===n&&void 0!==e.tmp.date_object.season_end)&&p.push(n);for(o=[],s=(l=["year","month","day"]).length,a=0;a<s;a+=1)p.indexOf(l[a])>-1&&o.push(l[a]);for(p=o.slice(),m=2,s=p.length,a=0;a<s;a+=1)if(n=p[a],u=e.tmp.date_object[n],c=e.tmp.date_object[n+"_end"],u!==c){m=a;break}e.tmp.date_collapse_at=p.slice(m)}},this.execs.push(i),i=function(e,t){if(t[this.variables[0]]&&(e.output.startTag("date",this),"issued"===this.variables[0]&&("legal_case"===t.type||"legislation"===t.type)&&-1===e.opt.disable_duplicate_year_suppression.indexOf(t.country)&&!e.tmp.extension&&""+t["collection-number"]==""+e.tmp.date_object.year&&1===this.dateparts.length&&"year"===this.dateparts[0]))for(var i in e.tmp.date_object)if(e.tmp.date_object.hasOwnProperty(i)&&"year"===i.slice(0,4)){e.tmp.issued_date={};var r=e.output.current.mystack.slice(-2)[0].blobs;e.tmp.issued_date.list=r,e.tmp.issued_date.pos=r.length-1}},this.execs.push(i)),e.build.extension||this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||(i=function(e,t){t[this.variables[0]]&&e.output.endTag()},this.execs.push(i)),t.push(this),this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||e.build.extension||p.Util.substituteEnd.call(this,e,t)}},p.Node["date-part"]={build:function(e,t){var i,r,s,a,n,o,l,m,u,c,h,f,d,g,b,v,y,_,x;this.strings.form||(this.strings.form="long"),e.build.date_parts.push(this.strings.name);var E=e.build.date_variables[0];function O(t,i,r){if(!r)return r;if(r=""+p.Util.Dates[this.strings.name][t](e,r,i,this.default_locale),"month"===this.strings.name)if(e.tmp.strip_periods)r=r.replace(/\./g,"");else for(var s=0,a=this.decorations.length;s<a;s+=1)if("@strip-periods"===this.decorations[s][0]&&"true"===this.decorations[s][1]){r=r.replace(/\./g,"");break}return r}i=function(e,t){if(e.tmp.date_object){e.tmp.probably_rendered_something=!0;var i="";if(a=!0,n="",o="",e.tmp.donesies.push(this.strings.name),e.tmp.date_object.literal&&"year"===this.strings.name&&(i=e.tmp.date_object.literal,e.output.append(e.tmp.date_object.literal,this)),e.tmp.date_object&&(n=e.tmp.date_object[this.strings.name],o=e.tmp.date_object[this.strings.name+"_end"]),"year"!==this.strings.name||0!==n||e.tmp.suppress_decorations||(n=!1),l=!e.tmp.suppress_decorations,m=e.tmp.have_collapsed,u="year-suffix"===e[e.tmp.area].opt.collapse||"year-suffix-ranged"===e[e.tmp.area].opt.collapse,c=e.opt["disambiguate-add-year-suffix"],l&&c&&u&&(e.tmp.years_used.push(n),e.tmp.last_years_used.length>=e.tmp.years_used.length&&m&&e.tmp.last_years_used[e.tmp.years_used.length-1]===n&&(n=!1)),void 0!==n){h=!1,f=!1,!1,!1,"year"===this.strings.name&&(parseInt(n,10)<500&&parseInt(n,10)>0&&(f=e.getTerm("ad")),parseInt(n,10)<0&&(h=e.getTerm("bc"),n=-1*parseInt(n,10)),o&&(parseInt(o,10)<500&&parseInt(o,10)>0&&e.getTerm("ad"),parseInt(o,10)<0&&(e.getTerm("bc"),o=-1*parseInt(o,10))));for(var A=""+e.tmp.date_object.month;A.length<2;)A="0"+A;A="month-"+A;var w=e.locale[e.opt.lang]["noun-genders"][A];if(this.strings.form){var T=this.strings.form,k=this.strings.form;"day"===this.strings.name&&"ordinal"===T&&e.locale[e.opt.lang].opts["limit-day-ordinals-to-day-1"]&&(1!=n&&(T="numeric"),1!=o&&(k="numeric")),n=O.call(this,T,w,n),o=O.call(this,k,w,o)}if(e.output.openLevel("empty"),e.tmp.date_collapse_at.length){for(d=!0,s=e.tmp.date_collapse_at.length,r=0;r<s;r+=1)if(x=e.tmp.date_collapse_at[r],-1===e.tmp.donesies.indexOf(x)){d=!1;break}if(d){if(""+o!="0"){if(0===e.dateput.queue.length&&(a=!0),e.opt["year-range-format"]&&"expanded"!==e.opt["year-range-format"]&&!e.tmp.date_object.day&&!e.tmp.date_object.month&&!e.tmp.date_object.season&&"year"===this.strings.name&&n&&o){o=e.fun.year_mangler(n+"-"+o,!0);var S=e.getTerm("year-range-delimiter");o=o.slice(o.indexOf(S)+1)}i=o,e.dateput.append(o,this),a&&(e.dateput.current.value().blobs[0].strings.prefix="")}i=n,e.output.append(n,this),(g=e.output.current.value()).blobs[g.blobs.length-1].strings.suffix="",this.strings["range-delimiter"]?e.output.append(this.strings["range-delimiter"]):e.output.append(e.getTerm("year-range-delimiter"),"empty"),e.dateput.closeLevel(),b=e.dateput.current.value(),g.blobs=g.blobs.concat(b),e.dateput.string(e,e.dateput.queue),e.dateput.openLevel(e.tmp.date_token),e.tmp.date_collapse_at=[]}else i=n,e.output.append(n,this),e.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+o!="0"&&(0===e.dateput.queue.length&&(a=!0),e.dateput.openLevel("empty"),i=o,e.dateput.append(o,this),a&&(e.dateput.current.value().blobs[0].strings.prefix=""),h&&(i=h,e.dateput.append(h)),f&&(i=f,e.dateput.append(f)),e.dateput.closeLevel())}else i=n,e.output.append(n,this);h&&(i=h,e.output.append(h)),f&&(i=f,e.output.append(f)),e.output.closeLevel()}else"month"===this.strings.name&&e.tmp.date_object.season&&((n=""+e.tmp.date_object.season)&&n.match(/^[1-4]$/)?(e.tmp.group_context.tip.variable_success=!0,i="winter",e.output.append(e.getTerm("season-0"+n),this)):n&&(i=n,e.output.append(n,this)));e.tmp.value=[],!t[E]||!n&&!e.tmp.have_collapsed||e.opt.has_year_suffix||"year"!==this.strings.name||e.tmp.just_looking||e.registry.registry[t.id]&&!1!==e.registry.registry[t.id].disambig.year_suffix&&!e.tmp.has_done_year_suffix&&(e.tmp.has_done_year_suffix=!0,i="x",y=parseInt(e.registry.registry[t.id].disambig.year_suffix,10),v=new p.NumericBlob(e,!1,y,this,t.id),this.successor_prefix=e[e.build.area].opt.layout_delimiter,this.splice_prefix=e[e.build.area].opt.layout_delimiter,_=new p.Util.Suffixator(p.SUFFIX_CHARS),v.setFormatter(_),"year-suffix-ranged"===e[e.tmp.area].opt.collapse&&(v.range_prefix=e.getTerm("citation-range-delimiter")),e[e.tmp.area].opt.cite_group_delimiter?v.successor_prefix=e[e.tmp.area].opt.cite_group_delimiter:e[e.tmp.area].opt["year-suffix-delimiter"]?v.successor_prefix=e[e.tmp.area].opt["year-suffix-delimiter"]:v.successor_prefix=e[e.tmp.area].opt.layout_delimiter,v.UGLY_DELIMITER_SUPPRESS_HACK=!0,e.output.append(v,"literal")),i&&!e.tmp.group_context.tip.condition&&(e.tmp.just_did_number=i.match(/[0-9]$/),e.output.current.tip.strings.suffix&&(e.tmp.just_did_number=!1))}},this.execs.push(i),t.push(this)}},p.Node["else-if"]={build:function(e,t){p.Conditions.TopNode.call(this,e,t),t.push(this)},configure:function(e,t){p.Conditions.Configure.call(this,e,t)}},p.Node.else={build:function(e,t){t.push(this)},configure:function(e,t){this.tokentype===p.START&&(e.configure.fail[e.configure.fail.length-1]=t)}},p.Node["et-al"]={build:function(e,t){if("citation"===e.build.area||"bibliography"===e.build.area){this.execs.push((function(e){e.tmp.etal_node=this,"string"==typeof this.strings.term&&(e.tmp.etal_term=this.strings.term)}))}t.push(this)}},p.Node.group={build:function(e,t,i){var r,s,a;if(this.realGroup=i,this.tokentype===p.START&&(p.Util.substituteStart.call(this,e,t),e.build.substitute_level.value()&&e.build.substitute_level.replace(e.build.substitute_level.value()+1),this.juris||t.push(this),r=function(e){if(e.output.startTag("group",this),this.strings.label_form_override&&(e.tmp.group_context.tip.label_form||(e.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(e.tmp.group_context.tip.label_capitalize_if_first||(e.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){e.tmp.group_context.tip.condition&&p.UPDATE_GROUP_CONTEXT_CONDITION(e,this.strings.prefix,null,this);var t=!1,i=!1;e.tmp.group_context.mystack.length&&(e.output.current.value().parent=e.tmp.group_context.tip.output_tip);var r=e.tmp.group_context.tip.label_form;r||(r=this.strings.label_form_override);var s=e.tmp.group_context.tip.label_capitalize_if_first;s||(s=this.strings.label_capitalize_if_first),e.tmp.group_context.tip.condition?(t=e.tmp.group_context.tip.condition,i=e.tmp.group_context.tip.force_suppress):this.strings.reject?t={test:this.strings.reject,not:!0}:this.strings.require&&(t={test:this.strings.require,not:!1});var a={old_term_predecessor:e.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:e.tmp.group_context.tip.variable_success,output_tip:e.output.current.tip,label_form:r,label_static:e.tmp.group_context.tip.label_static,label_capitalize_if_first:s,parallel_delimiter_override:this.strings.set_parallel_delimiter_override,parallel_delimiter_override_on_suppress:this.strings.set_parallel_delimiter_override_on_suppress,condition:t,force_suppress:i,done_vars:e.tmp.group_context.tip.done_vars.slice()};if(this.non_parallel){var n=e.tmp.group_context.tip.non_parallel;n||(n={}),Object.assign(n,this.non_parallel),a.non_parallel=n}if(this.parallel_first){var o=e.tmp.group_context.tip.parallel_first;o||(o={}),Object.assign(o,this.parallel_first),a.parallel_first=o}if(this.parallel_last){var l=e.tmp.group_context.tip.parallel_last;l||(l={}),Object.assign(l,this.parallel_last),a.parallel_last=l}if(e.tmp.abbrev_trimmer&&e.tmp.abbrev_trimmer.LAST_TO_FIRST&&a.parallel_last)for(var m in a.parallel_first||(a.parallel_first={}),e.tmp.abbrev_trimmer.LAST_TO_FIRST)a.parallel_last[m]&&(a.parallel_first[m]=!0,delete a.parallel_last[m]);if(e.tmp.group_context.push(a),e.tmp.abbrev_trimmer&&this.parallel_last_to_first)for(var m in e.tmp.abbrev_trimmer.LAST_TO_FIRST||(e.tmp.abbrev_trimmer.LAST_TO_FIRST={}),this.parallel_last_to_first)e.tmp.abbrev_trimmer.LAST_TO_FIRST[m]=!0}},(s=[]).push(r),this.execs=s.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(e.build["publisher-special"]=!0,this.strings["subgroup-delimiter"]&&(r=function(e,t){if(t.publisher&&t["publisher-place"]){var i=t.publisher.split(/;\s*/),r=t["publisher-place"].split(/;\s*/);i.length>1&&i.length===r.length&&(e.publisherOutput=new p.PublisherOutput(e,this),e.publisherOutput["publisher-list"]=i,e.publisherOutput["publisher-place-list"]=r)}},this.execs.push(r))),this.juris)){var n=new p.Token("choose",p.START);p.Node.choose.build.call(n,e,t);var o=new p.Token("if",p.START);a=this.juris,r=function(t,i){return p.INIT_JURISDICTION_MACROS(e,t,i,a)},o.tests||(o.tests=[]),o.tests.push(r),o.test=e.fun.match.any(o,e,o.tests),t.push(o);var l=new p.Token("text",p.SINGLETON);r=function(e,t,i){var r=t;i&&i["best-jurisdiction"]&&"juris-locator"===this.juris&&(r=i);var s=0;if(e.juris[r["best-jurisdiction"]][this.juris])for(;s<e.juris[r["best-jurisdiction"]][this.juris].length;)s=p.tokenExec.call(e,e.juris[r["best-jurisdiction"]][this.juris][s],t,i)},l.juris=this.juris,l.execs.push(r),t.push(l);var m=new p.Token("if",p.END);p.Node.if.build.call(m,e,t);var u=new p.Token("else",p.START);p.Node.else.build.call(u,e,t)}if(this.tokentype===p.END&&(e.build["publisher-special"]&&(e.build["publisher-special"]=!1,r=function(e){e.publisherOutput&&(e.publisherOutput.render(),e.publisherOutput=!1)},this.execs.push(r)),r=function(e,t,i){if(e.tmp.group_context.tip.condition||e.output.current.tip.strings.suffix&&(e.tmp.just_did_number=!1),e.output.endTag(),this.realGroup){var r=e.tmp.group_context.pop();if(r.parallel_delimiter_override&&(e.tmp.group_context.tip.parallel_delimiter_override=r.parallel_delimiter_override,!e.tmp.just_looking&&e.registry.registry[t.id].master&&(e.registry.registry[t.id].parallel_delimiter_override=r.parallel_delimiter_override)),r.parallel_delimiter_override_on_suppress&&(e.tmp.group_context.tip.parallel_delimiter_override_on_suppress=r.parallel_delimiter_override_on_suppress),"bibliography_sort"===e.tmp.area){var s=r.done_vars.indexOf("citation-number");this.strings.sort_direction&&s>-1&&1==e.tmp.group_context.length()&&(this.strings.sort_direction===p.DESCENDING?e.bibliography_sort.opt.citation_number_sort_direction=p.DESCENDING:e.bibliography_sort.opt.citation_number_sort_direction=p.ASCENDING,r.done_vars=r.done_vars.slice(0,s).concat(r.done_vars.slice(s+1)))}if(r.condition&&(r.force_suppress=p.EVALUATE_GROUP_CONDITION(e,r)),e.tmp.group_context.tip.condition&&(e.tmp.group_context.tip.force_suppress=r.force_suppress),!r.force_suppress&&(r.variable_success||r.term_intended&&!r.variable_attempt)){this.isJurisLocatorLabel||(e.tmp.group_context.tip.variable_success=!0);var a=e.output.current.value().blobs;e.output.current.value().blobs.length;if(!e.tmp.just_looking&&(r.non_parallel||r.parallel_last||r.parallel_first||r.parallel_delimiter_override||r.parallel_delimiter_override_on_suppress)){var n=e.parallel.checkRepeats(r);if(n&&a&&a.pop(),e.tmp.cite_index>0&&(n||!r.parallel_first&&!r.parallel_last&&!r.non_parallel)){var o=e.tmp.suppress_repeats[e.tmp.cite_index-1];n&&r.parallel_delimiter_override_on_suppress&&(o.SIBLING||o.ORPHAN)?e.output.queue.slice(-1)[0].parallel_delimiter=r.parallel_delimiter_override_on_suppress:r.parallel_delimiter_override&&o.SIBLING&&(e.output.queue.slice(-1)[0].parallel_delimiter=r.parallel_delimiter_override)}}}else{if(e.tmp.term_predecessor=r.old_term_predecessor,e.tmp.group_context.tip.variable_attempt=r.variable_attempt,r.force_suppress&&!e.tmp.group_context.tip.condition&&(e.tmp.group_context.tip.variable_attempt=!0,e.tmp.group_context.tip.variable_success=r.variable_success_parent),r.force_suppress)for(var l=0,m=r.done_vars.length;l<m;l++)for(var u=r.done_vars[l],c=0,h=e.tmp.done_vars.length;c<h;c++)e.tmp.done_vars[c]===u&&(e.tmp.done_vars=e.tmp.done_vars.slice(0,c).concat(e.tmp.done_vars.slice(c+1)));e.output.current.value().blobs&&e.output.current.value().blobs.pop()}}},this.execs.push(r),this.juris)){var c=new p.Token("else",p.END);p.Node.else.build.call(c,e,t);var h=new p.Token("choose",p.END);p.Node.choose.build.call(h,e,t)}this.tokentype===p.END&&(this.juris||t.push(this),e.build.substitute_level.value()&&e.build.substitute_level.replace(e.build.substitute_level.value()-1),p.Util.substituteEnd.call(this,e,t))}},p.Node.if={build:function(e,t){p.Conditions.TopNode.call(this,e,t),t.push(this)},configure:function(e,t){p.Conditions.Configure.call(this,e,t)}},p.Node.conditions={build:function(e){this.tokentype===p.START&&e.tmp.conditions.addMatch(this.match),this.tokentype===p.END&&e.tmp.conditions.matchCombine()}},p.Node.condition={build:function(e){if(this.tokentype===p.SINGLETON){var t=e.fun.match[this.match](this,e,this.tests);e.tmp.conditions.addTest(t)}}},p.Conditions={},p.Conditions.TopNode=function(e){var t;this.tokentype!==p.START&&this.tokentype!==p.SINGLETON||(this.locale&&(e.opt.lang=this.locale),this.tests&&this.tests.length?this.test=e.fun.match[this.match](this,e,this.tests):e.tmp.conditions=new p.Conditions.Engine(e,this),0===e.build.substitute_level.value()&&(t=function(e){e.tmp.condition_counter++},this.execs.push(t))),this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||(0===e.build.substitute_level.value()&&(t=function(e){(e.tmp.condition_counter--,e.tmp.condition_lang_counter_arr.length>0)&&(e.tmp.condition_lang_counter_arr.slice(-1)[0]===e.tmp.condition_counter&&(e.opt.lang=e.tmp.condition_lang_val_arr.pop(),e.tmp.condition_lang_counter_arr.pop()));this.locale_default&&(e.output.current.value().old_locale=this.locale_default,e.output.closeLevel("empty"),e.opt.lang=this.locale_default)},this.execs.push(t)),t=function(e){return this[e.tmp.jump.value()]},this.execs.push(t),this.locale_default&&(e.opt.lang=this.locale_default))},p.Conditions.Configure=function(e,t){this.tokentype===p.START?(this.fail=e.configure.fail.slice(-1)[0],this.succeed=this.next,e.configure.fail[e.configure.fail.length-1]=t):this.tokentype===p.SINGLETON?(this.fail=this.next,this.succeed=e.configure.succeed.slice(-1)[0],e.configure.fail[e.configure.fail.length-1]=t):(this.succeed=e.configure.succeed.slice(-1)[0],this.fail=this.next)},p.Conditions.Engine=function(e,t){this.token=t,this.state=e},p.Conditions.Engine.prototype.addTest=function(e){this.token.tests||(this.token.tests=[]),this.token.tests.push(e)},p.Conditions.Engine.prototype.addMatch=function(e){this.token.match=e},p.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},p.Node.info={build:function(e){this.tokentype===p.START?e.build.skip="info":e.build.skip=!1}},p.Node.institution={build:function(e,t){if([p.SINGLETON,p.START].indexOf(this.tokentype)>-1){this.execs.push((function(e){"string"==typeof this.strings.delimiter?e.tmp.institution_delimiter=this.strings.delimiter:e.tmp.institution_delimiter=e.tmp.name_delimiter,"text"===e.inheritOpt(this,"and")?this.and_term=e.getTerm("and","long",0):"symbol"===e.inheritOpt(this,"and")?e.opt.development_extensions.expect_and_symbol_form?this.and_term=e.getTerm("and","symbol",0):this.and_term="&":"none"===e.inheritOpt(this,"and")&&(this.and_term=e.tmp.institution_delimiter),void 0===this.and_term&&e.tmp.and_term&&(this.and_term=e.tmp.and_term),p.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof e.tmp.institution_delimiter&&(this.and_prefix_multiple=e.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===e.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=e.tmp.institution_delimiter:"never"===e.inheritOpt(this,"delimiter-precedes-last")&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},void 0!==this.and_term?(e.output.append(this.and_term,"empty",!0),this.and.single=e.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,e.output.append(this.and_term,"empty",!0),this.and.multiple=e.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):"undefined"!==this.strings.delimiter&&(this.and.single=new p.Blob(e.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new p.Blob(e.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),e.nameOutput.institution=this}))}t.push(this)},configure:function(e){[p.SINGLETON,p.START].indexOf(this.tokentype)>-1&&(e.build.has_institution=!0)}},p.Node["institution-part"]={build:function(e,t){var i;"long"===this.strings.name?i=this.strings["if-short"]?function(e){e.nameOutput.institutionpart["long-with-short"]=this}:function(e){e.nameOutput.institutionpart.long=this}:"short"===this.strings.name&&(i=function(e){e.nameOutput.institutionpart.short=this}),this.execs.push(i),t.push(this)}},p.Node.key={build:function(e,t){var i;t=e[e.build.root+"_sort"].tokens;var r=new p.Token("key",p.START);e.tmp.root=e.build.root,r.strings["et-al-min"]=e.inheritOpt(this,"et-al-min"),r.strings["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first"),r.strings["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"),i=function(e){e.tmp.done_vars=[]},r.execs.push(i),i=function(e){e.output.openLevel("empty")},r.execs.push(i);var s=[];if(this.strings.sort_direction===p.DESCENDING?(s.push(1),s.push(-1)):(s.push(-1),s.push(1)),e[e.build.area].opt.sort_directions.push(s),p.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(e.build.date_key=!0),i=function(e){e.tmp.sort_key_flag=!0,e.inheritOpt(this,"et-al-min")&&(e.tmp["et-al-min"]=e.inheritOpt(this,"et-al-min")),e.inheritOpt(this,"et-al-use-first")&&(e.tmp["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first")),"boolean"==typeof e.inheritOpt(this,"et-al-use-last")&&(e.tmp["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"))},r.execs.push(i),t.push(r),this.variables.length){var a=this.variables[0];if(p.NAME_VARIABLES.indexOf(a)>-1){var n=new p.Token("names",p.START);n.tokentype=p.START,n.variables=this.variables,p.Node.names.build.call(n,e,t);var o=new p.Token("name",p.SINGLETON);o.tokentype=p.SINGLETON,o.strings["name-as-sort-order"]="all",o.strings["sort-separator"]=" ",o.strings["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"),o.strings["et-al-min"]=e.inheritOpt(this,"et-al-min"),o.strings["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first"),p.Node.name.build.call(o,e,t);var l=new p.Token("institution",p.SINGLETON);l.tokentype=p.SINGLETON,p.Node.institution.build.call(l,e,t);var m=new p.Token("names",p.END);m.tokentype=p.END,p.Node.names.build.call(m,e,t)}else{var u=new p.Token("text",p.SINGLETON);if(u.strings.sort_direction=this.strings.sort_direction,u.dateparts=this.dateparts,p.NUMERIC_VARIABLES.indexOf(a)>-1)i="citation-number"===a?function(e,t){if("bibliography_sort"===e.tmp.area&&(this.strings.sort_direction===p.DESCENDING?e.bibliography_sort.opt.citation_number_sort_direction=p.DESCENDING:e.bibliography_sort.opt.citation_number_sort_direction=p.ASCENDING),"citation_sort"===e.tmp.area&&e.bibliography_sort.tmp.citation_number_map)var i=e.bibliography_sort.tmp.citation_number_map[e.registry.registry[t.id].seq];else i=e.registry.registry[t.id].seq;i&&(i=p.Util.padding(""+i)),e.output.append(i,this)}:function(e,t){var i=!1;(i=t[a])&&(i=p.Util.padding(i)),e.output.append(i,this)};else if("citation-label"===a)i=function(e,t){var i=e.getCitationLabel(t);e.output.append(i,this)};else if(p.DATE_VARIABLES.indexOf(a)>-1)i=p.dateAsSortKey,u.variables=this.variables;else if("title"===a){i=e.transform.getOutputFunction(this.variables,"title",!1,!1,!0)}else i="court-class"===a?function(e,t,i){p.INIT_JURISDICTION_MACROS(e,t,i,"juris-main");var r=p.GET_COURT_CLASS(e,t,!0);e.output.append(r,"empty")}:function(e,t){var i=t[a];e.output.append(i,"empty")};u.execs.push(i),t.push(u)}}else{var c=new p.Token("text",p.SINGLETON);c.strings.sort_direction=this.strings.sort_direction,c.postponed_macro=this.postponed_macro,p.expandMacro.call(e,c,t)}var h=new p.Token("key",p.END);i=function(e){var t=e.output.string(e,e.output.queue);e.sys.normalizeUnicode&&(t=e.sys.normalizeUnicode(t)),""===(t=t?t.split(" ").join(e.opt.sort_sep)+e.opt.sort_sep:"")&&(t=void 0),"string"!=typeof t&&(t=void 0),e[e[e.tmp.area].root+"_sort"].keys.push(t),e.tmp.value=[]},h.execs.push(i),e.build.date_key&&("citation"===e.build.area&&"_sort"===e.build.extension&&(e[e.build.area].opt.sort_directions.push([-1,1]),i=function(e,t){var i=e.registry.registry[t.id].disambig.year_suffix;i||(i=0);var r=p.Util.padding(""+i);e[e.tmp.area].keys.push(r)},h.execs.push(i)),e.build.date_key=!1),i=function(e){e.tmp["et-al-min"]=void 0,e.tmp["et-al-use-first"]=void 0,e.tmp["et-al-use-last"]=void 0,e.tmp.sort_key_flag=!1},h.execs.push(i),t.push(h)}},p.Node.label={build:function(e,t){if(this.strings.term){this.execs.push((function(e,t,i){var r=p.evaluateLabel(this,e,t,i);i&&"locator"===this.strings.term&&(i.section_form_override=this.strings.form),r&&(e.tmp.group_context.tip.term_intended=!0),p.UPDATE_GROUP_CONTEXT_CONDITION(e,r,null,this),-1===r.indexOf("%s")&&(this.strings.capitalize_if_first&&(e.tmp.term_predecessor||"in-text"===e.opt.class&&"citation"===e.tmp.area||(r=p.Output.Formatters["capitalize-first"](e,r))),e.output.append(r,this))}))}else{this.strings.form||(this.strings.form="long");for(var i=e.build.names_variables[e.build.names_variables.length-1],r=e.build.name_label[e.build.name_label.length-1],s=0,a=i.length;s<a;s+=1)r[i[s]]||(r[i[s]]={});if(e.build.name_flag)for(s=0,a=i.length;s<a;s+=1)r[i[s]].after=this;else for(var s=0,a=i.length;s<a;s+=1)r[i[s]].before=this}t.push(this)}},p.Node.layout={build:function(e,t){var i,r,s,a,n;function o(){"bibliography"===e.build.area&&(s=new p.Token("text",p.SINGLETON),i=function(e){if(!e.tmp.parallel_and_not_last){var t;t=e.tmp.cite_affixes[e.tmp.area][e.tmp.last_cite_locale]?e.tmp.cite_affixes[e.tmp.area][e.tmp.last_cite_locale].suffix:e.bibliography.opt.layout_suffix;var i=e.output.current.value();e.opt.using_display?i.blobs[i.blobs.length-1].strings.suffix=t:i.strings.suffix=t}e.bibliography.opt["second-field-align"]&&e.output.endTag("bib_other")},s.execs.push(i),t.push(s))}if(this.tokentype===p.START&&(this.locale_raw?e.build.current_default_locale=this.locale_raw:e.build.current_default_locale=e.opt["default-locale"],i=function(e,t,i){if(e.opt.development_extensions.apply_citation_wrapper&&e.sys.wrapCitationEntry&&!e.tmp.just_looking&&t.system_id&&"citation"===e.tmp.area){var r=new p.Token("group",p.START);r.decorations=[["@cite","entry"]],e.output.startTag("cite_entry",r),e.output.current.value().item_id=t.system_id,i&&(e.output.current.value().locator_txt=i.locator_txt,e.output.current.value().suffix_txt=i.suffix_txt)}},this.execs.push(i)),this.tokentype!==p.START||e.tmp.cite_affixes[e.build.area]||(i=function(e,t,i){if(e.tmp.done_vars=[],i&&i["author-only"]&&e.tmp.done_vars.push("locator"),e.opt.suppressedJurisdictions[t.country]&&t.country&&-1===["treaty","patent"].indexOf(t.type)&&e.tmp.done_vars.push("country"),!e.tmp.just_looking&&e.registry.registry[t.id]&&e.registry.registry[t.id].parallel&&e.tmp.done_vars.push("first-reference-note-number"),!e.tmp.just_looking&&e.tmp.abbrev_trimmer&&t.jurisdiction)for(var r in e.tmp.abbrev_trimmer.QUASHES[t.jurisdiction])e.tmp.done_vars.push(r);e.tmp.rendered_name=!1},this.execs.push(i),i=function(e){e.tmp.sort_key_flag=!1},this.execs.push(i),i=function(e){e.tmp.nameset_counter=0},this.execs.push(i),i=function(e,t){var i=new p.Token;e.output.openLevel(i)},this.execs.push(i),t.push(this),"citation"===e.build.area&&(r=new p.Token("text",p.SINGLETON),i=function(e,t,i){if(i&&i.prefix){var r=p.checkPrefixSpaceAppend(e,i.prefix);e.tmp.just_looking||(r=e.output.checkNestedBrace.update(r));var s=p.checkIgnorePredecessor(e,r);e.output.append(r,this,!1,s)}},r.execs.push(i),t.push(r))),this.locale_raw&&((n=new p.Token("dummy",p.START)).locale=this.locale_raw,n.strings.delimiter=this.strings.delimiter,n.strings.suffix=this.strings.suffix,e.tmp.cite_affixes[e.build.area]||(e.tmp.cite_affixes[e.build.area]={})),this.tokentype===p.START&&(e.build.layout_flag=!0,this.locale_raw||(e[e.tmp.area].opt.topdecor=[this.decorations],e[e.tmp.area+"_sort"].opt.topdecor=[this.decorations],e[e.build.area].opt.layout_prefix=this.strings.prefix,e[e.build.area].opt.layout_suffix=this.strings.suffix,e[e.build.area].opt.layout_delimiter=this.strings.delimiter,e[e.build.area].opt.layout_decorations=this.decorations,e.tmp.cite_affixes[e.build.area]&&(a=new p.Token("else",p.START),p.Node.else.build.call(a,e,t))),this.locale_raw)){if(e.build.layout_locale_flag)n.name="else-if",p.Attributes["@locale-internal"].call(n,e,this.locale_raw),p.Node["else-if"].build.call(n,e,t);else{var l=new p.Token("choose",p.START);p.Node.choose.build.call(l,e,t),n.name="if",p.Attributes["@locale-internal"].call(n,e,this.locale_raw),p.Node.if.build.call(n,e,t)}e.tmp.cite_affixes[e.build.area][n.locale]={},e.tmp.cite_affixes[e.build.area][n.locale].delimiter=this.strings.delimiter,e.tmp.cite_affixes[e.build.area][n.locale].suffix=this.strings.suffix}this.tokentype===p.END&&(this.locale_raw&&(o(),e.build.layout_locale_flag?(n.name="else-if",n.tokentype=p.END,p.Attributes["@locale-internal"].call(n,e,this.locale_raw),p.Node["else-if"].build.call(n,e,t)):(n.name="if",n.tokentype=p.END,p.Attributes["@locale-internal"].call(n,e,this.locale_raw),p.Node.if.build.call(n,e,t),e.build.layout_locale_flag=!0)),this.locale_raw||(o(),e.tmp.cite_affixes[e.build.area]&&e.build.layout_locale_flag&&(a=new p.Token("else",p.END),p.Node.else.build.call(a,e,t),a=new p.Token("choose",p.END),p.Node.choose.build.call(a,e,t)),e.build_layout_locale_flag=!0,"citation"===e.build.area&&(s=new p.Token("text",p.SINGLETON),i=function(e,t,i){if(i&&i.suffix){var r=p.checkSuffixSpacePrepend(e,i.suffix);e.tmp.just_looking||(r=e.output.checkNestedBrace.update(r)),e.output.append(r,this)}},s.execs.push(i),t.push(s)),i=function(e){e.output.closeLevel()},this.execs.push(i),i=function(e,t){e.opt.development_extensions.apply_citation_wrapper&&e.sys.wrapCitationEntry&&!e.tmp.just_looking&&t.system_id&&"citation"===e.tmp.area&&e.output.endTag()},this.execs.push(i),t.push(this),e.build.layout_flag=!1,e.build.layout_locale_flag=!1))}},p.Node.macro={build:function(){}},p.Node.alternative={build:function(e,t){if(this.tokentype===p.START){var i=new p.Token("choose",p.START);p.Node.choose.build.call(i,e,t);var r=new p.Token("if",p.START);p.Attributes["@alternative-node-internal"].call(r,e),p.Node.if.build.call(r,e,t);var s=function(e,t){if(e.tmp.oldItem=t,e.tmp.oldLang=e.opt.lang,e.tmp.abort_alternative=!0,t["language-name"]&&t["language-name-original"]){var i=JSON.parse(JSON.stringify(t));i.language=i["language-name"];var r=p.localeResolve(i.language,e.opt["default-locale"][0]);if(e.opt.multi_layout)for(var s in e.opt.multi_layout){var a=e.opt.multi_layout[s],n=!1;for(var o in a){var l=a[o];if(r.best===l.best||r.base===l.base||r.bare===l.bare){n=a[0].best;break}}n||(n=e.opt["default-locale"][0]),e.opt.lang=n}for(var m in i)if(-1===["id","type","language","multi"].indexOf(m)&&"alt-"!==m.slice(0,4))if(i.multi&&i.multi._keys[m]){var u=!0;for(var c in i.multi._keys[m])if(r.bare===c.replace(/^([a-zA-Z]+).*/,"$1")){u=!1;break}u&&delete i[m]}else delete i[m];for(var m in i)"alt-"===m.slice(0,4)?(i[m.slice(4)]=i[m],e.tmp.abort_alternative=!1):i.multi&&i.multi._keys&&!i["alt-"+m]&&i.multi._keys[m]&&(i.multi._keys[m][r.best]?(i[m]=i.multi._keys[m][r.best],e.tmp.abort_alternative=!1):i.multi._keys[m][r.base]?(i[m]=i.multi._keys[m][r.base],e.tmp.abort_alternative=!1):i.multi._keys[m][r.bare]&&(i[m]=i.multi._keys[m][r.bare],e.tmp.abort_alternative=!1))}e.output.openLevel(this),e.registry.refhash[t.id]=i,e.nameOutput=new p.NameOutput(e,i)};this.execs.push(s),t.push(this);i=new p.Token("choose",p.START);p.Node.choose.build.call(i,e,t);r=new p.Token("if",p.START);p.Attributes["@alternative-node-internal"].call(r,e);s=function(e){e.tmp.abort_alternative=!0};r.execs.push(s),p.Node.if.build.call(r,e,t)}else if(this.tokentype===p.END){r=new p.Token("if",p.END);p.Node.if.build.call(r,e,t);i=new p.Token("choose",p.END);p.Node.choose.build.call(i,e,t);s=function(e,t){e.output.closeLevel(),e.registry.refhash[t.id]=e.tmp.oldItem,e.opt.lang=e.tmp.oldLang,e.nameOutput=new p.NameOutput(e,e.tmp.oldItem),e.tmp.abort_alternative=!1};this.execs.push(s),t.push(this);r=new p.Token("if",p.END);p.Node.if.build.call(r,e,t);i=new p.Token("choose",p.END);p.Node.choose.build.call(i,e,t)}}},p.Node["alternative-text"]={build:function(e,t){if(this.tokentype===p.SINGLETON){this.execs.push((function(e,t){t=e.refetchItem(t.id);p.getCite.call(e,t)}))}t.push(this)}},p.NameOutput=function(e,t,i){this.debug=!1,this.debug&&print("(1)"),this.state=e,this.Item=t,this.item=i,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},p.NameOutput.prototype.init=function(e){this.requireMatch=e.requireMatch,this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=e,this.variables=e.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var t=0,i=this.variables.length;t<i;t+=1)this.Item[this.variables[t]]&&this.Item[this.variables[t]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[t]]));if((this["et-al"]=void 0,this.with=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],this.state.tmp.value.length)&&this.checkCommonAuthor(this.requireMatch)){for(var t in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var r=this.state.tmp.done_vars.indexOf(this.variables[t]);r>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,r).concat(this.state.tmp.done_vars.slice(t+1)))}this.state.tmp.common_term_match_fail=!0,this.variables=[]}},p.NameOutput.prototype.reinit=function(e,t){if(this.requireMatch=e.requireMatch,this.labelVariable=t,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=e.variables;var i=this.state.tmp.value.slice();this.state.tmp.value=[];for(var r=0,s=this.variables.length;r<s;r+=1)this.Item[this.variables[r]]&&this.Item[this.variables[r]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[r]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,p.LITERAL),this.state.tmp.value=i}if(this.checkCommonAuthor(this.requireMatch)){for(var r in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var a=this.state.tmp.done_vars.indexOf(this.variables[r]);a>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,a).concat(this.state.tmp.done_vars.slice(r+1)))}this.variables=[]}},p.NameOutput.prototype.outputNames=function(){var e=this.variables;if(this.institution.and&&(this.institution.and.single.blobs&&this.institution.and.single.blobs.length||(this.institution.and.single.blobs=this.name.and.single.blobs),this.institution.and.multiple.blobs&&this.institution.and.multiple.blobs.length||(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=p.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",f=0,d=this.family.execs.length;f<d;f+=1)this.family.execs[f].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=p.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",f=0,d=this.given.execs.length;f<d;f+=1)this.given.execs[f].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.debug&&print("(2)"),this.getEtAlConfig(),this.debug&&print("(3)"),this.divideAndTransliterateNames(),this.debug&&print("(4)"),this.truncatePersonalNameLists(),this.debug&&print("(5)"),this.debug&&print("(6)"),this.disambigNames(),this.constrainNames(),this.debug&&print("(7)"),"count"!==this.name.strings.form){this.debug&&print("(8)"),this.setEtAlParameters(),this.debug&&print("(9)"),this.setCommonTerm(this.requireMatch),this.debug&&print("(10)"),this.renderAllNames(),this.debug&&print("(11)");var t=[];for(f=0,d=e.length;f<d;f+=1){var i=e[f],r=[],s=!1,a=null;if(this.state.opt.development_extensions.spoof_institutional_affiliations){this.debug&&print("(11a)");for(var n=0,o=this.institutions[i].length;n<o;n+=1)r.push(this.joinPersonsAndInstitutions([this.persons[i][n],this.institutions[i][n]]));if(this.debug&&print("(11b)"),this.institutions[i].length){var l=this.nameset_base+this.variable_offset[i];this.freeters[i].length&&(l+=1),s=this.joinInstitutionSets(r,l)}this.debug&&print("(11c)");a=this.joinFreetersAndInstitutionSets([this.freeters[i],s]);this.debug&&print("(11d)")}else a=this._join([this.freeters[i]],"");if(a&&(this.state.tmp.extension||(a=this._applyLabels(a,i)),t.push(a)),this.debug&&print("(11e)"),this.common_term)break}for(this.debug&&print("(12)"),this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),this.debug&&print("(13)"),f=0,d=t.length;f<d;f+=1)this.state.output.append(t[f],"literal",!0);!this.state.tmp.just_looking&&t.length>0&&(this.state.tmp.probably_rendered_something=!0),this.debug&&print("(14)"),this.state.output.closeLevel("empty"),this.debug&&print("(15)");var m=this.state.output.pop();this.state.tmp.name_node.top=m,this.debug&&print("(16)");var u=p.Util.cloneToken(this.names);if(this.state.tmp.group_context.tip.condition&&p.UPDATE_GROUP_CONTEXT_CONDITION(this.state,this.names.strings.prefix,null,this.names),this.state.output.append(m,u),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.debug&&print("(17)"),this.debug&&print("(18)"),"authority"!==e[0]){var c=[],h=this.Item[e[0]];if(h)for(var f=0,d=h.length;f<d;f+=1){var g=p.Util.Names.getRawName(h[f]);g&&c.push(g)}(c=c.join(", "))&&(this.state.tmp.name_node.string=c)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),"classic"===this.Item.type&&this.state.tmp.first_name_string){var b=[];b.push(this.state.tmp.first_name_string),this.Item.title&&b.push(this.Item.title),(b=b.join(", "))&&this.state.sys.getAbbreviation&&(this.state.sys.normalizeAbbrevsKey&&(b=this.state.sys.normalizeAbbrevsKey("classic",b)),this.state.transform.loadAbbreviation("default","classic",b,this.Item.language),this.state.transform.abbrevs.default.classic[b]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs.default.classic[b],"empty",!0),m=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(m)))}this._collapseAuthor(),this.variables=[],this.state.tmp.authority_stop_last=0,this.debug&&print("(19)")}else(this.state.tmp.extension||0!=this.names_count)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0)},p.NameOutput.prototype._applyLabels=function(e,t){var i;if(!this.label||!this.label[this.labelVariable])return e;var r=0,s=this.freeters_count[t]+this.institutions_count[t];if(s>1)r=1;else{for(var a=0,n=this.persons[t].length;a<n;a+=1)s+=this.persons_count[t][a];s>1&&(r=1)}return this.label[this.labelVariable].before?("number"==typeof this.label[this.labelVariable].before.strings.plural&&(r=this.label[this.labelVariable].before.strings.plural),i=this._buildLabel(t,r,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(i,this.label[this.labelVariable].before,!0),this.state.output.append(e,"literal",!0),this.state.output.closeLevel("empty"),e=this.state.output.pop()):this.label[this.labelVariable].after&&("number"==typeof this.label[this.labelVariable].after.strings.plural&&(r=this.label[this.labelVariable].after.strings.plural),i=this._buildLabel(t,r,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(e,"literal",!0),this.state.output.append(i,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),e=this.state.output.pop()),e},p.NameOutput.prototype._buildLabel=function(e,t,i,r){this.common_term&&(e=this.common_term);var s=!1,a=this.label[r][i];return a&&(s=p.castLabel(this.state,a,e,t,p.TOLERANT)),s},p.NameOutput.prototype._collapseAuthor=function(){var e,t,i;0!==this.state.tmp.name_node.top.blobs.length&&(0===this.nameset_base&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(t="",e=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,i=this.state.tmp.offset_characters,e&&(t=this.state.output.string(this.state,e,!1)),this.state.tmp.offset_characters=i,this.state.registry.authorstrings[this.Item.id]=t):this.state.tmp.just_looking||this.state.tmp.suppress_decorations||!(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)||(t="",e=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,i=this.state.tmp.offset_characters,e&&(t=this.state.output.string(this.state,e,!1)),t===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=i),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=t,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&"legal_case"!==this.Item.type&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=i,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1)))))},p.NameOutput.prototype.isPerson=function(e){return!(e.literal||!e.given&&e.family&&e.isInstitution)},p.NameOutput.prototype.truncatePersonalNameLists=function(){var e,t,i,r;for(e in this.freeters_count={},this.persons_count={},this.institutions_count={},this.freeters)this.freeters.hasOwnProperty(e)&&(this.freeters_count[e]=this.freeters[e].length,this.freeters[e]=this._truncateNameList(this.freeters,e));for(e in this.persons)if(this.persons.hasOwnProperty(e))for(this.institutions_count[e]=this.institutions[e].length,this._truncateNameList(this.institutions,e),this.persons[e]=this.persons[e].slice(0,this.institutions[e].length),this.persons_count[e]=[],s=0,a=this.persons[e].length;s<a;s+=1)this.persons_count[e][s]=this.persons[e][s].length,this.persons[e][s]=this._truncateNameList(this.persons,e,s);if((r=!(!this.state.opt.development_extensions.etal_min_etal_usefirst_hack||1!==this.etal_min||1!==this.etal_use_first||this.state.tmp.extension||this.state.tmp.just_looking)&&e)||this._please_chop)for(t=0,i=this.variables.length;t<i;t+=1){e=this.variables[t],this.freeters[e].length&&(this._please_chop===e?(this.freeters[e]=this.freeters[e].slice(1),this.freeters_count[e]+=-1,this._please_chop=!1):r&&!this._please_chop&&(this.freeters[e]=this.freeters[e].slice(0,1),this.freeters_count[e]=1,this.institutions[e]=[],this.persons[e]=[],this._please_chop=r));for(var s=0,a=this.persons[e].length;s<a;s++)if(this.persons[e][s].length){if(this._please_chop===e){this.persons[e][s]=this.persons[e][s].slice(1),this.persons_count[e][s]+=-1,this._please_chop=!1;break}if(r&&!this._please_chop){this.freeters[e]=this.persons[e][s].slice(0,1),this.freeters_count[e]=1,this.institutions[e]=[],this.persons[e]=[],[],this._please_chop=r;break}}this.institutions[e].length&&(this._please_chop===e?(this.institutions[e]=this.institutions[e].slice(1),this.institutions_count[e]+=-1,this._please_chop=!1):r&&!this._please_chop&&(this.institutions[e]=this.institutions[e].slice(0,1),this.institutions_count[e]=1,[],this._please_chop=r))}for(t=0,i=this.variables.length;t<i;t+=1){this.institutions[e].length&&(this.nameset_offset+=1);for(s=0,a=this.persons[e].length;s<a;s++)this.persons[e][s].length&&(this.nameset_offset+=1)}},p.NameOutput.prototype._truncateNameList=function(e,t,i){var r;if(r=void 0===i?e[t]:e[t][i],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&r.length>50&&r.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var s=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;r=r.slice(0,s+1).concat(r.slice(-1))}return r},p.NameOutput.prototype.divideAndTransliterateNames=function(){var e,t,i,r,s=this.Item,a=this.variables;for(this.varnames=a.slice(),this.freeters={},this.persons={},this.institutions={},e=0,t=a.length;e<t;e+=1){var n=a[e];this.variable_offset[n]=this.nameset_offset;var o=this._normalizeVariableValue(s,n);if(this.name.strings["suppress-min"]&&o.length>=this.name.strings["suppress-min"]&&(o=[]),this.name.strings["suppress-max"]&&o.length<=this.name.strings["suppress-max"]&&(o=[]),this._getFreeters(n,o),this._getPersonsAndInstitutions(n,o),this.state.opt.development_extensions.spoof_institutional_affiliations)if(0===this.name.strings["suppress-min"])for(this.freeters[n]=[],i=0,r=this.persons[n].length;i<r;i+=1)this.persons[n][i]=[];else if(0===this.institution.strings["suppress-min"]){for(this.institutions[n]=[],this.freeters[n]=this.freeters[n].concat(this.persons[n]),i=0,r=this.persons[n].length;i<r;i+=1)for(var l=0,m=this.persons[n][i].length;l<m;l+=1)this.freeters[n].push(this.persons[n][i][l]);this.persons[n]=[]}}},p.NameOutput.prototype._normalizeVariableValue=function(e,t){var i;return"string"==typeof e[t]||"number"==typeof e[t]?(p.debug('name variable "'+t+'" is string or number, not array. Attempting to fix.'),i=[{literal:e[t]+""}]):e[t]?"number"!=typeof e[t].length?(p.debug('name variable "'+t+'" is object, not array. Attempting to fix.'),e[t]=[e[t]],i=e[t].slice()):i=e[t].slice():i=[],i},p.NameOutput.prototype._getFreeters=function(e,t){if(this.freeters[e]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var i=t.length-1;i>-1&&this.isPerson(t[i]);i--){(r=this._checkNickname(t.pop()))&&this.freeters[e].push(r)}else for(i=t.length-1;i>-1;i--){var r=t.pop();if(this.isPerson(r))r=this._checkNickname(r);this.freeters[e].push(r)}this.freeters[e].reverse(),this.freeters[e].length&&(this.nameset_offset+=1)},p.NameOutput.prototype._getPersonsAndInstitutions=function(e,t){if(this.persons[e]=[],this.institutions[e]=[],this.state.opt.development_extensions.spoof_institutional_affiliations){for(var i=[],r=!1,s=!0,a=t.length-1;a>-1;a+=-1)if(this.isPerson(t[a])){var n=this._checkNickname(t[a]);n&&i.push(n)}else r=!0,this.institutions[e].push(t[a]),s||(i.reverse(),this.persons[e].push(i),i=[]),s=!1;r&&(i.reverse(),this.persons[e].push(i),this.persons[e].reverse(),this.institutions[e].reverse())}},p.NameOutput.prototype._clearValues=function(e){for(var t=e.length-1;t>-1;t+=-1)e.pop()},p.NameOutput.prototype._checkNickname=function(e){if(["interview","personal_communication"].indexOf(this.Item.type)>-1){var t;if((t=p.Util.Names.getRawName(e))&&this.state.sys.getAbbreviation&&(!this.item||!this.item["suppress-author"])){var i=t;this.state.sys.normalizeAbbrevsKey&&(i=this.state.sys.normalizeAbbrevsKey("author",t)),this.state.transform.loadAbbreviation("default","nickname",i,this.Item.language);var r=this.state.transform.abbrevs.default.nickname[i];r&&(e="!here>>>"!==r&&{family:r,given:""})}}return e},p.NameOutput.prototype._purgeEmptyBlobs=function(e){for(var t=e.length-1;t>-1;t+=-1)e[t]&&0!==e[t].length&&e[t].blobs.length||(e=e.slice(0,t).concat(e.slice(t+1)));return e},p.NameOutput.prototype.joinPersons=function(e,t,i,r){return e=this._purgeEmptyBlobs(e),r||(r="name"),void 0===i?1===this.etal_spec[t].freeters?this._joinEtAl(e):2===this.etal_spec[t].freeters?this._joinEllipsis(e):this.state.tmp.sort_key_flag?this._join(e,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):this._joinAnd(e):1===this.etal_spec[t].persons[i]?this._joinEtAl(e):2===this.etal_spec[t].persons[i]?this._joinEllipsis(e):this.state.tmp.sort_key_flag?this._join(e,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):this._joinAnd(e)},p.NameOutput.prototype.joinInstitutionSets=function(e,t){return e=this._purgeEmptyBlobs(e),1===this.etal_spec[t].institutions?this._joinEtAl(e,"institution"):2===this.etal_spec[t].institutions?this._joinEllipsis(e,"institution"):this._joinAnd(e)},p.NameOutput.prototype.joinPersonsAndInstitutions=function(e){e=this._purgeEmptyBlobs(e);var t=this._join(e,this.state.tmp.name_delimiter);return t.isInstitution=!0,t},p.NameOutput.prototype.joinFreetersAndInstitutionSets=function(e){return e=this._purgeEmptyBlobs(e),this._join(e,"[never here]",this.with.single,this.with.multiple)},p.NameOutput.prototype._getAfterInvertedName=function(e,t,i){if(i&&e.length>1&&"after-inverted-name"===this.state.inheritOpt(this.name,"delimiter-precedes-last")){var r=e[e.length-2];r.blobs.length>0&&r.blobs[0].isInverted&&(i.strings.prefix=t)}return i},p.NameOutput.prototype._getAndJoin=function(e,t){var i=!1;if(e.length>1){var r="single";e.length>2&&(r="multiple"),i=e[e.length-1].isInstitution?this.institution.and[r]:this.name.and[r],i=JSON.parse(JSON.stringify(i)),i=this._getAfterInvertedName(e,t,i)}return i},p.NameOutput.prototype._joinEtAl=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),i=this._join(e,t);return this.state.output.openLevel(this._getToken("name")),this.state.output.current.value().strings.delimiter="",this.state.output.append(i,"literal",!0),e.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):1===e.length&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},p.NameOutput.prototype._joinEllipsis=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),i=!1;if(e.length>1){var r="single";e.length>2&&(r="multiple"),i=JSON.parse(JSON.stringify(this.name.ellipsis[r])),i=this._getAfterInvertedName(e,t,i)}return this._join(e,t,i)},p.NameOutput.prototype._joinAnd=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),i=this._getAndJoin(e,t);return this._join(e,t,i)},p.NameOutput.prototype._join=function(e,t,i){if(!e)return!1;if(!(e=this._purgeEmptyBlobs(e)).length)return!1;if(e.length>1)if(2===e.length)i?e=[e[0],i,e[1]]:e[0].strings.suffix+=t;else{var r;r=i?1:0;for(var s=e.pop(),a=0,n=e.length-r;a<n;a++)e[a].strings.suffix+=t;e.push(i),e.push(s)}for(this.state.output.openLevel(),a=0,n=e.length;a<n;a+=1)this.state.output.append(e[a],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},p.NameOutput.prototype._getToken=function(e){var t=this[e];return"institution"===e?new p.Token:t},p.NameOutput.prototype.checkCommonAuthor=function(e){if(!e)return!1;var t=!1;if(2===this.variables.length){var i=this.variables.slice();i.sort(),t=i.join("")}if(!t)return!1;var r=!1;if(this.state.locale[this.state.opt.lang].terms[t]&&(r=!0),!r)return this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1]),!1;var s=this.Item[this.variables[0]],a=this.Item[this.variables[1]],n=this._compareNamesets(s,a);return!0===n&&(this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1])),!n},p.NameOutput.prototype.setCommonTerm=function(){var e=this.variables.slice();if(e.sort(),this.common_term=e.join(""),this.common_term){var t=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?t=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(t=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!t||this.variables.length<2)this.common_term=!1;else for(var i=0,r=this.variables.length-1;i<r;i+=1){var s=this.variables[i],a=this.variables[i+1];if(this.freeters[s].length||this.freeters[a].length){if(this.etal_spec[s].freeters!==this.etal_spec[a].freeters||!this._compareNamesets(this.freeters[s],this.freeters[a]))return void(this.common_term=!1);1}if(this.persons[s].length!==this.persons[a].length)return void(this.common_term=!1);for(var n=0,o=this.persons[s].length;n<o;n+=1)if(this.etal_spec[s].persons[n]!==this.etal_spec[a].persons[n]||!this._compareNamesets(this.persons[s][n],this.persons[a][n]))return void(this.common_term=!1)}}},p.NameOutput.prototype._compareNamesets=function(e,t){if(!e||!t||e.length!==t.length)return!1;for(var i=0,r=t.length;i<r;i+=1)for(var s=0,a=p.NAME_PARTS.length;s<a;s+=1){var n=p.NAME_PARTS[s];if(!e[i]||e[i][n]!=t[i][n])return!1}return!0},p.NameOutput.prototype.constrainNames=function(){var e;this.names_count=0;for(var t=0,i=this.variables.length;t<i;t+=1){var r=this.variables[t];e=this.nameset_base+t,this.freeters[r].length&&(this.state.tmp.names_max.push(this.freeters[r].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,r,e),this.names_count+=this.freeters[r].length),this.institutions[r].length&&(this.state.tmp.names_max.push(this.institutions[r].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,r,e),this.persons[r]=this.persons[r].slice(0,this.institutions[r].length),this.names_count+=this.institutions[r].length);for(var s=0,a=this.persons[r].length;s<a;s+=1)this.persons[r][s].length&&(this.state.tmp.names_max.push(this.persons[r][s].length,"literal"),this._imposeNameConstraints(this.persons[r],this.persons_count[r],s,e),this.names_count+=this.persons[r][s].length)}},p.NameOutput.prototype._imposeNameConstraints=function(e,t,i,r){var s=e[i],a=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[r]?a=this.state.tmp.disambig_request.names[r]:t[i]>=this.etal_min&&(a=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[r]>this.etal_use_first?a=t[i]<this.etal_min?t[i]:this.state.tmp.disambig_request.names[r]:t[i]>=this.etal_min&&(a=this.etal_use_first),this.etal_use_last&&a>this.etal_min-2&&(a=this.etal_min-2));var n=this.etal_min>=this.etal_use_first,o=t[i]>a;a>t[i]&&(a=s.length),n&&o&&(this.etal_use_last?e[i]=s.slice(0,a).concat(s.slice(-1)):e[i]=s.slice(0,a)),this.state.tmp.disambig_settings.names[r]=e[i].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},p.NameOutput.prototype.disambigNames=function(){for(var e,t=0,i=this.variables.length;t<i;t+=1){var r=this.variables[t];if(e=this.nameset_base+t,this.freeters[r].length&&this._runDisambigNames(this.freeters[r],e),this.institutions[r].length){void 0===this.state.tmp.disambig_settings.givens[e]&&(this.state.tmp.disambig_settings.givens[e]=[]);for(var s=0,a=this.institutions[r].length;s<a;s+=1)void 0===this.state.tmp.disambig_settings.givens[e][s]&&this.state.tmp.disambig_settings.givens[e].push(2)}for(s=0,a=this.persons[r].length;s<a;s+=1)this.persons[r][s].length&&this._runDisambigNames(this.persons[r][s],e)}},p.NameOutput.prototype._runDisambigNames=function(e,t){var i,r,s,a,n,o;for(a=0,n=e.length;a<n;a+=1)if(e[a].given||e[a].family){if(r=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,e[a],a),void 0===this.state.tmp.disambig_settings.givens[t])for(var l=0,m=t+1;l<m;l+=1)this.state.tmp.disambig_settings.givens[l]||(this.state.tmp.disambig_settings.givens[l]=[]);if(void 0===this.state.tmp.disambig_settings.givens[t][a]&&(i=this.state.inheritOpt(this.name,"form","name-form","long"),s=this.state.registry.namereg.evalname(""+this.Item.id,e[a],a,0,i,r),this.state.tmp.disambig_settings.givens[t].push(s)),i=this.state.inheritOpt(this.name,"form","name-form","long"),o=this.state.registry.namereg.evalname(""+this.Item.id,e[a],a,0,i,r),this.state.tmp.disambig_request){var u=this.state.tmp.disambig_settings.givens[t][a];1!==u||"by-cite"!==this.state.citation.opt["givenname-disambiguation-rule"]||void 0!==this.state.inheritOpt(this.name,"initialize-with")&&void 0!==e[a].given||(u=2),s=u,this.state.opt["disambiguate-add-givenname"]&&e[a].given&&(s=this.state.registry.namereg.evalname(""+this.Item.id,e[a],a,s,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else s=o;!this.state.tmp.just_looking&&this.item&&this.item.position===p.POSITION_FIRST&&o>s&&(s=o),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[t][a]=s,"string"!=typeof r||void 0!==this.name.strings.initialize&&!0!==this.name.strings.initialize||(this.state.tmp.disambig_settings.use_initials=!0))}},p.NameOutput.prototype.getEtAlConfig=function(){var e=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,void 0===e&&(e={}),e.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),"boolean"==typeof this.state.tmp["et-al-use-last"]?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},p.NameOutput.prototype.setEtAlParameters=function(){var e,t,i,r;for(e=0,t=this.variables.length;e<t;e+=1){var s=this.variables[e];for(void 0===this.etal_spec[s]&&(this.etal_spec[s]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+e]=this.etal_spec[s],this.freeters[s].length&&this._setEtAlParameter("freeters",s),i=0,r=this.persons[s].length;i<r;i+=1)void 0===this.etal_spec[s][i]&&(this.etal_spec[s].persons[i]=0),this._setEtAlParameter("persons",s,i);this.institutions[s].length&&this._setEtAlParameter("institutions",s)}},p.NameOutput.prototype._setEtAlParameter=function(e,t,i){var r,s;"persons"===e?(r=this.persons[t][i],s=this.persons_count[t][i]):(r=this[e][t],s=this[e+"_count"][t]),r.length<s&&!this.state.tmp.sort_key_flag?this.etal_use_last?"persons"===e?this.etal_spec[t].persons[i]=2:this.etal_spec[t][e]=2:"persons"===e?this.etal_spec[t].persons[i]=1:this.etal_spec[t][e]=1:"persons"===e?this.etal_spec[t].persons[i]=0:this.etal_spec[t][e]=0},p.NameOutput.prototype.renderAllNames=function(){for(var e,t=0,i=this.variables.length;t<i;t+=1){var r=this.variables[t];(this.freeters[r].length||this.institutions[r].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),e=this.nameset_base+t,this.freeters[r].length&&(this.freeters[r]=this._renderNames(r,this.freeters[r],e));for(var s=0,a=this.institutions[r].length;s<a;s+=1)this.persons[r][s]=this._renderNames(r,this.persons[r][s],e,s)}this.renderInstitutionNames()},p.NameOutput.prototype.renderInstitutionNames=function(){for(var e=0,t=this.variables.length;e<t;e+=1)for(var i=this.variables[e],r=0,s=this.institutions[i].length;r<s;r+=1){var a,n=this.institutions[i][r],o={primary:"locale-orig",secondary:!1,tertiary:!1};if(a=this.state.tmp.extension?["sort"]:n.isInstitution||n.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var l=["primary","secondary","tertiary"],m=0,u=l.length;m<u&&!(a.length-1<m);m+=1)a[m]&&(o[l[m]]="locale-"+a[m]);else o.primary="locale-translat";"bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position||(o.secondary=!1,o.tertiary=!1),this.setRenderedName(n);var p=this._renderInstitutionName(i,n,o,r);this.institutions[i][r]=p}},p.NameOutput.prototype._renderInstitutionName=function(e,t,i,r){var s,a,n,o,l,m=this.getName(t,i.primary,!0),u=m.name,p=m.usedOrig;if(u&&(u=this.fixupInstitution(u,e,r)),c=!1,i.secondary){var c=(m=this.getName(t,i.secondary,!1,p)).name;p=m.usedOrig,c&&(c=this.fixupInstitution(c,e,r))}s=!1,i.tertiary&&(s=(m=this.getName(t,i.tertiary,!1,p)).name)&&(s=this.fixupInstitution(s,e,r));var h={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(u&&(h.l.pri=u.long,h.s.pri=u.short.length?u.short:u.long),c&&(h.l.sec=c.long,h.s.sec=c.short.length?c.short:c.long),s&&(h.l.ter=s.long,h.s.ter=s.short.length?s.short:s.long),this.institution.strings["institution-parts"]){case"short":u.short.length?(n=this._getShortStyle(),o=[this._composeOneInstitutionPart([h.s.pri,h.s.sec,h.s.ter],i,n,e)]):(a=this._getLongStyle(u,e,r),o=[this._composeOneInstitutionPart([h.l.pri,h.l.sec,h.l.ter],i,a,e)]);break;case"short-long":a=this._getLongStyle(u,e,r),n=this._getShortStyle(),o=[l=this._renderOneInstitutionPart(u.short,n),this._composeOneInstitutionPart([h.l.pri,h.l.sec,h.l.ter],i,a,e)];break;case"long-short":a=this._getLongStyle(u,e,r),n=this._getShortStyle(),l=this._renderOneInstitutionPart(u.short,n),o=[this._composeOneInstitutionPart([h.l.pri,h.l.sec,h.l.ter],i,a,e),l];break;default:a=this._getLongStyle(u,e,r),o=[this._composeOneInstitutionPart([h.l.pri,h.l.sec,h.l.ter],i,a,e)]}var f=this._join(o," ");return f&&(f.isInstitution=!0),this.state.tmp.name_node.children.push(f),f},p.NameOutput.prototype._composeOneInstitutionPart=function(e,t,i){var r,s,a,n,o=!1,l=!1,m=!1;if(e[0]){if(r=p.Util.cloneToken(i),this.state.opt.citeAffixes[t.primary]&&"<i>"===this.state.opt.citeAffixes.institutions[t.primary].prefix){for(var u=!1,c=0,h=r.decorations.length;c<h;c+=1)"@font-style"===i.decorations[c][0]&&"italic"===r.decorations[c][1]&&(u=!0);u||r.decorations.push(["@font-style","italic"])}o=this._renderOneInstitutionPart(e[0],r)}if(e[1]&&(l=this._renderOneInstitutionPart(e[1],i)),e[2]&&(m=this._renderOneInstitutionPart(e[2],i)),l||m){this.state.output.openLevel("empty"),this.state.output.append(o),s=p.Util.cloneToken(i),t.secondary&&(s.strings.prefix=this.state.opt.citeAffixes.institutions[t.secondary].prefix,s.strings.suffix=this.state.opt.citeAffixes.institutions[t.secondary].suffix,s.strings.prefix||(s.strings.prefix=" "));var f=new p.Token;f.decorations.push(["@font-style","normal"]),f.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(f),this.state.output.append(l,s),this.state.output.closeLevel(),a=p.Util.cloneToken(i),t.tertiary&&(a.strings.prefix=this.state.opt.citeAffixes.institutions[t.tertiary].prefix,a.strings.suffix=this.state.opt.citeAffixes.institutions[t.tertiary].suffix,a.strings.prefix||(a.strings.prefix=" "));var d=new p.Token;d.decorations.push(["@font-style","normal"]),d.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(d),this.state.output.append(m,a),this.state.output.closeLevel(),this.state.output.closeLevel(),n=this.state.output.pop()}else n=o;return n},p.NameOutput.prototype._renderOneInstitutionPart=function(e,t){for(var i=0,r=e.length;i<r;i+=1)if(e[i]){var s=e[i];if(this.state.tmp.strip_periods)s=s.replace(/\./g,"");else for(var a=0,n=t.decorations.length;a<n;a+=1)if("@strip-periods"===t.decorations[a][0]&&"true"===t.decorations[a][1]){s=s.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,p.LITERAL),"!here>>>"===s?e[i]=!1:(this.state.output.append(s,t,!0),e[i]=this.state.output.pop())}return void 0===this.institution.strings["part-separator"]&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(e,this.institution.strings["part-separator"])},p.NameOutput.prototype._renderNames=function(e,t,i,r){var s=!1;if(t.length){for(var a=[],n=0,o=t.length;n<o;n+=1){var l,m=t[n],u={primary:"locale-orig",secondary:!1,tertiary:!1};if(l=this.state.tmp.extension?["sort"]:m.isInstitution||m.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var c=["primary","secondary","tertiary"],h=0,f=c.length;h<f&&!(l.length-1<h);h+=1)u[c[h]]="locale-"+l[h];else u.primary="locale-translat";if((this.state.tmp.sort_key_flag||"bibliography"!==this.state.tmp.area&&("citation"!==this.state.tmp.area||"note"!==this.state.opt.xclass||!this.item||this.item.position))&&(u.secondary=!1,u.tertiary=!1),this.setRenderedName(m),m.literal||m.isInstitution)a.push(this._renderInstitutionName(e,m,u,r));else{var d=this._renderPersonalName(e,m,u,i,n,r),g=p.Util.cloneToken(this.name);this.state.output.append(d,g,!0),a.push(this.state.output.pop())}}s=this.joinPersons(a,i,r)}return s},p.NameOutput.prototype._renderPersonalName=function(e,t,i,r,s,a){var n=this.getName(t,i.primary,!0),o=this._renderOnePersonalName(n.name,r,s,a),l=!1;i.secondary&&(n=this.getName(t,i.secondary,!1,n.usedOrig)).name&&(l=this._renderOnePersonalName(n.name,r,s,a));var m,u=!1;if(i.tertiary&&(n=this.getName(t,i.tertiary,!1,n.usedOrig)).name&&(u=this._renderOnePersonalName(n.name,r,s,a)),l||u){this.state.output.openLevel("empty"),this.state.output.append(o);var c=new p.Token;i.secondary&&(c.strings.prefix=this.state.opt.citeAffixes.persons[i.secondary].prefix,c.strings.suffix=this.state.opt.citeAffixes.persons[i.secondary].suffix,c.strings.prefix||(c.strings.prefix=" ")),this.state.output.append(l,c);var h=new p.Token;i.tertiary&&(h.strings.prefix=this.state.opt.citeAffixes.persons[i.tertiary].prefix,h.strings.suffix=this.state.opt.citeAffixes.persons[i.tertiary].suffix,h.strings.prefix||(h.strings.prefix=" ")),this.state.output.append(u,h),this.state.output.closeLevel(),m=this.state.output.pop()}else m=o;return m},p.NameOutput.prototype._isRomanesque=function(e){var t,i=2;return e.family.replace(/\"/g,"").match(p.ROMANESQUE_REGEXP)||(i=0),!i&&e.given&&e.given.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&(i=1),2==i&&(e.multi&&e.multi.main?t=e.multi.main.slice(0,2):this.Item.language&&(t=this.Item.language.slice(0,2)),["ja","zh"].indexOf(t)>-1&&(i=1)),i},p.NameOutput.prototype._renderOnePersonalName=function(e,t,i,r){var s=e,a=this._droppingParticle(s,t,r),n=this._familyName(s),o=this._nonDroppingParticle(s),l=this._givenName(s,t,i),m=l.blob,u=this._nameSuffix(s);!1===m&&(a=!1,u=!1);var c,h=this.state.inheritOpt(this.name,"sort-separator");h||(h=""),c=s["comma-suffix"]?", ":" ";var f=this._isRomanesque(s);var d,g,b,v,y,_=function e(t){return!!t&&("string"==typeof t.blobs?["’","'","-"," "].indexOf(t.blobs.slice(-1))>-1:e(t.blobs[t.blobs.length-1]))}(o);if(d=["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1?" ":" ",0===f)g=this._join([o,n,m],"");else if(1===f||s["static-ordering"])b=this._join([o,n],d),g=this._join([b,m]," ");else if(s["reverse-ordering"])b=this._join([o,n],d),g=this._join([m,b]," ");else if(this.state.tmp.sort_key_flag)"never"===this.state.opt["demote-non-dropping-particle"]?(b=this._join([o,n],d),b=this._join([b,a]," "),b=this._join([b,m],this.state.opt.sort_sep),g=this._join([b,u]," ")):(y=this._join([m,a,o]," "),b=this._join([n,y],this.state.opt.sort_sep),g=this._join([b,u]," "));else if("all"===this.state.inheritOpt(this.name,"name-as-sort-order")||"first"===this.state.inheritOpt(this.name,"name-as-sort-order")&&0===i&&(0===r||void 0===r))["Lord","Lady"].indexOf(s.given)>-1&&(h=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(y=this._join([m,a],s["comma-dropping-particle"]+" "),(y=this._join([y,o]," "))&&this.given&&(y.strings.prefix=this.given.strings.prefix,y.strings.suffix=this.given.strings.suffix),n&&this.family&&(n.strings.prefix=this.family.strings.prefix,n.strings.suffix=this.family.strings.suffix),b=this._join([n,y],h),g=this._join([b,u],h)):((v=_?this._join([o,n],""):this._join([o,n],d))&&this.family&&(v.strings.prefix=this.family.strings.prefix,v.strings.suffix=this.family.strings.suffix),(y=this._join([m,a],s["comma-dropping-particle"]+" "))&&this.given&&(y.strings.prefix=this.given.strings.prefix,y.strings.suffix=this.given.strings.suffix),b=this._join([v,y],h),g=this._join([b,u],h)),g.isInverted=!0;else{if(s["dropping-particle"]&&s.family&&!s["non-dropping-particle"]){var x=s["dropping-particle"];["'","ʼ","’","-"].indexOf(x.slice(-1))>-1&&"de"!==x.slice(0,-1)&&(n=this._join([a,n],""),a=!1)}var E;_?(y=this._join([o,n],""),y=this._join([a,y],d)):y=this._join([a,o,n],d),(y=this._join([y,u],c))&&this.family&&(y.strings.prefix=this.family.strings.prefix,y.strings.suffix=this.family.strings.suffix),m&&this.given&&(m.strings.prefix=this.given.strings.prefix,m.strings.suffix=this.given.strings.suffix),y.strings.prefix&&(s["comma-dropping-particle"]=""),E=this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&1===l.initializationLevel?d:" ",g=this._join([m,y],s["comma-dropping-particle"]+E)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,p.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(g),g},p.NameOutput.prototype._normalizeNameInput=function(e){var t={literal:e.literal,family:e.family,isInstitution:e.isInstitution,given:e.given,suffix:e.suffix,"comma-suffix":e["comma-suffix"],"non-dropping-particle":e["non-dropping-particle"],"dropping-particle":e["dropping-particle"],"static-ordering":e["static-ordering"],"static-particles":e["static-particles"],"reverse-ordering":e["reverse-ordering"],"full-form-always":e["full-form-always"],"parse-names":e["parse-names"],"comma-dropping-particle":"",block_initialize:e.block_initialize,multi:e.multi};return this._parseName(t),t},p.NameOutput.prototype._stripPeriods=function(e,t){var i=this[e+"_decor"];if(t)if(this.state.tmp.strip_periods)t=t.replace(/\./g,"");else if(i)for(var r=0,s=i.decorations.length;r<s;r+=1)if("@strip-periods"===i.decorations[r][0]&&"true"===i.decorations[r][1]){t=t.replace(/\./g,"");break}return t},p.NameOutput.prototype._nonDroppingParticle=function(e){var t=e["non-dropping-particle"];t&&this.state.tmp.sort_key_flag&&(t=t.replace(/[\'\u2019]/,""));var i=this._stripPeriods("family",t);return!!this.state.output.append(i,this.family_decor,!0)&&this.state.output.pop()},p.NameOutput.prototype._droppingParticle=function(e,t,i){var r=e["dropping-particle"];r&&this.state.tmp.sort_key_flag&&(r=r.replace(/[\'\u2019]/,""));var s=this._stripPeriods("given",r);if(e["dropping-particle"]&&e["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?void 0===i?this.etal_spec[t].freeters=2:this.etal_spec[t].persons=2:void 0===i?this.etal_spec[t].freeters=1:this.etal_spec[t].persons=1,e["comma-dropping-particle"]="";else if(this.state.output.append(s,this.given_decor,!0))return this.state.output.pop();return!1},p.NameOutput.prototype._familyName=function(e){var t=this._stripPeriods("family",e.family);return!!this.state.output.append(t,this.family_decor,!0)&&this.state.output.pop()},p.NameOutput.prototype._givenName=function(e,t,i){var r,s,a="long"!==this.state.inheritOpt(this.name,"form","name-form","long"),n=!1!==this.state.inheritOpt(this.name,"initialize"),o="string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&!e.block_initialize;if(e["full-form-always"])s=2;else{r=a?0:o?1:2;var l=this.state.tmp.disambig_settings.givens[t][i];s=l>r?l:r}var m=this.state.citation.opt["givenname-disambiguation-rule"];if(m&&"-with-initials"===m.slice(-14)&&(o=!0),e.family&&1===s)if(o){var u=this.state.inheritOpt(this.name,"initialize-with",!1,"");e.given=p.Util.Names.initializeWith(this.state,e.given,u,!n)}else e.given=p.Util.Names.unInitialize(this.state,e.given);else{if(0===s)return{blob:!1};2===s&&(e.given=p.Util.Names.unInitialize(this.state,e.given))}var c=this._stripPeriods("given",e.given);return this.state.output.append(c,this.given_decor,!0)?{blob:this.state.output.pop(),initializationLevel:s}:{blob:!1}},p.NameOutput.prototype._nameSuffix=function(e){var t,i=e.suffix;i&&"string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&(i=p.Util.Names.initializeWith(this.state,i,this.state.inheritOpt(this.name,"initialize-with"),!0));var r="";return(i=this._stripPeriods("family",i))&&"."===i.slice(-1)&&(i=i.slice(0,-1),r="."),!!this.state.output.append(i,"empty",!0)&&((t=this.state.output.pop()).strings.suffix=r+t.strings.suffix,t)},p.NameOutput.prototype._getLongStyle=function(e){var t;return(t=e.short.length&&this.institutionpart["long-with-short"]?this.institutionpart["long-with-short"]:this.institutionpart.long)||(t=new p.Token),t},p.NameOutput.prototype._getShortStyle=function(){return this.institutionpart.short?this.institutionpart.short:new p.Token},p.NameOutput.prototype._parseName=function(e){if(!e["parse-names"]&&void 0!==e["parse-names"])return e;var t;e.family&&!e.given&&e.isInstitution&&(e.literal=e.family,e.family=void 0,e.isInstitution=void 0),e.family&&'"'===e.family.slice(0,1)&&'"'===e.family.slice(-1)||!e["parse-names"]&&void 0!==e["parse-names"]?(e.family=e.family.slice(1,-1),t=!0,e["parse-names"]=0):t=!1,this.state.opt.development_extensions.parse_names&&!e["non-dropping-particle"]&&e.family&&!t&&e.given&&(e["static-particles"]||p.parseParticles(e,!0))},p.NameOutput.prototype.getName=function(e,t,i,r){if(r&&"locale-orig"===t)return{name:!1,usedOrig:r};e.family||(e.family=""),e.given||(e.given="");var s={};s["static-ordering"]=this.getStaticOrder(e);var a,n=!0;if("locale-orig"!==t&&(n=!1,e.multi))for(var o=this.state.opt[t],l=0,m=o.length;l<m;l+=1)if(a=o[l],e.multi._key[a]){n=!0;var u=e.isInstitution;(e=e.multi._key[a]).isInstitution=u,(s=this.getNameParams(a)).transliterated=!0;break}return n||(a=!1,e.multi&&e.multi.main?a=e.multi.main:this.Item.language&&(a=this.Item.language),a&&(s=this.getNameParams(a))),i||n?(e.family||(e.family=""),e.given||(e.given=""),e.literal&&(delete e.family,delete e.given),!(e={family:e.family,given:e.given,"non-dropping-particle":e["non-dropping-particle"],"dropping-particle":e["dropping-particle"],suffix:e.suffix,"static-ordering":s["static-ordering"],"static-particles":e["static-particles"],"reverse-ordering":s["reverse-ordering"],"full-form-always":s["full-form-always"],"parse-names":e["parse-names"],"comma-suffix":e["comma-suffix"],"comma-dropping-particle":e["comma-dropping-particle"],transliterated:s.transliterated,block_initialize:s["block-initialize"],literal:e.literal,isInstitution:e.isInstitution,multi:e.multi}).literal&&!e.given&&e.family&&e.isInstitution&&(e.literal=e.family),e.literal&&(delete e.family,delete e.given),{name:e=this._normalizeNameInput(e),usedOrig:r||!n}):{name:!1,usedOrig:r}},p.NameOutput.prototype.getNameParams=function(e){var t={},i=p.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),r=this.state.locale[i.best]?i.best:this.state.opt["default-locale"][0],s=this.state.locale[r].opts["name-as-sort-order"],a=this.state.locale[r].opts["name-as-reverse-order"],n=this.state.locale[r].opts["name-never-short"],o=e.split("-")[0];return s&&s[o]&&(t["static-ordering"]=!0,t["reverse-ordering"]=!1),a&&a[o]&&(t["reverse-ordering"]=!0,t["static-ordering"]=!1),n&&n[o]&&(t["full-form-always"]=!0),t["static-ordering"]&&(t["block-initialize"]=!0),t},p.NameOutput.prototype.setRenderedName=function(e){if("bibliography"===this.state.tmp.area){for(var t="",i=0,r=p.NAME_PARTS.length;i<r;i+=1)e[p.NAME_PARTS[i]]&&(t+=e[p.NAME_PARTS[i]]);this.state.tmp.rendered_name.push(t)}},p.NameOutput.prototype.fixupInstitution=function(e,t,i){!e.literal&&e.family&&(e.literal=e.family,delete e.family);var r=e.literal,s=r,a={long:r.split(/\s*\|\s*/),short:s.split(/\s*\|\s*/)};if(this.state.sys.getAbbreviation){if("short"===this.institution.strings.form){let e=this.Item.jurisdiction;e=this.state.transform.loadAbbreviation(e,"institution-entire",r,this.Item.language),this.state.transform.abbrevs[e]["institution-entire"][r]?r=this.state.transform.abbrevs[e]["institution-entire"][r]:(e=this.Item.jurisdiction,e=this.state.transform.loadAbbreviation(e,"institution-part",r,this.Item.language),this.state.transform.abbrevs[e]["institution-part"][r]&&(r=this.state.transform.abbrevs[e]["institution-part"][r])),r=this._quashChecks(e,r)}if(["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1){let e=this.Item.jurisdiction;e=this.state.transform.loadAbbreviation(e,"institution-part",s,this.Item.language),this.state.transform.abbrevs[e]["institution-part"][s]&&(s=this.state.transform.abbrevs[e]["institution-part"][s]),s=this._quashChecks(e,s),["short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1&&s===r&&(s="")}if(a.long=r.split(/\s*\|\s*/),a.short=s.split(/\s*\|\s*/),["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1)for(var n=a.short.length-1;n>-1;n--){let e=this.Item.jurisdiction;var o=a.short[n];if(e=this.state.transform.loadAbbreviation(e,"institution-part",o,this.Item.language),this.state.transform.abbrevs[e]["institution-part"][o]&&(a.short[n]=this.state.transform.abbrevs[e]["institution-part"][o]),a.short[n].indexOf("|")>-1){let e=a.short,t=e[n].split(/\s*\|\s*/);a.short=e.slice(0,n).concat(t).concat(e.slice(n+1))}}if(this.state.opt.development_extensions.legacy_institution_name_ordering&&a.short.reverse(),a.short=this._trimInstitution(a.short),this.institution.strings["reverse-order"]&&a.short.reverse(),!this.state.tmp.just_looking&&this.Item.jurisdiction){let e=this.Item.jurisdiction;var l=this.state.tmp.abbrev_trimmer;if(l&&l[e]&&l[e][t])for(var m=0,u=a.short.length;m<u;m++){var p=a.short[m];a.short[m]=p.replace(l[e][t],"").trim()}}}return this.state.opt.development_extensions.legacy_institution_name_ordering&&a.long.reverse(),a.long=this._trimInstitution(a.long),this.institution.strings["reverse-order"]&&a.long.reverse(),a},p.NameOutput.prototype.getStaticOrder=function(e,t){var i=!1;return(!t&&e["static-ordering"]||0===this._isRomanesque(e)||(!e.multi||!e.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1||e.multi&&e.multi.main&&["vi","hu"].indexOf(e.multi.main.slice(0,2))>-1||this.state.opt["auto-vietnamese-names"]&&p.VIETNAMESE_NAMES.exec(e.family+" "+e.given)&&p.VIETNAMESE_SPECIALS.exec(e.family+e.given))&&(i=!0),i},p.NameOutput.prototype._quashChecks=function(e,t){var i=(t=this.state.transform.quashCheck(e,t)).split(/>>[0-9]{4}>>/),r=t.match(/>>([0-9]{4})>>/);t=i.pop();var s=this.Item["original-date"]?this.Item["original-date"]:this.Item.issued;if(s&&(s=parseInt(s.year,10),s=!isNaN(s)&&s),s){if(i.length>0)for(var a=r.length-1;a>0&&!(s>=parseInt(r[a],10));a--)t=i.pop();t=t.replace(/\s*\|\s*/g,"|")}return t},p.NameOutput.prototype._trimInstitution=function(e){var t=!1,i=!1,r=!1,s=!1,a=e.slice();if(this.institution){if(void 0!==this.institution.strings["use-first"]&&(t=this.institution.strings["use-first"]),void 0!==this.institution.strings["use-last"]&&(r=this.institution.strings["use-last"]),void 0!==this.institution.strings["stop-first"]&&(s=this.institution.strings["stop-first"]),void 0!==this.institution.strings["stop-last"]&&(i=this.institution.strings["stop-last"]),t&&(i&&(a=a.slice(0,-1*i)),a=a.slice(0,t)),r){var n=e.slice();t?s=t:a=[],s&&(n=n.slice(s)),n=n.slice(-1*r),a=a.concat(n)}e=a}return e},p.PublisherOutput=function(e,t){this.state=e,this.group_tok=t,this.varlist=[]},p.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},p.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var e=!1;"text"===this.group_tok.strings.and?e=this.state.getTerm("and"):"symbol"===this.group_tok.strings.and&&(e="&");var t=new p.Token;t.strings.suffix=" ",t.strings.prefix=" ",this.state.output.append(e,t,!0);var i=this.state.output.pop();t.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(e,t,!0);var r=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,e&&("always"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?this.and_blob.single=r:"never"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?(this.and_blob.single=i,this.and_blob.multiple=i):(this.and_blob.single=i,this.and_blob.multiple=r))},p.PublisherOutput.prototype.composeElements=function(){for(var e=0;e<2;e+=1)for(var t=["publisher","publisher-place"][e],i=0,r=this["publisher-list"].length;i<r;i+=1){var s=this[t+"-list"][i],a=this[t+"-token"];this.state.output.append(s,a,!0),this[t+"-list"][i]=this.state.output.pop()}},p.PublisherOutput.prototype.composePublishers=function(){for(var e,t=0,i=this["publisher-list"].length;t<i;t+=1)e=[this[this.varlist[0]+"-list"][t],this[this.varlist[1]+"-list"][t]],this["publisher-list"][t]=this._join(e,this.group_tok.strings.delimiter)},p.PublisherOutput.prototype.joinPublishers=function(){var e=this["publisher-list"],t=this._join(e,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok);this.state.output.append(t,"literal")},p.PublisherOutput.prototype._join=p.NameOutput.prototype._join,p.PublisherOutput.prototype._getToken=p.NameOutput.prototype._getToken,p.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},p.evaluateLabel=function(e,t,i,r){var s;"locator"===e.strings.term?(r&&r.label&&(s="sub verbo"===r.label?"sub-verbo":r.label),s||(s="page")):s=e.strings.term;var a=e.strings.plural;if("number"!=typeof a){var n=r&&"locator"===e.strings.term?r:i;n[e.strings.term]&&(t.processNumber(!1,n,e.strings.term,i.type),a=t.tmp.shadow_numbers[e.strings.term].plural,t.tmp.shadow_numbers[e.strings.term].labelForm||t.tmp.shadow_numbers[e.strings.term].labelDecorations||(e.strings.form?t.tmp.shadow_numbers[e.strings.term].labelForm=e.strings.form:t.tmp.group_context.tip.label_form&&(t.tmp.shadow_numbers[e.strings.term].labelForm=t.tmp.group_context.tip.label_form),t.tmp.shadow_numbers[e.strings.term].labelCapitalizeIfFirst=e.strings.capitalize_if_first,t.tmp.shadow_numbers[e.strings.term].labelDecorations=e.decorations.slice()),["locator","number","page"].indexOf(e.strings.term)>-1&&t.tmp.shadow_numbers[e.strings.term].label&&(s=t.tmp.shadow_numbers[e.strings.term].label),e.decorations&&t.opt.development_extensions.csl_reverse_lookup_support&&(e.decorations.reverse(),e.decorations.push(["@showid","true",e.cslid]),e.decorations.reverse()))}return p.castLabel(t,e,s,a,p.TOLERANT)},p.castLabel=function(e,t,i,r,s){var a=t.strings.form,n=t.strings.capitalize_if_first;e.tmp.group_context.tip.label_form&&("static"===a?e.tmp.group_context.tip.label_static=!0:a=e.tmp.group_context.tip.label_form),e.tmp.group_context.tip.label_capitalize_if_first&&(n=e.tmp.group_context.tip.label_capitalize_if_first);var o=e.getTerm(i,a,r,!1,s,t.default_locale);if(n&&(o=p.Output.Formatters["capitalize-first"](e,o)),e.tmp.strip_periods)o=o.replace(/\./g,"");else for(var l=0,m=t.decorations.length;l<m;l+=1)if("@strip-periods"===t.decorations[l][0]&&"true"===t.decorations[l][1]){o=o.replace(/\./g,"");break}return o},p.Node.name={build:function(e,t){var i,r;[p.SINGLETON,p.START].indexOf(this.tokentype)>-1&&(void 0===e.tmp.root?(r=void 0,e.tmp.root="citation"):r=e.tmp.root,e.inheritOpt(this,"et-al-subsequent-min")&&e.inheritOpt(this,"et-al-subsequent-min")!==e.inheritOpt(this,"et-al-min")&&(e.opt.update_mode=p.POSITION),e.inheritOpt(this,"et-al-subsequent-use-first")&&e.inheritOpt(this,"et-al-subsequent-use-first")!==e.inheritOpt(this,"et-al-use-first")&&(e.opt.update_mode=p.POSITION),e.tmp.root=r,i=function(e){e.tmp.etal_term="et-al",e.tmp.name_delimiter=e.inheritOpt(this,"delimiter","name-delimiter",", "),e.tmp["delimiter-precedes-et-al"]=e.inheritOpt(this,"delimiter-precedes-et-al"),"text"===e.inheritOpt(this,"and")?this.and_term=e.getTerm("and","long",0):"symbol"===e.inheritOpt(this,"and")&&(e.opt.development_extensions.expect_and_symbol_form?this.and_term=e.getTerm("and","symbol",0):this.and_term="&"),e.tmp.and_term=this.and_term,p.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof e.tmp.name_delimiter&&(this.and_prefix_multiple=e.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===e.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=e.tmp.name_delimiter:"never"===e.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):"after-inverted-name"===e.inheritOpt(this,"delimiter-precedes-last")&&(this.and_prefix_single&&(this.and_prefix_single=e.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},e.inheritOpt(this,"and")?(e.output.append(this.and_term,"empty",!0),this.and.single=e.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,e.output.append(this.and_term,"empty",!0),this.and.multiple=e.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):e.tmp.name_delimiter&&(this.and.single=new p.Blob(e.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new p.Blob(e.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},e.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="…",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=e.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new p.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new p.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),void 0===e.tmp["et-al-min"]&&(e.tmp["et-al-min"]=e.inheritOpt(this,"et-al-min")),void 0===e.tmp["et-al-use-first"]&&(e.tmp["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first")),void 0===e.tmp["et-al-use-last"]&&(e.tmp["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last")),e.nameOutput.name=this},e.build.name_flag=!0,this.execs.push(i));t.push(this)}},p.Node["name-part"]={build:function(e){e.build[this.strings.name]=this}},p.Node.names={build:function(e,t){var i;if(this.tokentype!==p.START&&this.tokentype!==p.SINGLETON||(p.Util.substituteStart.call(this,e,t),e.build.substitute_level.push(1)),this.tokentype===p.SINGLETON){for(var r in e.build.names_variables[e.build.names_variables.length-1].concat(this.variables),this.variables){var s=this.variables[r],a=e.build.name_label[e.build.name_label.length-1];Object.keys(a).length&&(a[s]=a[Object.keys(a)[0]])}i=function(e){e.nameOutput.reinit(this,this.variables_real[0])},this.execs.push(i)}if(this.tokentype===p.START&&(e.build.names_flag=!0,e.build.name_flag=!1,e.build.names_level+=1,e.build.names_variables.push(this.variables),e.build.name_label.push({}),i=function(e){e.tmp.can_substitute.push(!0),e.tmp.name_node={},e.tmp.name_node.children=[],e.nameOutput.init(this)},this.execs.push(i)),this.tokentype===p.END){for(r=0;r<3;r+=1){var n=["family","given","et-al"][r];this[n]=e.build[n],1===e.build.names_level&&(e.build[n]=void 0)}this.label=e.build.name_label[e.build.name_label.length-1],e.build.names_level+=-1,e.build.names_variables.pop(),e.build.name_label.pop(),i=function(e){e.tmp.etal_node?this.etal_style=e.tmp.etal_node:this.etal_style="empty",this.etal_term=e.getTerm(e.tmp.etal_term,"long",0),this.etal_prefix_single=" ",this.etal_prefix_multiple=e.tmp.name_delimiter,"always"===e.tmp["delimiter-precedes-et-al"]?this.etal_prefix_single=e.tmp.name_delimiter:"never"===e.tmp["delimiter-precedes-et-al"]?this.etal_prefix_multiple=" ":"after-inverted-name"===e.tmp["delimiter-precedes-et-al"]&&(this.etal_prefix_single=e.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix="",p.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)||(" "===this.etal_prefix_single&&(this.etal_prefix_single="")," "===this.etal_prefix_multiple&&(this.etal_prefix_multiple="")," "===this.etal_suffix&&(this.etal_suffix=""));for(var t=0;t<3;t+=1){var i=["family","given"][t];e.nameOutput[i]=this[i]}e.nameOutput.with=this.with;var r="with",s="",a="";p.STARTSWITH_ROMANESQUE_REGEXP.test(r)&&(s=" ",a=" ");var n={};n.single=new p.Blob(r),n.single.strings.suffix=a,n.multiple=new p.Blob(r),n.multiple.strings.suffix=a,"always"===e.inheritOpt(e.nameOutput.name,"delimiter-precedes-last")?(n.single.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter"),n.multiple.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter")):"contextual"===e.inheritOpt(e.nameOutput.name,"delimiter-precedes-last")?(n.single.strings.prefix=s,n.multiple.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter")):"after-inverted-name"===e.inheritOpt(e.nameOutput.name,"delimiter-precedes-last")?(n.single.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter"),n.multiple.strings.prefix=s):(n.single.strings.prefix=s,n.multiple.strings.prefix=s),e.nameOutput.with=n,e.nameOutput.label=this.label,e.nameOutput.etal_style=this.etal_style,e.nameOutput.etal_term=this.etal_term,e.nameOutput.etal_prefix_single=this.etal_prefix_single,e.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,e.nameOutput.etal_suffix=this.etal_suffix,e.nameOutput.outputNames(),e.tmp["et-al-use-first"]=void 0,e.tmp["et-al-min"]=void 0,e.tmp["et-al-use-last"]=void 0},this.execs.push(i),i=function(e){e.tmp.can_substitute.pop()||e.tmp.can_substitute.replace(!1,p.LITERAL),1===e.tmp.can_substitute.mystack.length&&(e.tmp.can_block_substitute=!1)},this.execs.push(i),e.build.name_flag=!1}t.push(this),this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||(e.build.substitute_level.pop(),p.Util.substituteEnd.call(this,e,t))}},p.Node.number={build:function(e,t){var i;p.Util.substituteStart.call(this,e,t),"roman"===this.strings.form?this.formatter=e.fun.romanizer:"ordinal"===this.strings.form?this.formatter=e.fun.ordinalizer:"long-ordinal"===this.strings.form&&(this.formatter=e.fun.long_ordinalizer),void 0===this.successor_prefix&&(this.successor_prefix=e[e.build.area].opt.layout_delimiter),void 0===this.splice_prefix&&(this.splice_prefix=e[e.build.area].opt.layout_delimiter),i=function(e,t,i){if(0!==this.variables.length){var r;if(r=this.variables[0],void 0===i)i={};if(["locator","locator-extra"].indexOf(r)>-1){if(e.tmp.just_looking)return;if(!i[r])return}else if(!t[r])return;"collection-number"===r&&"legal_case"===t.type&&(e.tmp.renders_collection_number=!0);var s=this;if(e.tmp.group_context.tip.force_suppress)return!1;if(["locator","locator-extra"].indexOf(r)>-1?e.processNumber.call(e,s,i,r,t.type):(!e.tmp.group_context.tip.condition&&t[r]&&(e.tmp.just_did_number=(""+t[r]).match(/[0-9]$/)),e.processNumber.call(e,s,t,r,t.type)),this.substring){var a=t[r].slice(this.substring);e.output.append(a,s)}else p.Util.outputNumericField(e,r,t.id);["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!e.tmp.just_looking&&(e.tmp.done_vars.push(this.variables_real[0]),e.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}},this.execs.push(i),t.push(this),p.Util.substituteEnd.call(this,e,t)}},p.Node.sort={build:function(e,t){if(t=e[e.build.root+"_sort"].tokens,this.tokentype===p.START){"citation"===e.build.area&&(e.opt.sort_citations=!0),e.build.area=e.build.root+"_sort",e.build.extension="_sort";var i=function(e,t){if(e.opt.has_layout_locale){for(var i,r=p.localeResolve(t.language,e.opt["default-locale"][0]),s=e[e.tmp.area.slice(0,-5)].opt.sort_locales,a=0,n=s.length;a<n&&((i=s[a][r.bare])||(i=s[a][r.best]),!i);a+=1);i||(i=e.opt["default-locale"][0]),e.tmp.lang_sort_hold=e.opt.lang,e.opt.lang=i}};this.execs.push(i)}if(this.tokentype===p.END){e.build.area=e.build.root,e.build.extension="";i=function(e){e.opt.has_layout_locale&&(e.opt.lang=e.tmp.lang_sort_hold,delete e.tmp.lang_sort_hold)};this.execs.push(i)}t.push(this)}},p.Node.substitute={build:function(e,t){var i;if(this.tokentype===p.START){var r=new p.Token("choose",p.START);p.Node.choose.build.call(r,e,t);var s=new p.Token("if",p.SINGLETON);i=function(){return!(!e.tmp.value.length||e.tmp.common_term_match_fail)},s.tests=[i],s.test=e.fun.match.any(s,e,s.tests),t.push(s),i=function(e){e.tmp.can_block_substitute=!0,e.tmp.value.length&&!e.tmp.common_term_match_fail&&e.tmp.can_substitute.replace(!1,p.LITERAL),e.tmp.common_term_match_fail=!1},this.execs.push(i),t.push(this)}if(this.tokentype===p.END){t.push(this);var a=new p.Token("choose",p.END);p.Node.choose.build.call(a,e,t)}}},p.Node.text={build:function(e,t){var i,r,s,a,n,o,l,m,u,c,h;if(this.postponed_macro){var f=p.Util.cloneToken(this);f.name="group",f.tokentype=p.START,p.Node.group.build.call(f,e,t),p.expandMacro.call(e,this,t);var d=p.Util.cloneToken(this);d.name="group",d.tokentype=p.END,"juris-locator-label"===this.postponed_macro&&(d.isJurisLocatorLabel=!0),p.Node.group.build.call(d,e,t)}else{if(p.Util.substituteStart.call(this,e,t),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),r="long",s=0,this.strings.form&&(r=this.strings.form),this.strings.plural&&(s=this.strings.plural),"citation-number"===this.variables_real[0]||"year-suffix"===this.variables_real[0]||"citation-label"===this.variables_real[0])"citation-number"===this.variables_real[0]?("citation"===e.build.root&&(e.opt.update_mode=p.NUMERIC),"bibliography"===e.build.root&&(e.opt.bib_mode=p.NUMERIC),"citation-number"===e[e.tmp.area].opt.collapse&&(this.range_prefix=e.getTerm("citation-range-delimiter")),this.successor_prefix=e[e.build.area].opt.layout_delimiter,this.splice_prefix=e[e.build.area].opt.layout_delimiter,i=function(e,t,i){if(a=""+t.id,!e.tmp.just_looking){if("_sort"===e.tmp.area.slice(-5)&&"citation-number"===this.variables[0]){if("bibliography_sort"===e.tmp.area&&e.tmp.group_context.tip.done_vars.push("citation-number"),"citation_sort"===e.tmp.area&&e.bibliography_sort.tmp.citation_number_map)var r=e.bibliography_sort.tmp.citation_number_map[e.registry.registry[t.id].seq];else r=e.registry.registry[t.id].seq;return r&&(r=p.Util.padding(""+r)),void e.output.append(r,this)}i&&i["author-only"]&&e.tmp.element_trace.replace("suppress-me"),r="bibliography_sort"!==e.tmp.area&&e.bibliography_sort.tmp.citation_number_map&&e.bibliography_sort.opt.citation_number_sort_direction===p.DESCENDING?e.bibliography_sort.tmp.citation_number_map[e.registry.registry[a].seq]:e.registry.registry[a].seq,e.opt.citation_number_slug?e.output.append(e.opt.citation_number_slug,this):(o=new p.NumericBlob(e,!1,r,this,t.id),e.tmp.in_cite_predecessor&&(o.suppress_splice_prefix=!0),e.output.append(o,"literal"))}},this.execs.push(i)):"year-suffix"===this.variables_real[0]?(e.opt.has_year_suffix=!0,"year-suffix-ranged"===e[e.tmp.area].opt.collapse&&(this.range_prefix=e.getTerm("citation-range-delimiter")),this.successor_prefix=e[e.build.area].opt.layout_delimiter,e[e.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=e[e.build.area].opt["year-suffix-delimiter"]),i=function(e,t){if(e.registry.registry[t.id]&&!1!==e.registry.registry[t.id].disambig.year_suffix&&!e.tmp.just_looking){n=parseInt(e.registry.registry[t.id].disambig.year_suffix,10),e[e.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=e[e.tmp.area].opt.cite_group_delimiter),o=new p.NumericBlob(e,!1,n,this,t.id),l=new p.Util.Suffixator(p.SUFFIX_CHARS),o.setFormatter(l),e.output.append(o,"literal"),m=!1;for(var i=0,r=e.tmp.group_context.mystack.length;i<r;i++){var s=e.tmp.group_context.mystack[i];if(!s.variable_success&&(s.variable_attempt||!s.variable_attempt&&!s.term_intended)){m=!0;break}}u=e[e.tmp.area].opt["year-suffix-delimiter"],m&&u&&!e.tmp.sort_key_flag&&(e.tmp.splice_delimiter=e[e.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(i)):"citation-label"===this.variables_real[0]&&("bibliography"===e.build.root&&(e.opt.bib_mode=p.TRIGRAPH),e.opt.has_year_suffix=!0,i=function(e,t){(c=t["citation-label"])||(c=e.getCitationLabel(t)),e.tmp.just_looking||(h="",e.registry.registry[t.id]&&!1!==e.registry.registry[t.id].disambig.year_suffix&&(n=parseInt(e.registry.registry[t.id].disambig.year_suffix,10),h=e.fun.suffixator.format(n)),c+=h),e.output.append(c,this)},this.execs.push(i));else if(this.strings.term)i=function(e,t){var i,a=e.opt.gender[t.type],n=this.strings.term;if(""!==(n=e.getTerm(n,r,s,a,p.TOLERANT,this.default_locale))&&(e.tmp.group_context.tip.term_intended=!0),p.UPDATE_GROUP_CONTEXT_CONDITION(e,n,null,this),i=e.tmp.term_predecessor||"in-text"===e.opt.class&&"citation"===e.tmp.area?n:p.Output.Formatters["capitalize-first"](e,n),e.tmp.strip_periods)i=i.replace(/\./g,"");else for(var o=0,l=this.decorations.length;o<l;o+=1)if("@strip-periods"===this.decorations[o][0]&&"true"===this.decorations[o][1]){i=i.replace(/\./g,"");break}e.output.append(i,this),e.tmp.can_block_substitute&&e.tmp.can_substitute.replace(!1,p.LITERAL)},this.execs.push(i),e.build.term=!1,e.build.form=!1,e.build.plural=!1;else if(this.variables_real.length){if(i=function(e,t){"locator"!==this.variables_real[0]&&(e.tmp.have_collapsed=!1),!e.tmp.group_context.tip.condition&&t[this.variables[0]]&&(e.tmp.just_did_number=!1);var i=t[this.variables[0]];i&&!e.tmp.group_context.tip.condition&&((""+i).slice(-1).match(/[0-9]/)?e.tmp.just_did_number=!0:e.tmp.just_did_number=!1)},this.execs.push(i),p.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||this.variables_real[0].indexOf("-main")>-1||this.variables_real[0].indexOf("-sub")>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var g=this.variables[0],b=!1,v=!1,y=!1;"short"===r?"-short"!==this.variables_real[0].slice(-6)&&(v=this.variables_real[0]+"-short"):g=!1,e.build.extension?y=!0:(y=!0,b=!0),i=e.transform.getOutputFunction(this.variables,g,b,v,y)}else i=p.CITE_FIELDS.indexOf(this.variables_real[0])>-1?function(e,t,i){i&&i[this.variables[0]]&&(e.processNumber(this,i,this.variables[0],t.type),p.Util.outputNumericField(e,this.variables[0],t.id),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!e.tmp.just_looking&&e.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?function(e,t){e.processNumber(this,t,this.variables[0],t.type),p.Util.outputNumericField(e,this.variables[0],t.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?function(e,t){var i;if(this.variables[0]&&(i=e.getVariable(t,this.variables[0],r)))if("URL"===this.variables[0]&&"short"===r&&(i=i.replace(/(.*\.[^\/]+)\/.*/,"$1")).match(/\/\/www\./)&&(i=i.replace(/https?:\/\//,"")),e.opt.development_extensions.wrap_url_and_doi)if(this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0])e.output.append(i,this,!1,!1,!0);else{var s=p.Util.cloneToken(this),a=new p.Blob(null,null,"url-wrapper");if(a.decorations.push(["@DOI","true"]),"DOI"===this.variables_real[0]){var n;this.strings.prefix&&this.strings.prefix.match(/^.*https:\/\/doi\.org\/$/)&&(n=(i=i.replace(/^https?:\/\/doi\.org\//,"")).match(/^https?:\/\//)?"":"https://doi.org/",s.strings.prefix=this.strings.prefix.slice(0,s.strings.prefix.length-16));var o=new p.Blob(n),l=new p.Blob(i);a.push(o),a.push(l),e.output.append(a,s,!1,!1,!0)}else{l=new p.Blob(i);a.push(l),e.output.append(a,s,!1,!1,!0)}}else{if(this.decorations.length)for(var m=this.decorations.length-1;m>-1;m--)this.decorations[m][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,m).concat(this.decorations.slice(m+1)));e.output.append(i,this,!1,!1,!0)}}:"section"===this.variables_real[0]?function(e,t){var i;(i=e.getVariable(t,this.variables[0],r))&&e.output.append(i,this)}:"hereinafter"===this.variables_real[0]?function(e,t){var i=e.transform.abbrevs.default.hereinafter[t.id];i&&(e.output.append(i,this),e.tmp.group_context.tip.variable_success=!0)}:function(e,t){var i;this.variables[0]&&(i=e.getVariable(t,this.variables[0],r))&&(i=(i=""+i).split("\\").join(""),e.output.append(i,this))};this.execs.push(i)}else this.strings.value&&(i=function(e){e.tmp.group_context.tip.term_intended=!0,p.UPDATE_GROUP_CONTEXT_CONDITION(e,this.strings.value,!0,this),e.output.append(this.strings.value,this),e.tmp.can_block_substitute&&e.tmp.can_substitute.replace(!1,p.LITERAL)},this.execs.push(i));t.push(this),p.Util.substituteEnd.call(this,e,t)}}},p.Node.intext={build:function(e,t){if(this.tokentype===p.START){e.build.area="intext",e.build.root="intext",e.build.extension="";this.execs.push((function(e,t){e.tmp.area="intext",e.tmp.root="intext",e.tmp.extension=""}))}this.tokentype===p.END&&(e.intext_sort={opt:{sort_directions:e.citation_sort.opt.sort_directions}},e.intext.srt=e.citation.srt),t.push(this)}},p.Attributes={},p.Attributes["@disambiguate"]=function(e,t){if(this.tests||(this.tests=[]),"true"===t){e.opt.has_disambiguate=!0;var i=function(t){if("bibliography"===e.tmp.area){if(e.tmp.disambiguate_count<e.registry.registry[t.id].disambig.disambiguate)return e.tmp.disambiguate_count+=1,!0}else if(e.tmp.disambiguate_maxMax+=1,e.tmp.disambig_settings.disambiguate&&e.tmp.disambiguate_count<e.tmp.disambig_settings.disambiguate)return e.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(i)}else if("check-ambiguity-and-backreference"===t){i=function(t){return!!(e.registry.registry[t.id].disambig.disambiguate&&e.registry.registry[t.id]["citation-count"]>1)};this.tests.push(i)}},p.Attributes["@is-numeric"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(t){return function(i,r){var s=i;if(r&&["locator","locator-extra"].indexOf(t)>-1&&(s=r),!s[t])return!1;if(p.NUMERIC_VARIABLES.indexOf(t)>-1){if(e.tmp.shadow_numbers[t]||e.processNumber(!1,s,t,i.type),e.tmp.shadow_numbers[t].numeric)return!0}else if(["title","version"].indexOf(t)>-1&&s[t].slice(-1)===""+parseInt(s[t].slice(-1),10))return!0;return!1}},s=0;s<i.length;s+=1)this.tests.push(r(i[s]))},p.Attributes["@is-uncertain-date"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(e){return function(t){return!(!t[e]||!t[e].circa)}},s=0,a=i.length;s<a;s+=1)this.tests.push(r(i[s]))},p.Attributes["@locator"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.replace("sub verbo","sub-verbo"),r=function(t){return function(i,r){var s;return e.processNumber(!1,r,"locator"),!(!(s=e.tmp.shadow_numbers.locator.label)||t!==s)}},s=0,a=(i=i.split(/\s+/)).length;s<a;s+=1)this.tests.push(r(i[s]))},p.Attributes["@position"]=function(e,t){this.tests||(this.tests=[]),e.opt.update_mode=p.POSITION;for(var i=t.split(/\s+/),r=function(e,t){return!!(t&&p.POSITION_MAP[t.position]>=p.POSITION_MAP[p.POSITION_SUBSEQUENT]&&t["near-note"])},s=function(e,t){return!(!t||p.POSITION_MAP[t.position]!=p.POSITION_MAP[p.POSITION_SUBSEQUENT]||t["near-note"])},a=function(t){return function(i,r){if("bibliography"===e.tmp.area)return!1;if(r&&void 0===r.position&&(r.position=0),r&&"number"==typeof r.position){if(0===r.position&&0===t)return!0;if(t>0&&p.POSITION_MAP[r.position]>=p.POSITION_MAP[t])return!0}else if(0===t)return!0;return!1}},n=0,o=i.length;n<o;n+=1){var l;"first"===(l=i[n])?l=p.POSITION_FIRST:"container-subsequent"===l?l=p.POSITION_CONTAINER_SUBSEQUENT:"subsequent"===l?l=p.POSITION_SUBSEQUENT:"ibid"===l?l=p.POSITION_IBID:"ibid-with-locator"===l&&(l=p.POSITION_IBID_WITH_LOCATOR),"near-note"===l?this.tests.push(r):"far-note"===l?this.tests.push(s):this.tests.push(a(l))}},p.Attributes["@type"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(e){return function(t){return!!(t.type===e)}},s=[],a=0,n=i.length;a<n;a+=1)s.push(r(i[a]));this.tests.push(e.fun.match.any(this,e,s))},p.Attributes["@variable"]=function(e,t){var i;if(this.tests||(this.tests=[]),this.variables=t.split(/\s+/),this.variables_real=this.variables.slice(),"label"===this.name&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)i=function(e,t,i){for(var r=this.variables.length-1;r>-1;r+=-1)this.variables.pop();r=0;for(var s=this.variables_real.length;r<s;r++)-1===e.tmp.done_vars.indexOf(this.variables_real[r])&&this.variables.push(this.variables_real[r]),e.tmp.can_block_substitute&&e.tmp.done_vars.push(this.variables_real[r])},this.execs.push(i),i=function(e,t,i){for(var r=!1,s=0,a=this.variables.length;s<a;s++){var n=this.variables[s];if(["authority","committee"].indexOf(n)>-1&&"string"==typeof t[n]&&"names"===this.name){var o=!0,l=t[n].split(/\s*;\s*/),m={};if(t.multi&&t.multi._keys[n])for(var u in t.multi._keys[n])if(m[u]=t.multi._keys[n][u].split(/\s*;\s*/),m[u].length!==l.length){o=!1;break}o||(l=[t[n]],m=t.multi._keys[n]);for(var c=0,h=l.length;c<h;c++){var f={literal:l[c],multi:{_key:{}}};for(var u in m){var d={literal:m[u][c]};f.multi._key[u]=d}l[c]=f}t[n]=l}if("short"!==this.strings.form||t[n]||("title"===n?n="title-short":"container-title"===n&&(n="container-title-short")),"year-suffix"===n){r=!0;break}if(p.DATE_VARIABLES.indexOf(n)>-1){if(e.opt.development_extensions.locator_date_and_revision&&"locator-date"===n){r=!0;break}if(t[n]){for(var g in t[n])if((-1!==this.dateparts.indexOf(g)||"literal"===g)&&t[n][g]){r=!0;break}if(r)break}}else{if("locator"===n){i&&i.locator&&(r=!0);break}if("locator-extra"===n){i&&i["locator-extra"]&&(r=!0);break}if(["citation-number","citation-label"].indexOf(n)>-1){r=!0;break}if("first-reference-note-number"===n){i&&i["first-reference-note-number"]&&(r=!0);break}if("first-container-reference-note-number"===n){i&&i["first-container-reference-note-number"]&&(r=!0);break}if("hereinafter"===n){e.transform.abbrevs.default.hereinafter[t.id]&&e.sys.getAbbreviation&&t.id&&(r=!0);break}if("object"==typeof t[n])break;if("string"==typeof t[n]&&t[n]){r=!0;break}if("number"==typeof t[n]){r=!0;break}}if(r)break}if(r){for(s=0,a=this.variables_real.length;s<a;s++){"citation-number"===(n=this.variables_real[s])&&"bibliography"===e.tmp.area||(e.tmp.cite_renders_content=!0),e.tmp.group_context.tip.variable_success=!0,e.tmp.can_substitute.value()&&"bibliography"===e.tmp.area&&"string"==typeof t[n]&&(e.tmp.name_node.top=e.output.current.value(),e.tmp.rendered_name.push(t[n]))}e.tmp.can_substitute.replace(!1,p.LITERAL)}else e.tmp.group_context.tip.variable_attempt=!0},this.execs.push(i);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var r=function(t){return function(i,r){var s=i;if(r&&["locator","locator-extra","first-reference-note-number","first-container-reference-note-number","locator-date"].indexOf(t)>-1&&(s=r),"hereinafter"===t&&e.sys.getAbbreviation&&s.id){if(e.transform.abbrevs.default.hereinafter[s.id])return!0}else if(s[t]){if("number"==typeof s[t]||"string"==typeof s[t])return!0;if("object"==typeof s[t])for(var a in s[t])if(s[t][a])return!0}return!1}},s=0,a=this.variables.length;s<a;s+=1)this.tests.push(r(this.variables[s]))},p.Attributes["@page"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.replace("sub verbo","sub-verbo"),r=function(t){return function(i){var r;return e.processNumber(!1,i,"page",i.type),r=e.tmp.shadow_numbers.page.label?"sub verbo"===e.tmp.shadow_numbers.page.label?"sub-verbo":e.tmp.shadow_numbers.page.label:"page",e.tmp.shadow_numbers.page.values.length>0&&e.tmp.shadow_numbers.page.values[0].gotosleepability&&(e.tmp.shadow_numbers.page.values[0].labelVisibility=!1),t===r}},s=0,a=(i=i.split(/\s+/)).length;s<a;s+=1)this.tests.push(r(i[s]))},p.Attributes["@number"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(t){return function(i){var r;return e.processNumber(!1,i,"number",i.type),r=e.tmp.shadow_numbers.number.label?e.tmp.shadow_numbers.number.label:"number",t===r}},s=0,a=i.length;s<a;s+=1)this.tests.push(r(i[s]))},p.Attributes["@jurisdiction"]=function(e,t){this.tests||(this.tests=[]);var i=t.split(/\s+/);this.tests.push(function(e){return function(t){if(!t.jurisdiction)return!1;for(var i=t.jurisdiction,r=0,s=e.length;r<s;r++)if(i===e[r])return!0;return!1}}(i))},p.Attributes["@country"]=function(e,t){this.tests||(this.tests=[]);var i=t.split(/\s+/);this.tests.push(function(e){return function(t){if(!t.country)return!1;for(var i=t.country,r=0,s=e.length;r<s;r++)if(i===e[r])return!0;return!1}}(i))},p.Attributes["@context"]=function(e,t){this.tests||(this.tests=[]);this.tests.push((function(){return["bibliography","citation"].indexOf(t)>-1?e.tmp.area.slice(0,t.length)===t:"alternative"===t?!!e.tmp.abort_alternative:void 0}))},p.Attributes["@has-year-only"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(e){return function(t){var i=t[e];return!(!i||i.month||i.season)}},s=0,a=i.length;s<a;s+=1)this.tests.push(r(i[s]))},p.Attributes["@has-to-month-or-season"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(e){return function(t){var i=t[e];return!(!i||!i.month&&!i.season||i.day)}},s=0,a=i.length;s<a;s+=1)this.tests.push(r(i[s]))},p.Attributes["@has-day"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(e){return function(t){var i=t[e];return!(!i||!i.day)}},s=0,a=i.length;s<a;s+=1)this.tests.push(r(i[s]))},p.Attributes["@is-plural"]=function(e,t){this.tests||(this.tests=[]);this.tests.push((function(i){var r=i[t];if(r&&r.length){for(var s=0,a=0,n=!1,o=0,l=r.length;o<l;o+=1)e.opt.development_extensions.spoof_institutional_affiliations&&(r[o].literal||r[o].isInstitution&&r[o].family&&!r[o].given)?(a+=1,n=!1):(s+=1,n=!0);if(s>1)return!0;if(a>1)return!0;if(a&&n)return!0}return!1}))},p.Attributes["@is-multiple"]=function(e,t){this.tests||(this.tests=[]);this.tests.push((function(e){return(""+e[t]).split(/(?:,\s|\s(?:tot\sen\smet|līdz|oraz|and|bis|έως|και|och|až|do|en|et|in|ir|ja|og|sa|to|un|und|és|și|i|u|y|à|e|a|и|-|–)\s|—|\&)/).length>1}))},p.Attributes["@locale"]=function(e,t){var i,r,s;this.tests||(this.tests=[]);var a=e.opt["default-locale"][0];if("layout"===this.name){if(this.locale_raw=t,this.tokentype===p.START){e.opt.multi_layout||(e.opt.multi_layout=[]);var n=[],o=t.split(/\s+/),l={},m=p.localeResolve(o[0],a);n.push(m),m.generic?l[m.generic]=m.best:l[m.best]=m.best;for(var u=1,c=o.length;u<c;u+=1){var h=p.localeResolve(o[u],a);n.push(h),h.generic?l[h.generic]=m.best:l[h.best]=m.best}e[e.build.area].opt.sort_locales.push(l),e.opt.multi_layout.push(n)}e.opt.has_layout_locale=!0}else{s=t.split(/\s+/);var f=[];for(u=0,c=s.length;u<c;u+=1)r=s[u],i=p.localeResolve(r,a),2===s[u].length&&f.push(i.bare),e.localeConfigure(i,!0),s[u]=i;var d=s.slice();this.tests.push(function(t,i,r){return function(s){var a;[],a=!1;var n,o;for(o=s.language?s.language:i,n=p.localeResolve(o,i),u=0,c=t.length;u<c;u+=1)if(n.best===t[u].best){e.tmp.condition_lang_counter_arr.push(e.tmp.condition_counter),e.tmp.condition_lang_val_arr.push(e.opt.lang),e.opt.lang=t[0].best,a=!0;break}return!a&&r.indexOf(n.bare)>-1&&(e.tmp.condition_lang_counter_arr.push(e.tmp.condition_counter),e.tmp.condition_lang_val_arr.push(e.opt.lang),e.opt.lang=t[0].best,a=!0),a}}(d,a,f))}},p.Attributes["@alternative-node-internal"]=function(e){this.tests||(this.tests=[]);this.tests.push((function(){return!e.tmp.abort_alternative}))},p.Attributes["@locale-internal"]=function(e,t){var i,r,s,a,n;for(this.tests||(this.tests=[]),s=t.split(/\s+/),this.locale_bares=[],a=0,n=s.length;a<n;a+=1)r=s[a],i=p.localeResolve(r,e.opt["default-locale"][0]),2===s[a].length&&this.locale_bares.push(i.bare),e.localeConfigure(i),s[a]=i;this.locale_default=e.opt["default-locale"][0],this.locale=s[0].best,this.locale_list=s.slice();this.tests.push(function(t){return function(i){var s;s=!1;var o=!1;if(i.language&&(r=i.language,(o=p.localeResolve(r,e.opt["default-locale"][0])).best===e.opt["default-locale"][0]&&(o=!1)),o){for(a=0,n=t.locale_list.length;a<n;a+=1)if(o.best===t.locale_list[a].best){e.opt.lang=t.locale,e.tmp.last_cite_locale=t.locale,e.output.openLevel("empty"),e.output.current.value().new_locale=t.locale,s=!0;break}!s&&t.locale_bares.indexOf(o.bare)>-1&&(e.opt.lang=t.locale,e.tmp.last_cite_locale=t.locale,e.output.openLevel("empty"),e.output.current.value().new_locale=t.locale,s=!0)}return s}}(this))},p.Attributes["@court-class"]=function(e,t){this.tests||(this.tests=[]);for(var i=t.split(/\s+/),r=function(t){return function(i){return p.GET_COURT_CLASS(e,i)===t}},s=0,a=i.length;s<a;s++)this.tests.push(r(i[s]))},p.Attributes["@container-multiple"]=function(e,t){this.tests||(this.tests=[]);var i="true"===t;this.tests.push(function(t){return function(i){return e.tmp.container_item_count[i.container_id]&&e.tmp.container_item_count[i.container_id]>1?t:!t}}(i))},p.Attributes["@container-subsequent"]=function(e,t){this.tests||(this.tests=[]);var i="true"===t;this.tests.push(function(t){return function(i){return e.tmp.container_item_pos[i.container_id]>1?t:!t}}(i))},p.Attributes["@has-subunit"]=function(e,t){this.tests||(this.tests=[]);var i;this.tests.push((i=t,function(e){var t=0;for(var r in e[i]){var s=e[i][r];if(!s.given){var a=(s.literal?s.literal:s.family).split("|").length;(0===t||a<t)&&(t=a)}}return t>1}))},p.Attributes["@cite-form"]=function(e,t){this.tests||(this.tests=[]);var i;this.tests.push((i=t,function(e){return e["cite-form"]===i}))},p.Attributes["@disable-duplicate-year-suppression"]=function(e,t){e.opt.disable_duplicate_year_suppression=t.split(/\s+/)},p.Attributes["@consolidate-containers"]=function(e,t){p.Attributes["@track-containers"](e,t);var i=t.split(/\s+/);e.bibliography.opt.consolidate_containers=i},p.Attributes["@track-containers"]=function(e,t){var i=t.split(/\s+/);e.bibliography.opt.track_container_items||(e.bibliography.opt.track_container_items=[]),e.bibliography.opt.consolidate_containers||(e.bibliography.opt.consolidate_containers=[]),e.bibliography.opt.track_container_items=e.bibliography.opt.track_container_items.concat(i)},p.Attributes["@parallel-first"]=function(e,t){e.opt.parallel.enable=!0;var i=t.split(/\s+/);for(var r in e.opt.track_repeat||(e.opt.track_repeat={}),this.parallel_first={},i){var s=i[r];this.parallel_first[s]=!0,e.opt.track_repeat[s]=!0}},p.Attributes["@parallel-last"]=function(e,t){e.opt.parallel.enable=!0;var i=t.split(/\s+/);for(var r in e.opt.track_repeat||(e.opt.track_repeat={}),this.parallel_last={},i){var s=i[r];this.parallel_last[s]=!0,e.opt.track_repeat[s]=!0}},p.Attributes["@parallel-last-to-first"]=function(e,t){e.opt.parallel.enable=!0;var i=t.split(/\s+/);this.parallel_last_to_first={};for(var r=0,s=i.length;r<s;r++)this.parallel_last_to_first[i[r]]=!0},p.Attributes["@parallel-delimiter-override"]=function(e,t){e.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override=t},p.Attributes["@parallel-delimiter-override-on-suppress"]=function(e,t){e.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override_on_suppress=t},p.Attributes["@no-repeat"]=function(e,t){e.opt.parallel.enable=!0;var i=t.split(/\s+/);for(var r in e.opt.track_repeat||(e.opt.track_repeat={}),this.non_parallel={},i){var s=i[r];this.non_parallel[s]=!0,e.opt.track_repeat[s]=!0}},p.Attributes["@require"]=function(e,t){e.opt.use_context_condition=!0,this.strings.require=t},p.Attributes["@reject"]=function(e,t){e.opt.use_context_condition=!0,this.strings.reject=t},p.Attributes["@require-comma-on-symbol"]=function(e,t){e.opt.require_comma_on_symbol=t},p.Attributes["@gender"]=function(e,t){this.gender=t},p.Attributes["@cslid"]=function(e,t){this.cslid=parseInt(t,10)},p.Attributes["@capitalize-if-first"]=function(e,t){this.strings.capitalize_if_first_override=t},p.Attributes["@label-capitalize-if-first"]=function(e,t){this.strings.label_capitalize_if_first_override=t},p.Attributes["@label-form"]=function(e,t){this.strings.label_form_override=t},p.Attributes["@part-separator"]=function(e,t){this.strings["part-separator"]=t},p.Attributes["@leading-noise-words"]=function(e,t){this["leading-noise-words"]=t},p.Attributes["@name-never-short"]=function(e,t){this["name-never-short"]=t},p.Attributes["@class"]=function(e,t){e.opt.class=t},p.Attributes["@version"]=function(e,t){e.opt.version=t},p.Attributes["@value"]=function(e,t){this.strings.value=t},p.Attributes["@name"]=function(e,t){this.strings.name=t},p.Attributes["@form"]=function(e,t){this.strings.form=t},p.Attributes["@date-parts"]=function(e,t){this.strings["date-parts"]=t},p.Attributes["@range-delimiter"]=function(e,t){this.strings["range-delimiter"]=t},p.Attributes["@macro"]=function(e,t){this.postponed_macro=t},p.Attributes["@term"]=function(e,t){this.strings.term="sub verbo"===t?"sub-verbo":t},p.Attributes["@xmlns"]=function(){},p.Attributes["@lang"]=function(e,t){t&&(e.build.lang=t)},p.Attributes["@lingo"]=function(){},p.Attributes["@macro-has-date"]=function(){this["macro-has-date"]=!0},p.Attributes["@suffix"]=function(e,t){this.strings.suffix=t},p.Attributes["@prefix"]=function(e,t){this.strings.prefix=t},p.Attributes["@delimiter"]=function(e,t){this.strings.delimiter=t},p.Attributes["@match"]=function(e,t){this.match=t},p.Attributes["@names-min"]=function(e,t){var i=parseInt(t,10);e[e.build.area].opt.max_number_of_names<i&&(e[e.build.area].opt.max_number_of_names=i),this.strings["et-al-min"]=i},p.Attributes["@names-use-first"]=function(e,t){this.strings["et-al-use-first"]=parseInt(t,10)},p.Attributes["@names-use-last"]=function(e,t){this.strings["et-al-use-last"]="true"===t},p.Attributes["@sort"]=function(e,t){"descending"===t&&(this.strings.sort_direction=p.DESCENDING)},p.Attributes["@plural"]=function(e,t){"always"===t||"true"===t?this.strings.plural=1:"never"===t||"false"===t?this.strings.plural=0:"contextual"===t&&(this.strings.plural=!1)},p.Attributes["@has-publisher-and-publisher-place"]=function(){this.strings["has-publisher-and-publisher-place"]=!0},p.Attributes["@publisher-delimiter-precedes-last"]=function(e,t){this.strings["publisher-delimiter-precedes-last"]=t},p.Attributes["@publisher-delimiter"]=function(e,t){this.strings["publisher-delimiter"]=t},p.Attributes["@publisher-and"]=function(e,t){this.strings["publisher-and"]=t},p.Attributes["@givenname-disambiguation-rule"]=function(e,t){p.GIVENNAME_DISAMBIGUATION_RULES.indexOf(t)>-1&&(e.citation.opt["givenname-disambiguation-rule"]=t)},p.Attributes["@collapse"]=function(e,t){t&&(e[this.name].opt.collapse=t)},p.Attributes["@cite-group-delimiter"]=function(e,t){t&&(e[e.tmp.area].opt.cite_group_delimiter=t)},p.Attributes["@names-delimiter"]=function(e,t){e.setOpt(this,"names-delimiter",t)},p.Attributes["@name-form"]=function(e,t){e.setOpt(this,"name-form",t)},p.Attributes["@subgroup-delimiter"]=function(e,t){this.strings["subgroup-delimiter"]=t},p.Attributes["@subgroup-delimiter-precedes-last"]=function(e,t){this.strings["subgroup-delimiter-precedes-last"]=t},p.Attributes["@name-delimiter"]=function(e,t){e.setOpt(this,"name-delimiter",t)},p.Attributes["@et-al-min"]=function(e,t){var i=parseInt(t,10);e[e.build.area].opt.max_number_of_names<i&&(e[e.build.area].opt.max_number_of_names=i),e.setOpt(this,"et-al-min",i)},p.Attributes["@et-al-use-first"]=function(e,t){e.setOpt(this,"et-al-use-first",parseInt(t,10))},p.Attributes["@et-al-use-last"]=function(e,t){"true"===t?e.setOpt(this,"et-al-use-last",!0):e.setOpt(this,"et-al-use-last",!1)},p.Attributes["@et-al-subsequent-min"]=function(e,t){var i=parseInt(t,10);e[e.build.area].opt.max_number_of_names<i&&(e[e.build.area].opt.max_number_of_names=i),e.setOpt(this,"et-al-subsequent-min",i)},p.Attributes["@et-al-subsequent-use-first"]=function(e,t){e.setOpt(this,"et-al-subsequent-use-first",parseInt(t,10))},p.Attributes["@suppress-min"]=function(e,t){this.strings["suppress-min"]=parseInt(t,10)},p.Attributes["@suppress-max"]=function(e,t){this.strings["suppress-max"]=parseInt(t,10)},p.Attributes["@and"]=function(e,t){e.setOpt(this,"and",t)},p.Attributes["@delimiter-precedes-last"]=function(e,t){e.setOpt(this,"delimiter-precedes-last",t)},p.Attributes["@delimiter-precedes-et-al"]=function(e,t){e.setOpt(this,"delimiter-precedes-et-al",t)},p.Attributes["@initialize-with"]=function(e,t){e.setOpt(this,"initialize-with",t)},p.Attributes["@initialize"]=function(e,t){"false"===t&&e.setOpt(this,"initialize",!1)},p.Attributes["@name-as-reverse-order"]=function(e,t){this["name-as-reverse-order"]=t},p.Attributes["@name-as-sort-order"]=function(e,t){"style-options"===this.name?this["name-as-sort-order"]=t:e.setOpt(this,"name-as-sort-order",t)},p.Attributes["@sort-separator"]=function(e,t){e.setOpt(this,"sort-separator",t)},p.Attributes["@require-match"]=function(e,t){"true"===t&&(this.requireMatch=!0)},p.Attributes["@exclude-types"]=function(e,t){e.bibliography.opt.exclude_types=t.split(/\s+/)},p.Attributes["@exclude-with-fields"]=function(e,t){e.bibliography.opt.exclude_with_fields=t.split(/\s+/)},p.Attributes["@year-suffix-delimiter"]=function(e,t){e[this.name].opt["year-suffix-delimiter"]=t},p.Attributes["@after-collapse-delimiter"]=function(e,t){e[this.name].opt["after-collapse-delimiter"]=t},p.Attributes["@subsequent-author-substitute"]=function(e,t){e[this.name].opt["subsequent-author-substitute"]=t},p.Attributes["@subsequent-author-substitute-rule"]=function(e,t){e[this.name].opt["subsequent-author-substitute-rule"]=t},p.Attributes["@disambiguate-add-names"]=function(e,t){"true"===t&&(e.opt["disambiguate-add-names"]=!0)},p.Attributes["@disambiguate-add-givenname"]=function(e,t){"true"===t&&(e.opt["disambiguate-add-givenname"]=!0)},p.Attributes["@disambiguate-add-year-suffix"]=function(e,t){"true"===t&&"numeric"!==e.opt.xclass&&(e.opt["disambiguate-add-year-suffix"]=!0)},p.Attributes["@second-field-align"]=function(e,t){"flush"!==t&&"margin"!==t||(e[this.name].opt["second-field-align"]=t)},p.Attributes["@hanging-indent"]=function(e,t){"true"===t&&(e.opt.development_extensions.hanging_indent_legacy_number?e[this.name].opt.hangingindent=2:e[this.name].opt.hangingindent=!0)},p.Attributes["@line-spacing"]=function(e,t){t&&t.match(/^[.0-9]+$/)&&(e[this.name].opt["line-spacing"]=parseFloat(t,10))},p.Attributes["@entry-spacing"]=function(e,t){t&&t.match(/^[.0-9]+$/)&&(e[this.name].opt["entry-spacing"]=parseFloat(t,10))},p.Attributes["@near-note-distance"]=function(e,t){e[this.name].opt["near-note-distance"]=parseInt(t,10)},p.Attributes["@substring"]=function(e,t){this.substring=parseInt(t,10)},p.Attributes["@text-case"]=function(e,t){this.execs.push((function(e,i){"normal"===t?this.text_case_normal=!0:(this.strings["text-case"]=t,"title"===t&&i.jurisdiction&&(this.strings["text-case"]="passthrough"))}))},p.Attributes["@page-range-format"]=function(e,t){e.opt["page-range-format"]=t},p.Attributes["@year-range-format"]=function(e,t){e.opt["year-range-format"]=t},p.Attributes["@default-locale"]=function(e,t){if("style"===this.name){var i,r,s,a,n;if(n=t.match(/-x-(sort|translit|translat)-/g))for(s=0,r=n.length;s<r;s+=1)n[s]=n[s].replace(/^-x-/,"").replace(/-$/,"");for(a=[(i=t.split(/-x-(?:sort|translit|translat)-/))[0]],s=1,r=i.length;s<r;s+=1)a.push(n[s-1]),a.push(i[s]);for(r=(i=a.slice()).length,s=1;s<r;s+=2)e.opt["locale-"+i[s]].push(i[s+1].replace(/^\s*/g,"").replace(/\s*$/g,""));i.length?e.opt["default-locale"]=i.slice(0,1):e.opt["default-locale"]=["en"]}else"true"===t&&(this.default_locale=!0)},p.Attributes["@default-locale-sort"]=function(e,t){e.opt["default-locale-sort"]=t},p.Attributes["@demote-non-dropping-particle"]=function(e,t){e.opt["demote-non-dropping-particle"]=t},p.Attributes["@initialize-with-hyphen"]=function(e,t){"false"===t&&(e.opt["initialize-with-hyphen"]=!1)},p.Attributes["@institution-parts"]=function(e,t){this.strings["institution-parts"]=t},p.Attributes["@if-short"]=function(e,t){"true"===t&&(this.strings["if-short"]=!0)},p.Attributes["@substitute-use-first"]=function(e,t){this.strings["substitute-use-first"]=parseInt(t,10)},p.Attributes["@use-first"]=function(e,t){this.strings["use-first"]=parseInt(t,10)},p.Attributes["@use-last"]=function(e,t){this.strings["use-last"]=parseInt(t,10)},p.Attributes["@stop-first"]=function(e,t){this.strings["stop-first"]=parseInt(t,10)},p.Attributes["@stop-last"]=function(e,t){this.strings["stop-last"]=-1*parseInt(t,10)},p.Attributes["@reverse-order"]=function(e,t){"true"===t&&(this.strings["reverse-order"]=!0)},p.Attributes["@display"]=function(e,t){2===e.bibliography.tokens.length&&(e.opt.using_display=!0),this.strings.cls=t},p.Stack=function(e,t){this.mystack=[],(t||e)&&this.mystack.push(e),this.tip=this.mystack[0]},p.Stack.prototype.push=function(e,t){t||e?this.mystack.push(e):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]},p.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},p.Stack.prototype.replace=function(e,t){0===this.mystack.length&&p.error("Internal CSL processor error: attempt to replace nonexistent stack item with "+e),this.mystack[this.mystack.length-1]=t||e?e:"",this.tip=this.mystack[this.mystack.length-1]},p.Stack.prototype.pop=function(){var e=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},e},p.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]},p.Stack.prototype.length=function(){return this.mystack.length},p.Parallel=function(e){this.state=e},p.Parallel.prototype.StartCitation=function(e,t){if(this.state.tmp.suppress_repeats=[],!(e.length<2)){for(var i=0,r=!1,s=[],a=0,n=e.length-1;a<n;a++){var o=e[a][0],l=e[a+1][0],m=!1,u={};if(e[a][0].seeAlso&&e[a][0].seeAlso.length>0&&!r){m=!0;var p=(r=[e[a][0].id].concat(e[a][0].seeAlso)).slice(),c=e.slice(a);c[0][1].parallel="first";for(var h=0,f=c.length;h<f;h++){var d=c[h][0].id,g=p.indexOf(d);if(i=!1,-1===g?i=a+h-1:a+h===e.length-1&&(i=a+h),i){s.push([a,i]);break}p=p.slice(0,g).concat(p.slice(g+1))}}for(var b in a>0&&m&&(this.state.tmp.suppress_repeats[a-1].START=!0,m=!1),this.state.opt.track_repeat)if(o[b]&&l[b])if("string"==typeof l[b]||"number"==typeof l[b]){if("title"===b&&o["title-short"]&&l["title-short"])var v=o["title-short"],y=l["title-short"];else v=o[b],y=l[b];u[b]=v==y}else if(void 0===o[b].length){u[b]=!1;var _=o[b].year,x=l[b].year;_&&x&&_==x&&(u[b]=!0)}else{v=JSON.stringify(o[b]),y=JSON.stringify(l[b]);u[b]=v===y}else u[b]=!1;r||(u.ORPHAN=!0),i===a&&(u.END=!0,r=!1),this.state.tmp.suppress_repeats.push(u)}for(h=0,f=s.length;h<f;h++){var E=e[s[h][0]][0].id;this.state.registry.registry[E].master=!0,this.state.registry.registry[E].siblings=[];for(var O=s[h][0],A=s[h][1],w=O;w<A;w++){this.state.tmp.suppress_repeats[w].SIBLING=!0;var T=e[w+1][0].id;e[w+1][1].parallel="other",this.state.registry.registry[E].siblings.push(T)}}}},p.Parallel.prototype.checkRepeats=function(e){var t=this.state.tmp.cite_index;if(this.state.tmp.suppress_repeats){if(e.parallel_first&&Object.keys(e.parallel_first).length>0){var i=[{}].concat(this.state.tmp.suppress_repeats),r=!0;for(var s in e.parallel_first)i[t][s]&&!i[t].START||(r=!1);return r}if(e.parallel_last&&Object.keys(e.parallel_last).length>0){i=this.state.tmp.suppress_repeats.concat([{}]),r=Object.keys(e.parallel_last).length>0;for(var s in e.parallel_last)i[t][s]&&!i[t].END||(r=!1);return r}if(e.non_parallel&&Object.keys(e.non_parallel).length>0){i=[{}].concat(this.state.tmp.suppress_repeats),r=!0;for(var s in e.non_parallel)i[t][s]||(r=!1);return r}}return!1},p.Util={},p.Util.Match=function(){this.any=function(e,t,i){return function(e,t){for(var r=0,s=i.length;r<s;r+=1){if(i[r](e,t))return!0}return!1}},this.none=function(e,t,i){return function(e,t){for(var r=0,s=i.length;r<s;r+=1){if(i[r](e,t))return!1}return!0}},this.all=function(e,t,i){return function(e,t){for(var r=0,s=i.length;r<s;r+=1){if(!i[r](e,t))return!1}return!0}},this[void 0]=this.all,this.nand=function(e,t,i){return function(e,t){for(var r=0,s=i.length;r<s;r+=1){if(!i[r](e,t))return!0}return!1}}},p.Transform=function(e){function t(t,i,r){var s="";return e.sys.getHumanForm&&("country"===t?s=(s=e.sys.getHumanForm(i.toLowerCase(),!1,!0)).split("|")[0]:"jurisdiction"===t&&(s=e.sys.getHumanForm(i.toLowerCase(),!1,!0),s=r?"":s.split("|").slice(1).join(", "))),s}function i(e,i,r,s,a,n,o){var l,m="",u=p.FIELD_CATEGORY_REMAP[n];if(!u)return a;var c=n,h=a;e.sys.normalizeAbbrevsKey&&(h=e.sys.normalizeAbbrevsKey(n,a));var f=!1;if("jurisdiction"===c&&h&&(f=-1===h.indexOf(":")),["jurisdiction","country"].indexOf(n)>-1&&a===a.toLowerCase()&&(h=a.toUpperCase()),e.sys.getAbbreviation){l=["jurisdiction","country","language-name","language-name-original"].indexOf(c)>-1?"default":r.jurisdiction?r.jurisdiction:"default";var d=e.transform.loadAbbreviation(l,u,h,r.language);if(e.transform.abbrevs[d][u]&&h){var g=e.transform.abbrevs[d][u][h];m="short"===i.strings.form&&g?f?"":g:t(c,h,f)}}return m||e.opt.development_extensions.require_explicit_legal_case_title_short&&"legal_case"===r.type||!s||!r[s]||!o||(m=r[s]),m||e.sys.getAbbreviation||!e.sys.getHumanForm||(m=t(c,h,f)),m||f||e.sys.getHumanForm&&"jurisdiction"===c||(m=a),e.opt.development_extensions.force_title_abbrev_fallback&&"title"===c&&m===a&&r["title-short"]&&(m=r["title-short"]),m}function r(t,i){var r,s=e.opt["default-locale"][0].slice(0,2);if(r=e.opt.development_extensions.strict_text_case_locales?new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),t.language){var a=(""+t.language).match(r);s=a?a[1]:"tlh"}return t.multi&&t.multi&&t.multi.main&&t.multi.main[i]&&(s=t.multi.main[i]),e.opt.development_extensions.strict_text_case_locales&&!e.opt.development_extensions.normalize_lang_keys_to_lowercase||(s=s.toLowerCase()),s}function s(t,i,s,a,n,o){var l,m,u,c,h=n,f=!1;if(!t[i])return{name:"",usedOrig:n,token:p.Util.cloneToken(this)};var d=!1;p.VARIABLES_WITH_SHORT_FORM.indexOf(i)>-1&&o&&(i+="-short",d=!0);var g=!1,b=null,v=[];"-short"===i.slice(-6)?(v.push(i),v.push(i.slice(0,-6))):v.push(i);for(var y=0,_=v.length;y<_;y++){var x=!1;u={name:"",usedOrig:n,locale:r(t,i=v[y])},c=e.opt[s]?e.opt[s].slice():[];var E=!1;if("locale-orig"===s?(n||(u.name=t[i],u.usedOrig=!1),E=!0,f=!0):!a||void 0!==c&&0!==c.length||(u.name=t[i],u.usedOrig=!0,E=!0,f=!0),!E){for(var O=0,A=c.length;O<A;O+=1){if(m=(l=c[O]).split(/[\-_]/)[0],l&&t.multi&&t.multi._keys[i]&&t.multi._keys[i][l]){u.name=t.multi._keys[i][l],u.locale=l,E=!0,x=!0,f=!1;break}if(m&&t.multi&&t.multi._keys[i]&&t.multi._keys[i][m]){u.name=t.multi._keys[i][m],u.locale=m,E=!0,x=!0,f=!1;break}}!u.name&&a&&(u={name:t[i],usedOrig:!0,locale:r(t,i)},f=!0)}if(u.token=p.Util.cloneToken(this),0===y?(x&&(u.found_variant_ok=!0),b=u,d||void 0!==c&&0!==c.length||(g=!0),x&&(g=!0)):d||x||!b?x&&(u.found_variant_ok=!0):(u=b,i=v[0]),["title","container-title"].indexOf(i)>-1&&!(h||u.token.strings["text-case"]&&"sentence"!==u.token.strings["text-case"]&&"normal"!==u.token.strings["text-case"])){var w;e.opt.lang;w=!f&&u.locale;var T=i.slice(0,-5),k="sentence"===u.token.strings["text-case"];u.name=p.titlecaseSentenceOrNormal(e,t,T,w,k),delete u.token.strings["text-case"]}if(g)break}return u}function a(t,r,s,a){var n=t.variables[0];if(e.publisherOutput&&s){if(-1===["publisher","publisher-place"].indexOf(n))return!1;e.publisherOutput[n+"-token"]=t,e.publisherOutput.varlist.push(n);var o=s.split(/;\s*/);o.length===e.publisherOutput[n+"-list"].length&&(e.publisherOutput[n+"-list"]=o);for(var l=0,m=o.length;l<m;l+=1)o[l]=i(e,t,r,!1,o[l],a,!0);return e.tmp[n+"-token"]=t,!0}return!1}function n(t,i){var r=i.match(/^(?:#[0-9]+)*(?:!((?:[-_a-z]+(?:(?:.*)))(?:,(?:[-_a-z]+(?:(?:.*))))*))*>>>/);if(r&&(i=i.slice(r[0].length),r[1]))for(var s=r[1].split(","),a=0,n=s.length;a<n;a+=1){var o=s[a].match(/^([-_a-z]+)(?:\:(.*))*$/),l=o[1],m=e.tmp.abbrev_trimmer;o[2]?m&&t&&(m[t]||(m[t]={}),m[t][l]=o[2]):-1===e.tmp.done_vars.indexOf(l)&&(m&&t&&(m.QUASHES[t]||(m.QUASHES[t]={}),m.QUASHES[t][l]=!0),e.tmp.done_vars.push(l))}return i}this.abbrevs={},this.abbrevs.default=new e.sys.AbbreviationSegments,this.getTextSubField=s,this.loadAbbreviation=function(t,i,r,s){t||(t="default");var a=t.split(":")[0],n=p.getAbbrevsDomain(e,a,s);return n&&(t+="@"+n),r?(e.sys.getAbbreviation&&((t=e.sys.getAbbreviation(e.opt.styleID,e.transform.abbrevs,t,i,r))||(t="default",n&&(t+="@"+n))),t):(e.transform.abbrevs[t]||(e.transform.abbrevs[t]=new e.sys.AbbreviationSegments),e.transform.abbrevs[t][i]||(e.transform.abbrevs[t][i]={}),t)},this.quashCheck=n,this.getOutputFunction=function(t,r,o,l){var m,u=p.LangPrefsMap[t[0]];return m=!!u&&e.opt["cite-lang-prefs"][u],function(e,o,c){var h,f,d,g,b,v;if(!t[0]||!o[t[0]]&&!o[l])return null;if(!e.tmp.just_looking&&c&&c["suppress-author"]&&!e.tmp.probably_rendered_something&&e.tmp.can_substitute.length()>1)return null;var y={primary:!1,secondary:!1,tertiary:!1};if("_sort"===e.tmp.area.slice(-5))y.primary="locale-sort";else if(m&&1===m.length&&"locale-orig"===m[0])y.primary="locale-orig",m=!1;else if(m&&!e.tmp.multi_layout)for(var _=["primary","secondary","tertiary"],x=0,E=_.length;x<E&&!(m.length-1<x);x+=1)m[x]&&(y[_[x]]="locale-"+m[x]);else y.primary="locale-orig";if("title-short"!==t[0]&&("bibliography"===e.tmp.area||"citation"===e.tmp.area&&"note"===e.opt.xclass&&c&&!c.position)||(y.secondary=!1,y.tertiary=!1),e.tmp.multi_layout&&(y.secondary=!1,y.tertiary=!1),e.tmp["publisher-list"])return"publisher"===t[0]?e.tmp["publisher-token"]=this:"publisher-place"===t[0]&&(e.tmp["publisher-place-token"]=this),null;var O=e.tmp.lang_array.slice(),A=s.call(this,o,t[0],y.primary,!0,null,r);h=A.name,f=A.locale;var w,T,k,S=A.token,I=A.usedOrig;if(r&&!A.found_variant_ok&&(h=i(e,S,o,l,h,r,!0))&&(!function(e,t){var i=t.match(/^#([0-9]+).*>>>/);i&&i[1]&&(e["cite-form"]=i[1])}(o,h),e.tmp.just_looking||(h=n(o.jurisdiction,h))),a(this,o,h,r))return e.tmp.lang_array=O,null;if(d=!1,b=!1,y.secondary&&(d=(A=s.call(this,o,t[0],y.secondary,!1,A.usedOrig,null,r)).name,g=A.locale,w=A.token,r&&!A.found_variant_ok&&d&&(d=i(e,w,o,!1,d,r,!0))),y.tertiary&&(b=(A=s.call(this,o,t[0],y.tertiary,!1,A.usedOrig,null,r)).name,v=A.locale,T=A.token,r&&!A.found_variant_ok&&b&&(b=i(e,T,o,!1,b,r,!0))),"locale-translit"===y.primary&&(k=e.opt.citeAffixes[u][y.primary].prefix),"<i>"===k&&"title"===t[0]&&!I){var N=!1;for(x=0,E=S.decorations.length;x<E;x+=1)"@font-style"===S.decorations[x][0]&&"italic"===S.decorations[x][1]&&(N=!0);N||S.decorations.push(["@font-style","italic"])}if("en"!==f&&"title"===S.strings["text-case"]&&(S.strings["text-case"]="passthrough"),"title"===t[0]&&(h=p.demoteNoiseWords(e,h,this["leading-noise-words"])),d||b){if(e.output.openLevel("empty"),S.strings.suffix=S.strings.suffix.replace(/[ .,]+$/,""),f&&(e.tmp.lang_array=[f].concat(O)),p.UPDATE_GROUP_CONTEXT_CONDITION(e,null,null,S,S.strings.prefix+h),e.output.append(h,S),e.tmp.probably_rendered_something=!0,h===d&&(d=!1),d){w.strings.prefix=e.opt.citeAffixes[u][y.secondary].prefix,w.strings.suffix=e.opt.citeAffixes[u][y.secondary].suffix,w.strings.prefix||(w.strings.prefix=" ");for(x=w.decorations.length-1;x>-1;x+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(w.decorations[x].join("/"))>-1&&(w.decorations=w.decorations.slice(0,x).concat(w.decorations.slice(x+1)));"en"!==g&&"title"===w.strings["text-case"]&&(w.strings["text-case"]="passthrough"),g&&(e.tmp.lang_array=[g].concat(O));var C=new p.Token;C.decorations.push(["@font-style","normal"]),C.decorations.push(["@font-weight","normal"]),e.output.openLevel(C),e.output.append(d,w),e.output.closeLevel();e.output.current.value(),e.output.current.value().blobs.length}if(h===b&&(b=!1),b){T.strings.prefix=e.opt.citeAffixes[u][y.tertiary].prefix,T.strings.suffix=e.opt.citeAffixes[u][y.tertiary].suffix,T.strings.prefix||(T.strings.prefix=" ");for(x=T.decorations.length-1;x>-1;x+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(T.decorations[x].join("/"))>-1&&(T.decorations=T.decorations.slice(0,x).concat(T.decorations.slice(x+1)));"en"!==v&&"title"===T.strings["text-case"]&&(T.strings["text-case"]="passthrough"),v&&(e.tmp.lang_array=[v].concat(O));var D=new p.Token;D.decorations.push(["@font-style","normal"]),D.decorations.push(["@font-weight","normal"]),e.output.openLevel(D),e.output.append(b,T),e.output.closeLevel();e.output.current.value(),e.output.current.value().blobs.length}e.output.closeLevel()}else f&&(e.tmp.lang_array=[f].concat(O)),p.UPDATE_GROUP_CONTEXT_CONDITION(e,null,null,S,S.strings.prefix+h),e.output.append(h,S),e.tmp.probably_rendered_something=!0;return e.tmp.lang_array=O,e.tmp.can_block_substitute&&e.tmp.name_node.children.push(e.output.current.value()),null}}},p.Token=function(e,t,i){this.name=e,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=t},p.Util.cloneToken=function(e){var t,i,r;if("string"==typeof e)return e;for(var s in t=new p.Token(e.name,e.tokentype),e.strings)e.strings.hasOwnProperty(s)&&(t.strings[s]=e.strings[s]);if(e.decorations)for(t.decorations=[],i=0,r=e.decorations.length;i<r;i+=1)t.decorations.push(e.decorations[i].slice());return e.variables&&(t.variables=e.variables.slice()),e.execs&&(t.execs=e.execs.slice(),e.tests&&(t.tests=e.tests.slice())),t},p.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},p.Blob=function(e,t,i){var r,s;if(this.levelname=i,t){for(var a in this.strings={prefix:"",suffix:""},t.strings)t.strings.hasOwnProperty(a)&&(this.strings[a]=t.strings[a]);for(this.decorations=[],r=void 0===t.decorations?0:t.decorations.length,s=0;s<r;s+=1)this.decorations.push(t.decorations[s].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];this.blobs="string"==typeof e?e:e?[e]:[],this.alldecor=[this.decorations]},p.Blob.prototype.push=function(e){"string"==typeof this.blobs?p.error("Attempt to push blob onto string object"):!1!==e&&(e.alldecor=e.alldecor.concat(this.alldecor),this.blobs.push(e))},p.NumericBlob=function(e,t,i,r,s){if(this.id=s,this.alldecor=[],this.num=i,this.particle=t,this.blobs=i.toString(),this.status=p.START,this.strings={},r){if(r.strings["text-case"]){var a=r.strings["text-case"];this.particle=p.Output.Formatters[a](e,this.particle),this.blobs=p.Output.Formatters[a](e,this.blobs)}this.gender=r.gender,this.decorations=r.decorations,this.strings.prefix=r.strings.prefix,this.strings.suffix=r.strings.suffix,this.strings["text-case"]=r.strings["text-case"],this.successor_prefix=r.successor_prefix,this.range_prefix=r.range_prefix,this.splice_prefix=r.splice_prefix,this.formatter=r.formatter,this.formatter||(this.formatter=new p.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))}else this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new p.Output.DefaultFormatter},p.NumericBlob.prototype.setFormatter=function(e){this.formatter=e,this.type=this.formatter.format(1)},p.Output.DefaultFormatter=function(){},p.Output.DefaultFormatter.prototype.format=function(e){return e.toString()},p.NumericBlob.prototype.checkNext=function(e,t){t?(this.status=p.START,"object"==typeof e&&(e.num===this.num+1?e.status=p.SUCCESSOR:e.status=p.SEEN)):e&&e.num&&this.type===e.type&&e.num===this.num+1?this.status===p.START||this.status===p.SEEN?e.status=p.SUCCESSOR:this.status!==p.SUCCESSOR&&this.status!==p.SUCCESSOR_OF_SUCCESSOR||(this.range_prefix?(e.status=p.SUCCESSOR_OF_SUCCESSOR,this.status=p.SUPPRESS):e.status=p.SUCCESSOR):(this.status===p.SUCCESSOR_OF_SUCCESSOR&&(this.status=p.END),"object"==typeof e&&(e.status=p.SEEN))},p.NumericBlob.prototype.checkLast=function(e){return(this.status===p.SEEN||e.num!==this.num-1&&this.status===p.SUCCESSOR)&&(this.status=p.SUCCESSOR,!0)},p.Util.fixDateNode=function(e,t,i){var r,s,a,n,o,l,m,u,p,c,h,f,d,g=this.cslXml.getAttributeValue(i,"lingo"),b=this.cslXml.getAttributeValue(i,"default-locale");if(this.build.date_key=!0,r=this.cslXml.getAttributeValue(i,"form"),g=b?this.opt["default-locale"][0]:this.cslXml.getAttributeValue(i,"lingo"),!this.getDate(r,b))return e;var v=this.cslXml.getAttributeValue(i,"date-parts");for(var y in s=this.cslXml.getAttributeValue(i,"variable"),u=this.cslXml.getAttributeValue(i,"prefix"),p=this.cslXml.getAttributeValue(i,"suffix"),f=this.cslXml.getAttributeValue(i,"display"),d=this.cslXml.getAttributeValue(i,"cslid"),a=this.cslXml.nodeCopy(this.getDate(r,b)),this.cslXml.setAttribute(a,"lingo",this.opt.lang),this.cslXml.setAttribute(a,"form",r),this.cslXml.setAttribute(a,"date-parts",v),this.cslXml.setAttribute(a,"cslid",d),this.cslXml.setAttribute(a,"variable",s),this.cslXml.setAttribute(a,"default-locale",b),u&&this.cslXml.setAttribute(a,"prefix",u),p&&this.cslXml.setAttribute(a,"suffix",p),f&&this.cslXml.setAttribute(a,"display",f),c=this.cslXml.children(a))n=c[y],"date-part"===this.cslXml.nodename(n)&&(o=this.cslXml.getAttributeValue(n,"name"),b&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(a,"date-part",o,"@default-locale","true"));for(var y in c=this.cslXml.children(i))if(n=c[y],"date-part"===this.cslXml.nodename(n))for(l in o=this.cslXml.getAttributeValue(n,"name"),h=this.cslXml.attributes(n))"@name"!==l&&(g&&g!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(l)>-1||(m=h[l],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(a,"date-part",o,l,m)));if("year"===this.cslXml.getAttributeValue(i,"date-parts"))this.cslXml.deleteNodeByNameAttribute(a,"month"),this.cslXml.deleteNodeByNameAttribute(a,"day");else if("year-month"===this.cslXml.getAttributeValue(i,"date-parts"))this.cslXml.deleteNodeByNameAttribute(a,"day");else if("month-day"===this.cslXml.getAttributeValue(i,"date-parts")){for(var _=this.cslXml.children(a),x=1,E=this.cslXml.numberofnodes(_);x<E;x++)if("year"===this.cslXml.getAttributeValue(_[x],"name")){this.cslXml.setAttribute(_[x-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(a,"year")}return this.cslXml.insertChildNodeAfter(e,i,t,a)},p.dateMacroAsSortKey=function(e,t){p.dateAsSortKey.call(this,e,t,!0)},p.dateAsSortKey=function(e,t,i){var r,s,a,n,o,l,m,u=this.variables[0],c="empty";if(i&&e.tmp.extension&&(c="macro-with-date"),void 0===(r=t[u])&&(r={"date-parts":[[0]]}),void 0===this.dateparts&&(this.dateparts=["year","month","day"]),r.raw?r=e.fun.dateparser.parseDateToArray(r.raw):r["date-parts"]&&(r=e.dateParseArray(r)),void 0===r&&(r={}),r.year)for(l=0,m=p.DATE_PARTS_INTERNAL.length;l<m;l+=1)if(a=0,"_end"===(n=s=p.DATE_PARTS_INTERNAL[l]).slice(-4)&&(n=n.slice(0,-4)),r[s]&&this.dateparts.indexOf(n)>-1&&(a=r[s]),"year"===s.slice(0,4)){var h="1";"-"===(o=p.Util.Dates[n].numeric(e,a))[0]&&(h="0",o=o.slice(1),o=9999-parseInt(o,10)),e.output.append(p.Util.Dates[s.slice(0,4)].numeric(e,h+o),c)}else(a=p.Util.Dates[n]["numeric-leading-zeros"](e,a))||(a="00"),e.output.append(a,c)},p.Engine.prototype.dateParseArray=function(e){var t,i,r,s;for(i in t={},e)if("date-parts"===i){(r=e["date-parts"]).length>1&&r[0].length!==r[1].length&&p.error("CSL data error: element mismatch in date range input."),s=["","_end"];for(var a=0,n=r.length;a<n;a+=1)for(var o=0,l=p.DATE_PARTS.length;o<l;o+=1)isNaN(parseInt(r[a][o],10))?t[p.DATE_PARTS[o]+s[a]]=void 0:t[p.DATE_PARTS[o]+s[a]]=parseInt(r[a][o],10)}else e.hasOwnProperty(i)&&("literal"===i&&"object"==typeof e.literal&&"string"==typeof e.literal.part?(p.debug("Warning: fixing up weird literal date value"),t.literal=e.literal.part):t[i]=e[i]);return t},p.Util.Names={},p.Util.Names.compareNamesets=p.NameOutput.prototype._compareNamesets,p.Util.Names.unInitialize=function(e,t){var i,r,s,a,n;if(!t)return"";for(s=t.split(/(?:\-|\s+)/),a=t.match(/(\-|\s+)/g),n="",i=0,r=s.length;i<r;i+=1)n+=s[i],i<r-1&&(n+=a[i]);return n},p.Util.Names.initializeWith=function(e,t,i,r){var s;if(!t)return"";if(i||(i=""),["Lord","Lady"].indexOf(t)>-1||!t.replace(/^(?:<[^>]+>)*/,"").match(p.STARTSWITH_ROMANESQUE_REGEXP)&&!i.match("%s"))return t;!1===e.opt["initialize-with-hyphen"]&&(t=t.replace(/\-/g," "));for(var a=(t=(t=t.replace(/\s*\-\s*/g,"-").replace(/\s+/g," ")).replace(/-([a-z])/g,"–$1")).length-2;a>-1;a+=-1)"."===t.slice(a,a+1)&&" "!==t.slice(a+1,a+2)&&(t=t.slice(0,a)+". "+t.slice(a+1));var n=p.Output.Formatters.nameDoppel.split(t),o=[];if(o=[n.strings[0]],0===n.tags.length){var l=o[0].match(/[^\.]+$/);l&&1===l[0].length&&l[0]!==l[0].toLowerCase()&&(o[0]+=".")}for(a=1,s=n.strings.length;a<s;a+=1)o.push(n.tags[a-1]),o.push(n.strings[a]);return(r?this.doNormalize(e,o,i):this.doInitialize(e,o,i)).replace(/\u2013([a-z])/g,"-$1")},p.Util.Names.notag=function(e){return e.replace(/^(?:<[^>]+>)*/,"")},p.Util.Names.mergetag=function(e,t,i){var r=t.match(/(?:-*<[^>]+>-*)/g);return r?(t=r.join(""),(r=i.match(/^(.*[^\s])*(\s+)$/))?(r[1]=r[1]?r[1]:"",i=r[1]+t+r[2]):i+=t,i):i},p.Util.Names.tagonly=function(e,t){var i=t.match(/(?:<[^>]+>)+/);return i?i.join(""):t},p.Util.Names.doNormalize=function(e,t,i){var r,s;i=i||"";var a=[];for(r=0,s=t.length;r<s;r+=1)this.notag(t[r]).length>1&&"."===this.notag(t[r]).slice(-1)?(t[r]=t[r].replace(/^(.*)\.(.*)$/,"$1$2"),a.push(!0)):1===t[r].length&&t[r].toUpperCase()===t[r]?a.push(!0):a.push(!1);for(r=0,s=t.length;r<s;r+=2)a[r]&&(r<t.length-2&&(t[r+1]=this.tagonly(e,t[r+1]),a[r+2]||(t[r+1]=this.tagonly(e,t[r+1])+" "),t[r+2].length>1?t[r+1]=i.replace(/\ufeff$/,"")+t[r+1]:t[r+1]=this.mergetag(e,t[r+1],i)),r===t.length-1&&(t[r]=t[r]+i));return t.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},p.Util.Names.doInitialize=function(e,t,i){var r,s,a,n,o,l,m;for(r=0,s=t.length;r<s;r+=2)if(m=t[r])if(!(a=m.match(p.NAME_INITIAL_REGEXP))&&!m.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&m.length>1&&i.match("%s")&&(a=m.match(/(.)(.*)/)),a&&a[2]&&a[3]&&(a[1]=a[1]+a[2],a[2]=""),a&&a[1].slice(0,1)===a[1].slice(0,1).toUpperCase()){var u="";if(a[2]){var c="";for(n=0,o=(l=a[2].split("")).length;n<o;n+=1){var h=l[n];if(h!==h.toUpperCase())break;c+=h}c.length<a[2].length&&(u=p.toLocaleLowerCase.call(e,c))}t[r]=a[1]+u,r<s-1?i.match("%s")?t[r]=i.replace("%s",t[r]):t[r+1].indexOf("-")>-1?t[r+1]=this.mergetag(e,t[r+1].replace("-",""),i)+"-":t[r+1]=this.mergetag(e,t[r+1],i):i.match("%s")?t[r]=i.replace("%s",t[r]):t.push(i)}else!m.match(p.ROMANESQUE_REGEXP)||a&&a[3]||(t[r]=" "+m);var f=t.join("");return f=f.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},p.Util.Names.getRawName=function(e){var t=[];return e.literal?t.push(e.literal):(e.given&&t.push(e.given),e.family&&t.push(e.family)),t.join(" ")},p.Util.Dates={},p.Util.Dates.year={},p.Util.Dates.year.long=function(e,t){return t||(t="boolean"==typeof t?"":0),t.toString()},p.Util.Dates.year.imperial=function(e,t,i){var r="";t||(t="boolean"==typeof t?"":0),i=i?"_end":"";var s=e.tmp.date_object["month"+i];for(s=s?""+s:"1";s.length<2;)s="0"+s;var a=e.tmp.date_object["day"+i];for(a=a?""+a:"1";a.length<2;)a="0"+a;var n,o,l=parseInt(t+s+a,10);if(l>=18680908&&l<19120730?(n="明治",o=1867):l>=19120730&&l<19261225?(n="大正",o=1911):l>=19261225&&l<19890108?(n="昭和",o=1925):l>=19890108&&(n="平成",o=1988),n&&o){var m=n;e.sys.normalizeAbbrevsKey&&(m=e.sys.normalizeAbbrevsKey("number",n)),e.transform.abbrevs.default.number[m]||e.transform.loadAbbreviation("default","number",m,null),e.transform.abbrevs.default.number[m]&&(n=e.transform.abbrevs.default.number[m]),r=n+(t-o)}return r},p.Util.Dates.year.short=function(e,t){if((t=t.toString())&&4===t.length)return t.substr(2)},p.Util.Dates.year.numeric=function(e,t){var i,r;for((r=(t=""+t).match(/([0-9]*)$/))?(i=t.slice(0,-1*r[1].length),t=r[1]):(i=t,t="");t.length<4;)t="0"+t;return i+t},p.Util.Dates.normalizeMonth=function(e,t){var i;if(e||(e=0),(e=""+e).match(/^[0-9]+$/)||(e=0),e=parseInt(e,10),t){var r={stub:"month-",num:e};if(r.num<1||r.num>24)r.num=0;else{for(;r.num>16;)r.num=r.num-4;r.num>12&&(r.stub="season-",r.num=r.num-12)}i=r}else(e<1||e>12)&&(e=0),i=e;return i},p.Util.Dates.month={},p.Util.Dates.month.numeric=function(e,t){return(t=p.Util.Dates.normalizeMonth(t))||(t=""),t},p.Util.Dates.month["numeric-leading-zeros"]=function(e,t){if(t=p.Util.Dates.normalizeMonth(t))for(t=""+t;t.length<2;)t="0"+t;else t="";return t},p.Util.Dates.month.long=function(e,t,i,r){var s=p.Util.Dates.normalizeMonth(t,!0);if(t=s.num){for(t=""+t;t.length<2;)t="0"+t;t=e.getTerm(s.stub+t,"long",0,0,!1,r)}else t="";return t},p.Util.Dates.month.short=function(e,t,i,r){var s=p.Util.Dates.normalizeMonth(t,!0);if(t=s.num){for(t=""+t;t.length<2;)t="0"+t;t=e.getTerm(s.stub+t,"short",0,0,!1,r)}else t="";return t},p.Util.Dates.day={},p.Util.Dates.day.numeric=function(e,t){return t.toString()},p.Util.Dates.day.long=p.Util.Dates.day.numeric,p.Util.Dates.day["numeric-leading-zeros"]=function(e,t){for(t||(t=0),t=t.toString();t.length<2;)t="0"+t;return t.toString()},p.Util.Dates.day.ordinal=function(e,t,i){return e.fun.ordinalizer.format(t,i)},p.Util.Sort={},p.Util.Sort.strip_prepositions=function(e){var t;return"string"==typeof e&&(t=e.match(/^(([aA]|[aA][nN]|[tT][hH][eE])\s+)/)),t&&(e=e.substr(t[1].length)),e},p.Util.substituteStart=function(e,t){var i,r,s,a,n,o,l;a=function(e,t,i){for(var r=0,s=this.decorations.length;r<s;r+=1)if("@strip-periods"===this.decorations[r][0]&&"true"===this.decorations[r][1]){e.tmp.strip_periods+=1;break}},this.execs.push(a),this.decorations&&e.opt.development_extensions.csl_reverse_lookup_support&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),l=["number","date","names"],("text"===this.name&&!this.postponed_macro||l.indexOf(this.name)>-1)&&(i=function(e,t,i){"author"===e.tmp.element_trace.value()||"names"===this.name?(!e.tmp.just_looking&&i&&i["author-only"]&&"intext"!==e.tmp.area&&e.tmp.probably_rendered_something&&e.tmp.element_trace.push("suppress-me"),!e.tmp.just_looking&&i&&i["suppress-author"]&&(e.tmp.probably_rendered_something||e.tmp.element_trace.push("suppress-me"))):"date"===this.name?!e.tmp.just_looking&&i&&i["author-only"]&&"intext"!==e.tmp.area&&e.tmp.probably_rendered_something&&e.tmp.element_trace.push("suppress-me"):!e.tmp.just_looking&&i&&i["author-only"]&&"intext"!==e.tmp.area?!e.tmp.probably_rendered_something&&e.tmp.can_block_substitute||e.tmp.element_trace.push("suppress-me"):i&&i["suppress-author"]&&e.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(i)),r=this.strings.cls,this.strings.cls=!1,0===e.build.render_nesting_level&&("bibliography"===e.build.area&&e.bibliography.opt["second-field-align"]?((s=new p.Token("group",p.START)).decorations=[["@display","left-margin"]],a=function(e,t){e.tmp.render_seen||(s.strings.first_blob=t.id,e.output.startTag("bib_first",s))},s.execs.push(a),t.push(s)):p.DISPLAY_CLASSES.indexOf(r)>-1&&((s=new p.Token("group",p.START)).decorations=[["@display",r]],a=function(e,t){s.strings.first_blob=t.id,e.output.startTag("bib_first",s)},s.execs.push(a),t.push(s)),e.build.cls=r),e.build.render_nesting_level+=1,1===e.build.substitute_level.value()&&(n=new p.Token("choose",p.START),p.Node.choose.build.call(n,e,t),a=function(){return!!e.tmp.can_substitute.value()},(o=new p.Token("if",p.START)).tests||(o.tests=[]),o.tests.push(a),o.test=e.fun.match.any(this,e,o.tests),t.push(o)),e.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(a=function(e,t,i){if(!e.tmp.just_looking&&!e.tmp.suppress_decorations){var r=new p.Token("text",p.START);r.decorations=[["@showid","true"]],e.output.startTag("variable_entry",r);var s=null;i&&(s=i.position),s||(s=0);var a=0;i&&i.noteIndex&&(a=i.noteIndex);var n=0;i&&i["first-reference-note-number"]&&(n=i["first-reference-note-number"]);var o=0;i&&i["first-container-reference-note-number"]&&(o=i["first-container-reference-note-number"]);var l=0;i&&i["citation-number"]&&(l=i["citation-number"]);var m=0;i&&i.index&&(m=i.index);var u={itemData:t,variableNames:this.variables,context:e.tmp.area,xclass:e.opt.xclass,position:["first","container-subsequent","subsequent","ibid","ibid-with-locator"][s],"note-number":a,"first-reference-note-number":n,"first-container-reference-note-number":o,"citation-number":l,index:m,mode:e.opt.mode};e.output.current.value().params=u}},this.execs.push(a))},p.Util.substituteEnd=function(e,t){var i,r,s,a,n,o;if(e.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(i=function(e){e.tmp.just_looking||e.tmp.suppress_decorations||e.output.endTag("variable_entry")},this.execs.push(i)),i=function(e){for(var t=0,i=this.decorations.length;t<i;t+=1)if("@strip-periods"===this.decorations[t][0]&&"true"===this.decorations[t][1]){e.tmp.strip_periods+=-1;break}},this.execs.push(i),e.build.render_nesting_level+=-1,0===e.build.render_nesting_level&&(e.build.cls?(i=function(e){e.output.endTag("bib_first")},this.execs.push(i),e.build.cls=!1):"bibliography"===e.build.area&&e.bibliography.opt["second-field-align"]&&(i=function(e){e.tmp.render_seen||e.output.endTag("bib_first")},(r=new p.Token("group",p.END)).execs.push(i),t.push(r),(s=new p.Token("group",p.START)).decorations=[["@display","right-inline"]],i=function(e){e.tmp.render_seen||(e.tmp.render_seen=!0,e.output.startTag("bib_other",s))},s.execs.push(i),t.push(s))),1===e.build.substitute_level.value()&&(a=new p.Token("if",p.END),t.push(a),n=new p.Token("choose",p.END),p.Node.choose.build.call(n,e,t)),"names"===this.name||"text"===this.name&&"title"!==this.variables_real){new p.Token("text",p.SINGLETON);var l=this.name;i=function(e,t){if("bibliography"===e.tmp.area&&"string"==typeof e.bibliography.opt["subsequent-author-substitute"]&&(!this.variables_real||t[this.variables_real])&&(!this.variables_real||"names"!==l)){var i,r,s=e.bibliography.opt["subsequent-author-substitute-rule"];if(!e.tmp.suppress_decorations&&e.tmp.subsequent_author_substitute_ok&&e.tmp.rendered_name){if("partial-each"===s||"partial-first"===s){var a=!0,n=[];for(i=0,r=e.tmp.name_node.children.length;i<r;i+=1){var m=e.tmp.rendered_name[i];a&&e.tmp.last_rendered_name&&e.tmp.last_rendered_name.length>i-1&&m&&!m.localeCompare(e.tmp.last_rendered_name[i])?(o=new p.Blob(e[e.tmp.area].opt["subsequent-author-substitute"]),e.tmp.name_node.children[i].blobs=[o],"partial-first"===s&&(a=!1)):a=!1,n.push(m)}e.tmp.last_rendered_name=n}else if("complete-each"===s){if(n=e.tmp.rendered_name.join(",")){if(e.tmp.last_rendered_name&&!n.localeCompare(e.tmp.last_rendered_name))for(i=0,r=e.tmp.name_node.children.length;i<r;i+=1)o=new p.Blob(e[e.tmp.area].opt["subsequent-author-substitute"]),e.tmp.name_node.children[i].blobs=[o];e.tmp.last_rendered_name=n}}else{(n=e.tmp.rendered_name.join(","))&&(e.tmp.last_rendered_name&&!n.localeCompare(e.tmp.last_rendered_name)&&(o=new p.Blob(e[e.tmp.area].opt["subsequent-author-substitute"]),e.tmp.label_blob?e.tmp.name_node.top.blobs=[o,e.tmp.label_blob]:e.tmp.name_node.top.blobs.length?e.tmp.name_node.top.blobs[0].blobs=[o]:e.tmp.name_node.top.blobs=[o],e.tmp.substituted_variable=l),e.tmp.last_rendered_name=n)}e.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(i)}("text"===this.name&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(i=function(e,t){e.tmp.element_trace.mystack.length>1&&e.tmp.element_trace.pop()},this.execs.push(i))},p.Util.padding=function(e){var t=e.match(/\s*(-{0,1}[0-9]+)/);if(t)for((e=parseInt(t[1],10))<0&&(e=1e20+e),e=""+e;e.length<20;)e="0"+e;return e},p.Util.LongOrdinalizer=function(){},p.Util.LongOrdinalizer.prototype.init=function(e){this.state=e},p.Util.LongOrdinalizer.prototype.format=function(e,t){e<10&&(e="0"+e);var i=p.Engine.getField(p.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+e,"long",0,t);return i||(i=this.state.fun.ordinalizer.format(e,t)),this.state.tmp.cite_renders_content=!0,i},p.Util.Ordinalizer=function(e){this.state=e,this.suffixes={}},p.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var e=0;e<3;e+=1){var t=[void 0,"masculine","feminine"][e];this.suffixes[this.state.opt.lang][t]=[];for(var i=1;i<5;i+=1){var r=this.state.getTerm("ordinal-0"+i,"long",!1,t);if(void 0===r){delete this.suffixes[this.state.opt.lang][t];break}this.suffixes[this.state.opt.lang][t].push(r)}}}},p.Util.Ordinalizer.prototype.format=function(e,t){var i;i=""+(e=parseInt(e,10));var r="",s=[];if(t&&s.push(t),s.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){var a;r=this.state.getTerm("ordinal",!1,0,t);for(var n=0,o=s.length;n<o;n+=1){a=s[n];var l=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(l["whole-number"][i]&&l["whole-number"][i][a]?r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][i][a],!1,0,t):l["last-two-digits"][i.slice(i.length-2)]&&l["last-two-digits"][i.slice(i.length-2)][a]?r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][i.slice(i.length-2)][a],!1,0,t):l["last-digit"][i.slice(i.length-1)]&&l["last-digit"][i.slice(i.length-1)][a]&&(r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][i.slice(i.length-1)][a],!1,0,t)),r)break}}else t||(t=void 0),this.state.fun.ordinalizer.init(),r=e/10%10==1||e>10&&e<20?this.suffixes[this.state.opt.lang][t][3]:e%10==1&&e%100!=11?this.suffixes[this.state.opt.lang][t][0]:e%10==2&&e%100!=12?this.suffixes[this.state.opt.lang][t][1]:e%10==3&&e%100!=13?this.suffixes[this.state.opt.lang][t][2]:this.suffixes[this.state.opt.lang][t][3];return i=i+=r},p.Util.Romanizer=function(){},p.Util.Romanizer.prototype.format=function(e){var t,i,r,s,a;if(t="",e<6e3)for((s=e.toString().split("")).reverse(),i=0,r=0,a=s.length,i=0;i<a;i+=1)r=parseInt(s[i],10),t=p.ROMAN_NUMERALS[i][r]+t;return t},p.Util.Suffixator=function(e){e||(e=p.SUFFIX_CHARS),this.slist=e.split(",")},p.Util.Suffixator.prototype.format=function(e){var t;e+=1;var i="";do{t=e%26==0?26:e%26;i=this.slist[t-1]+i;e=(e-t)/26}while(0!==e);return i},p.Engine.prototype.processNumber=function(e,t,i){var r,s=this,a=i;i="page-first"===i?"page":i;var n=",\\s+and\\s+|\\s+and\\s+";"en"!==this.opt.lang.slice(0,2)&&(n+="|,\\s+"+this.getTerm("and")+"\\s+|\\s+"+this.getTerm("and")+"\\s+");var o="\\s*&\\s*",l=new RegExp("^"+o+"$"),m=new RegExp("("+o+"|"+n+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)","g"),u=new RegExp("(?:"+o+"|"+n+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)"),c=this.getTerm("and"),h=this.getTerm("and","symbol");function f(e,t,r,s,n){s=s||"";var o={};if(t||p.STATUTE_SUBDIV_STRINGS_REVERSE[i]||(t="var:"+i),t){var l=t.match(/(\s*)([^\s]+)(\s*)/);"page"===a&&0===n&&-1===["p.","pp."].indexOf(l[2])?(o.gotosleepability=!0,o.labelVisibility=!0):o.labelVisibility=!1,o.label=l[2],o.origLabel=e,o.labelSuffix=l[3]?l[3]:"",o.plural=0}return(l=r.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/))?(o.particle=l[1]?l[1]:"",o.value=l[2]):(o.particle="",o.value=r),o.joiningSuffix=s.replace(/\s*-\s*/,"-"),o}function d(e,t,i){var r=e[i.pos],s=e[t].value,a="\\-"===r.joiningSuffix;s.particle&&s.particle!==r.particle&&(i.collapsible=!1);var n=s.match(/^[0-9]+([-,:a-zA-Z]*)$/),o=r.value.match(/^(?:[0-9]+|[ixv]+)([-,:a-zA-Z]*|\-[\-0-9]+)$/);if(s&&n&&o&&!a||(i.collapsible=!1,s&&o||(i.numeric=!1),a&&i.count--),(n&&n[1]||o&&o[1])&&(i.collapsible=!1),void 0===e[t].collapsible){for(var l=t,m=t+i.count;l<m;l++)isNaN(parseInt(e[l].value))&&!e[l].value.match(/^[ivxlcmIVXLCM]+$/)?e[l].collapsible=!1:e[l].collapsible=!0;i.collapsible=e[t].collapsible}var u=i.collapsible;for(l=i.pos,m=i.pos+i.count;l<m;l++)i.count>1&&u&&(e[l].plural=1),e[l].numeric=i.numeric,e[l].collapsible=i.collapsible}function g(e,t,r){"var:"!==r.label.slice(0,4)&&(0===r.pos?(["locator","number","locator-extra","page"].indexOf(i)>-1&&void 0===s.getTerm(p.STATUTE_SUBDIV_STRINGS[r.label])&&(e[r.pos].labelVisibility=!0),-1===["locator","number","locator-extra","page"].indexOf(i)&&p.STATUTE_SUBDIV_STRINGS[r.label]!==i&&(e[0].labelVisibility=!0)):e[r.pos].labelVisibility=!0)}function b(e){return e.replace("\\-","-")}function v(t){var i=p.Util.cloneToken(e),r=new p.Token;s.tmp.just_looking||(r.decorations=i.decorations,i.decorations=[],r.strings.prefix=i.strings.prefix,i.strings.prefix="",r.strings.suffix=i.strings.suffix,i.strings.suffix="");var a=t.length?t[0].label:null;if(t.length){for(var n=0,o=t.length;n<o;n++){var l=t[n],m=p.Util.cloneToken(i);m.gender=e.gender,a===l.label&&(m.formatter=e.formatter),l.numeric&&(m.successor_prefix=l.successor_prefix),m.strings.suffix=m.strings.suffix+b(l.joiningSuffix),l.styling=m}s.tmp.just_looking||'"'===t[0].value.slice(0,1)&&'"'===t[t.length-1].value.slice(-1)&&(t[0].value=t[0].value.slice(1),t[t.length-1].value=t[t.length-1].value.slice(0,-1),r.decorations.push(["@quotes",!0]))}return r}function y(e,t){return"page"===e||["locator","locator-extra"].indexOf(e)>-1&&(["p."].indexOf(t.label)>-1||["p."].indexOf(t.origLabel)>-1)}function _(e,t,i,r){var a=y(e,t),n=function(e,t){var i,r=!0;return["locator","locator-extra","page"].indexOf(e)>-1&&(i=t.origLabel?t.origLabel:t.label,r=!!s.getTerm(p.STATUTE_SUBDIV_STRINGS[i])),r}(e,t);return n&&"-"===i&&r&&((a||["locator","locator-extra","issue","volume","edition","number"].indexOf(e)>-1)&&((i=s.getTerm("page-range-delimiter"))||(i="–")),"collection-number"===e&&((i=s.getTerm("year-range-delimiter"))||(i="–"))),i}function x(e,t,r){if(!(t<1)&&2===r.count&&e[t-1].particle===e[t].particle)if("-"===e[t-1].joiningSuffix)if(!s.opt["page-range-format"]&&parseInt(e[t-1].value,10)>parseInt(e[t].value,10))e[t-1].joiningSuffix=_(i,e[t],e[t-1].joiningSuffix,!0);else{var a,n=e[t];!y(i,n)||isNaN(parseInt(e[t-1].value))||isNaN(parseInt(e[t].value))?((""+e[t-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+e[t].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(e[t-1].joiningSuffix=s.getTerm("page-range-delimiter")),a=e[t-1].value+b(e[t-1].joiningSuffix)+e[t].value):(a=e[t-1].particle+e[t-1].value+" - "+e[t].particle+e[t].value,a=s.fun.page_mangler(a));var o=a.match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+[a-z]*)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+[a-z]*)$/);if(o){var l=o[3];l=_(i,n,l,e[t].numeric),e[t-1].particle=o[1],e[t-1].value=o[2],e[t-1].joiningSuffix=l,e[t].particle=o[4],e[t].value=o[5]}r.count=0}else r.count=1}function E(t){if(e&&-1!==["page","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator","locator-extra"].indexOf(i)){for(var r={count:0,label:null,lastHadRangeDelimiter:!1},s=0,a=t.length;s<a;s++){var n=t[s];if(n.collapsible)r.label===n.label&&"-"===n.joiningSuffix?r.count=1:r.label===n.label&&"-"!==n.joiningSuffix?(r.count++,2===r.count&&x(t,s,r)):r.label!==n.label?(r.label=n.label,r.count=1):(r.count=1,r.label=n.label);else{r.count=0,r.label=null;var o=n.numeric;n.joiningSuffix=_(i,n,n.joiningSuffix,o)}}2===r.count&&x(t,t.length-1,r)}}if(c===h&&(h="&"),e&&this.tmp.shadow_numbers[a]&&this.tmp.shadow_numbers[a].values.length)return E(S=this.tmp.shadow_numbers[a].values),void(this.tmp.shadow_numbers[a].masterStyling=v(S));if(this.tmp.shadow_numbers[a]||(this.tmp.shadow_numbers[a]={values:[]}),t){var O=p.LangPrefsMap[i];if(O){var A=this.opt["cite-lang-prefs"][O][0];r=(r=this.transform.getTextSubField(t,a,"locale-"+A,!0)).name}else r=t[a];if(r&&"number"===a&&"legal_case"===t.type&&(r=r.replace(/[\\]*-/g,"\\-")),r&&this.sys.getAbbreviation){if(this.sys.normalizeAbbrevsKey)var w=this.sys.normalizeAbbrevsKey(a,r);else w=r;var T=this.transform.loadAbbreviation(t.jurisdiction,"number",w,t.language);this.transform.abbrevs[T].number&&(this.transform.abbrevs[T].number[w]?r=this.transform.abbrevs[T].number[w]:void 0!==this.transform.abbrevs[T].number[w]&&delete this.transform.abbrevs[T].number[w])}if(void 0!==r&&("string"==typeof r||"number"==typeof r)){"number"==typeof r&&(r=""+r);var k=p.STATUTE_SUBDIV_STRINGS_REVERSE[i];if(0===this.tmp.shadow_numbers[a].values.length){var S=function(e,r){var a,n,o;if(r=r||"",e=function(e){var r=(e=e.trim()).match(/^([^ ]+)/);if(r&&!p.STATUTE_SUBDIV_STRINGS[r[1]]){var s=null;(s=["locator","locator-extra","page"].indexOf(i)>-1?t.label?p.STATUTE_SUBDIV_STRINGS_REVERSE[t.label]:"p.":p.STATUTE_SUBDIV_STRINGS_REVERSE[i])&&(e=s+" "+e)}return e}(e),"page"===i&&e.indexOf("–")>-1&&(e=e.replace(/\u2013/g,"-")),e.indexOf("\\-")>-1){a=new RegExp(m.source.replace("\\-","")),n=new RegExp(u.source.replace("\\-",""));for(var c=0,d=(b=e.split("\\-")).length;c<d;c++)b[c]=b[c].replace(/\-/g,"–");o=(o=b.join("\\-")).replace(/\\/g,"")}else a=m,n=u,o=e;var g=[];if(x=o.match(a)){var b=o.split(n);for(c=0,d=x.length;c<d;c++)x[c].match(l)&&(b[c].match(/[a-zA-Z]$/)&&b[c].match(/^[a-zA-Z]/)?x[c]=h:x[c]=" "+h+" ");for(var c in b)if((""+b[c]).replace(/^[a-z]\.\s+/,"").match(/[^\s0-9ivxlcmIVXLCM]/))break;for(c=0,d=b.length-1;c<d;c++)g.push(b[c]),g.push(x[c]);g.push(b[b.length-1]),g=function(e){for(var t=e.length-2;t>-1;t-=2)"-"===e[t]&&e[t-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&e[t+1].match(/^[,a-zA-Z]+$/)&&(e[t-1]=e.slice(t-1,t+2).join(""),e=e.slice(0,t).concat(e.slice(t+2)));return e}(g)}else g=[o];var v=[],y=r,_="";for(c=0,d=g.length;c<d;c+=2){var x;if(x=g[c].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/g)){for(var E=(b=g[c].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/)).length-1;E>0;E--)!b[E-1]||b[E].match(/^[0-9]+([-;,:a-zA-Z]*)$/)&&b[E-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||(b[E-1]=b[E-1]+x[E-1]+b[E],b=b.slice(0,E).concat(b.slice(E+1)),x=x.slice(0,E-1).concat(x.slice(E)));if(x.length>0){var O=x[0].trim();!p.STATUTE_SUBDIV_STRINGS[O]||void 0===s.getTerm(p.STATUTE_SUBDIV_STRINGS[O])||-1===["locator","number","locator-extra","page"].indexOf(i)&&p.STATUTE_SUBDIV_STRINGS[O]!==i?0===c&&(x=x.slice(1),b[0]=b[0]+" "+O+" "+b[1],b=b.slice(0,1).concat(b.slice(2))):_=O}E=0;for(var A=b.length;E<A;E++)(b[E]||E===b.length-1)&&(w=_===(y=x[E-1]?x[E-1]:y).trim()?"":_,o=b[E]?b[E].trim():"",E===b.length-1?v.push(f(w,y,o,g[c+1],c)):v.push(f(w,y,o,null,c)))}else{var w;w=_===y.trim()?"":_,v.push(f(w,y,g[c],g[c+1]))}}return v}(r,k);for(var I of(function(e){for(var t=0,i=e.length-1;t<i;t++)!e[t].joiningSuffix&&e[t+1].label&&(e[t].joiningSuffix=" ")}(S),function(e){if(0!==e.length){for(var r=0,s=1,n=1,o=e.length;n<o;n++){var l=e[n-1],m=e[n];l.label===m.label&&l.particle==l.particle?s++:((u=JSON.parse(JSON.stringify(e[r]))).pos=r,u.count=s,u.numeric=!0,d(e,r,u),l.label!==m.label&&g(e,0,u),r=n,s=1)}var u;(u=JSON.parse(JSON.stringify(e[r]))).pos=r,u.count=s,u.numeric=!0,d(e,r,u),g(e,0,u),e.length&&e[0].numeric&&"number-of-"===i.slice(0,10)&&parseInt(t[a],10)>1&&(e[0].plural=1)}}(S),S))I.numeric||(I.plural=0);this.tmp.shadow_numbers[a].values=S,e&&(E(S),this.tmp.shadow_numbers[a].masterStyling=v(S)),function(e,t,r){var a=e[t];r.length&&(a.numeric=r[0].numeric,a.collapsible=r[0].collapsible,a.plural=r[0].plural,a.label=p.STATUTE_SUBDIV_STRINGS[r[0].label],"number"===i&&"issue"===a.label&&s.getTerm("number")&&(a.label="number"))}(this.tmp.shadow_numbers,a,S)}var N=this.tmp.shadow_numbers[a];"number"===i&&1===N.values.length&&N.values[0].value.indexOf("|")>-1&&(N.values[0].value=N.values[0].value.replace(/\|/g,", "),N.values[0].numeric=!0,N.values[0].plural=1,N.values[0].collapsible=!1,N.numeric=!0,N.plural=1,N.collapsible=!1),1===N.values.length&&N.values[0].value.match(/^[0-9]+(?:\/[0-9]+)+$/)&&(N.values[0].numeric=!0,N.values[0].plural=0,N.values[0].collapsible=!1,N.numeric=!0,N.plural=0,N.collapsible=!1),"page"===i&&N.values.length>0&&N.values[0].gotosleepability&&(N.labelForm="short")}}},p.Util.outputNumericField=function(e,t,i){e.output.openLevel(e.tmp.shadow_numbers[t].masterStyling);var r,s=e.tmp.shadow_numbers[t].masterStyling,a=e.tmp.shadow_numbers[t].values,n=a.length?a[0].label:null,o=e.tmp.shadow_numbers[t].labelForm,l=e.tmp.group_context.tip.label_static;r=o||"short";for(var m=e.tmp.shadow_numbers[t].labelCapitalizeIfFirst,u=e.tmp.shadow_numbers[t].labelDecorations,c=null,h=0,f=a.length;h<f;h++){var d,g=a[h],b="";g.label&&(d="var:"===g.label.slice(0,4)?g.label.slice(4):p.STATUTE_SUBDIV_STRINGS[g.label])&&(g.label===n?(l&&-1===(b=e.getTerm(d,"static",g.plural)).indexOf("%s")&&(b=""),b||(b=e.getTerm(d,o,g.plural))):(l&&-1===(b=e.getTerm(d,"static",g.plural)).indexOf("%s")&&(b=""),b||(b=e.getTerm(d,r,g.plural))),m&&(b=p.Output.Formatters["capitalize-first"](e,b)));var v=-1;b&&(v=b.indexOf("%s"));var y,_=p.Util.cloneToken(g.styling);if(_.formatter=g.styling.formatter,_.type=g.styling.type,_.num=g.styling.num,_.gender=g.styling.gender,v>0&&v<b.length-2)_.strings.prefix+=b.slice(0,v),_.strings.suffix=b.slice(v+2)+_.strings.suffix;else if(g.labelVisibility)if(b||(b=g.label,d=g.label),v>0){var x=new p.Token;x.decorations=u,e.output.append(b.slice(0,v),x)}else v!==b.length-2&&-1!==v||e.output.append(b+g.labelSuffix,"empty");if(p.UPDATE_GROUP_CONTEXT_CONDITION(e,s.strings.prefix,null,s,`${g.particle}${g.value}`),g.collapsible)void 0===(y=g.value.match(/^[1-9][0-9]*$/)?new p.NumericBlob(e,g.particle,parseInt(g.value,10),_,i):new p.NumericBlob(e,g.particle,g.value,_,i)).gender&&(y.gender=e.locale[e.opt.lang]["noun-genders"][t]),e.output.append(y,"literal");else e.output.append(g.particle+g.value,_);if(0===v&&v<b.length-2&&(null===c&&(c=d),d!==c||h===a.length-1)){var E=new p.Token;E.decorations=u,e.output.append(b.slice(v+2),E)}c=d,e.tmp.term_predecessor=!0}e.output.closeLevel()},p.Util.PageRangeMangler={},p.Util.PageRangeMangler.getFunction=function(e,t){var i,r,s,a,n,o,l,m,u,p,c,h,f,d,g,b,v,y=e.getTerm(t+"-range-delimiter");i=/([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)/,a=function(i){for(s=i.length,r=1;r<s;r+=2)"object"==typeof i[r]&&(i[r]=i[r].join(""));var a=i.join("");return a=a.replace(/([^\\])\-/g,"$1"+e.getTerm(t+"-range-delimiter"))},n=function(e){var t,i,a,n="\\s+\\-\\s+",o=new RegExp("([^\\\\])[-"+("-"===y?"":y)+"\\u2013]","g");e=e.replace(o,"$1 - ").replace(/\s+-\s+/g," - ");var l=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+n+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*)","g"),m=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+n+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*");if(t=e.match(l),0===(i=e.split(m)).length)a=t;else for(a=[i[0]],r=1,s=i.length;r<s;r+=1)a.push(t[r-1].replace(/\s*\-\s*/g,"-")),a.push(i[r]);return a},o=function(e){for(p=n(e=""+e),s=p.length,r=1;r<s;r+=2)(c=p[r].match(i))&&(c[3]&&c[1]!==c[3]||(c[4].length<c[2].length&&(c[4]=c[2].slice(0,c[2].length-c[4].length)+c[4]),parseInt(c[2],10)<parseInt(c[4],10)&&(c[3]=y+(c[1]?c[1]:""),p[r]=c.slice(1)))),"string"==typeof p[r]&&(p[r]=p[r].replace(/\-/g,y));return p},l=function(e,t,i){s=e.length;for(var r=1,n=e.length;r<n;r+=2)"object"==typeof e[r]&&(e[r][3]=m(e[r][1],e[r][3],t,i),e[r][2].slice(1)===e[r][0]&&(e[r][2]=y));return a(e)},m=function(e,t,i,r){if(i||(i=0),h=(""+e).split(""),f=(""+t).split(""),(d=f.slice()).reverse(),h.length===f.length)for(var s=0,a=h.length;s<a;s+=1){if(!(h[s]===f[s]&&d.length>i)){if(i&&r&&3===d.length){var n=h.slice(0,s);n.reverse(),d=d.concat(n)}break}d.pop()}return d.reverse(),d.join("")},u=function(e){for(s=e.length,r=1;r<s;r+=2)"object"==typeof e[r]&&(c=e[r],g=parseInt(c[1],10),b=parseInt(c[3],10),g>100&&g%100&&parseInt(g/100,10)===parseInt(b/100,10)?c[3]=""+b%100:g>=1e4&&(c[3]=""+b%1e3)),c[2].slice(1)===c[0]&&(c[2]=y);return a(e)};var _=function(e,t,i,r){return t(o(e=""+e),i,r)};return e.opt[t+"-range-format"]?"expanded"===e.opt[t+"-range-format"]?v=function(e){return _(e,a)}:"minimal"===e.opt[t+"-range-format"]?v=function(e){return _(e,l)}:"minimal-two"===e.opt[t+"-range-format"]?v=function(e,t){return _(e,l,2,t)}:"chicago"===e.opt[t+"-range-format"]&&(v=function(e){return _(e,u)}):v=function(e){return _(e,a)},v},p.Util.FlipFlopper=function(e){var t=[],i={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{true:"inner",inner:"true",false:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{true:"inner",inner:"true",false:"true"}}};i['("']=i[' "'],i["('"]=i[" '"];var r=e.getTerm("open-quote"),s=e.getTerm("close-quote"),a=e.getTerm("open-inner-quote"),n=e.getTerm("close-inner-quote");function o(e){for(var t=[],r=Object.keys(i),s=0,a=r.length;s<a;s++){var n=r[s];"quote"===i[e].type&&i[e]||t.push(n)}var o=i[e];return o.opener=new RegExp("^(?:"+t.map((function(e){return e.replace("(","\\(")})).join("|")+")"),o}r&&s&&-1===[' "'," '",'"',"'"].indexOf(r)&&(i[r]=JSON.parse(JSON.stringify(i[' "'])),i[r].opener=r,i[r].closer=s),a&&n&&-1===[' "'," '",'"',"'"].indexOf(a)&&(i[a]=JSON.parse(JSON.stringify(i[" '"])),i[a].opener=a,i[a].closer=n);var l=function(){for(var e={},t=Object.keys(i),r=0,s=t.length;r<s;r++){var a=t[r];e[a]=o(a)}return e}(),m=function(){var e=[],t=[],i={};for(var r in l)e.push(r),i[l[r].closer]=!0;for(var s=Object.keys(i),a=0,n=s.length;a<n;a++){var o=s[a];t.push(o)}var m=e.concat(t).map((function(e){return e.replace("(","\\(")})).join("|");return{matchAll:new RegExp("((?:"+m+"))","g"),splitAll:new RegExp("(?:"+m+")","g"),open:new RegExp("(^(?:"+e.map((function(e){return e.replace("(","\\(")})).join("|")+")$)"),close:new RegExp("(^(?:"+t.join("|")+")$)")}}();function u(e,i){return e.match(m.open)?function(e,i){var r=t[t.length-1];return!r||e.match(r.opener)?(t.push({type:l[e].type,opener:l[e].opener,closer:l[e].closer,pos:i}),!1):(t.pop(),t.push({type:l[e].type,opener:l[e].opener,closer:l[e].closer,pos:i}),{fixtag:r.pos})}(e,i):function(e,i){var r=t[t.length-1];return r&&e===r.closer?(t.pop(),"nocase"===r.type&&{nocase:{open:r.pos,close:i}}):r?{fixtag:r.pos}:{fixtag:i}}(e,i)}var c=function(t){var r=[];this.set=function(s){for(var a=i[s].attr,n=null,o=r.length-1;o>-1;o--){if((p=r[o])[0]===a){n=p;break}}if(!n){var l=[e[e.tmp.area].opt.layout_decorations].concat(t.alldecor);e:for(o=l.length-1;o>-1;o--){var m=l[o];if(m)for(var u=m.length-1;u>-1;u--){var p;if((p=m[u])[0]===a){n=p;break e}}}}n=n?[a,i[s].flipflop[n[1]]]:[a,i[s].outer],r.push(n)},this.pair=function(){return r[r.length-1]},this.pop=function(){r.pop()}};function h(e,t){if("'"===e){if(t&&t.match(/^[^\,\.\?\:\;\ ]/))return"’"}else if(" '"===e&&t&&t.match(/^[\ ]/))return" ’";return!1}this.processTags=function(r){var s=!1;" "!==(g=r.blobs).slice(0,1)||g.match(/^\s+[\'\"]/)||(s=!0);var a=new RegExp("("+p.ROMANESQUE_REGEXP.source+")’("+p.ROMANESQUE_REGEXP.source+")","g"),n=function(e){var t=[],r=(e=(e=e.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4')).replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3")).match(m.matchAll);if(!r)return{tags:[],strings:[e],forcedSpaces:[]};for(var s=e.split(m.splitAll),a=0,n=r.length-1;a<n;a++)i[r[a]]&&(""===s[a+1]&&['"',"'"].indexOf(r[a+1])>-1?(r[a+1]=" "+r[a+1],t.push(!0)):t.push(!1));return{tags:r,strings:s,forcedSpaces:t}}(g=" "+g.replace(a,"$1'$2"));if(0!==n.tags.length){for(var o,l=!1,f=0,d=n.tags.length;f<d;f++){var g,b=h(x=n.tags[f],g=n.strings[f+1]);if(b)n.strings[f+1]=b+n.strings[f+1],n.tags[f]="";else{for(var v;v=u(x,f);){if(!(Object.keys(v).indexOf("fixtag")>-1)){if(v.nocase){n.tags[v.nocase.open]="",n.tags[v.nocase.close]="";break}break}if(x.match(m.close)&&"'"===x)n.strings[f+1]="’"+n.strings[f+1],n.tags[f]="";else{var y=n.tags[v.fixtag];n.forcedSpaces[v.fixtag-1]&&(y=y.slice(1)),n.strings[v.fixtag+1]=y+n.strings[v.fixtag+1],n.tags[v.fixtag]=""}if(!(t.length>0))break;if("'"===x)break;t.pop()}v&&(v.fixtag||0===v.fixtag)&&(n.strings[f+1]=n.tags[f]+n.strings[f+1],n.tags[f]="")}}for(f=t.length-1;f>-1;f--){var _=t[f].pos,x=n.tags[_];n.strings[_+1]=" '"===x||"'"===x?" ’"+n.strings[_+1]:n.tags[_]+n.strings[_+1],n.tags[_]="",t.pop()}for(f=n.tags.length-1;f>-1;f--)n.tags[f]||(n.tags=n.tags.slice(0,f).concat(n.tags.slice(f+1)),n.strings[f]=n.strings[f]+n.strings[f+1],n.strings=n.strings.slice(0,f+1).concat(n.strings.slice(f+2)));for(f=0,d=n.tags.length;f<d;f++){x=n.tags[f];var E=n.forcedSpaces[f-1];[' "'," '",'("',"('"].indexOf(x)>-1&&(l||(i[o=x].outer="true",i[{" '":' "',' "':" '",'("':"('","('":'("'}[o]].outer="inner",l=!0),E||(n.strings[f]+=x.slice(0,1)))}!function(t,i,r){var s=!0,a=new c(t);t.blobs=[];var n=new function(t){this.stack=[t],this.latest=t,this.addStyling=function(t,i){if(s&&(" "===t.slice(0,1)&&(t=t.slice(1))," "===t.slice(0,1)&&(t=t.slice(1)),s=!1),this.latest=this.stack[this.stack.length-1],i){"string"==typeof this.latest.blobs&&((f=new p.Blob).blobs=this.latest.blobs,f.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[f]);var r,a=new p.Token;if((r=new p.Blob(null,a)).alldecor=this.latest.alldecor.slice(),"@class"===i[0]&&"nodecor"===i[1]){for(var n=[],o={},l=[e[e.tmp.area].opt.layout_decorations].concat(r.alldecor),m=l.length-1;m>-1;m--){var u=l[m];if(u)for(var c=u.length-1;c>-1;c--){var h=u[c];["@font-weight","@font-style","@font-variant"].indexOf(h[0])>-1&&!o[h[0]]&&("normal"!==i[1]&&(r.decorations.push([h[0],"normal"]),n.push([h[0],"normal"])),o[h[0]]=!0)}}r.alldecor.push(n)}else r.decorations.push(i),r.alldecor.push([i]);if(this.latest.blobs.push(r),this.stack.push(r),this.latest=r,t)a=new p.Token,(r=new p.Blob(null,a)).blobs=t,r.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(r)}else{var f;t&&((f=new p.Blob).blobs=t,f.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(f))}},this.popStyling=function(){this.stack.pop()}}(t);if(i.strings.length){var o=i.strings[0];r&&(o=" "+o),n.addStyling(o)}for(var l=0,u=i.tags.length;l<u;l++){var h=i.tags[l];o=i.strings[l+1],h.match(m.open)?(a.set(h),n.addStyling(o,a.pair())):(a.pop(),n.popStyling(),n.addStyling(o))}}(r,n,s)}}},p.Output.Formatters=function(){var e=new p.Doppeler('(?:‘|’|“|”| "| \'|"|\'|[-–—/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)',(function(e){return e.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")})),t=new p.Doppeler('(?:[-\\s]*<\\/*(?:spans+class="no(?:case|decor)"|i|sc|b|sub|sup)>[-\\s]*|[-\\s]+)'),i=new p.Doppeler("(?:[    -​ 　]+)"),r={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>","<sc>":"</sc>","<sub>":"</sub>","<sup>":"</sup>"};function s(e){var t=e.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return!t||t[2].match(/^[\u0370-\u03FF]$/)&&!t[3]?e:t[1]+p.toLocaleUpperCase.call(this,t[2])+t[3]}function a(t,a){if(!a)return"";t.doppel=e.split(a);var n={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"‘":{opener:"‘",closer:"’"},"“":{opener:"“",closer:"”"}};function o(e,i){return["“","‘",' "'," '"].indexOf(e)>-1?function(e,i){if(0===t.quoteState.length||e===t.quoteState[t.quoteState.length-1].opener)return t.quoteState.push({opener:n[e].opener,closer:n[e].closer,pos:i}),!1;var r=t.quoteState[t.quoteState.length-1].pos;return t.quoteState.pop(),t.quoteState.push({opener:n[e].opener,closer:n[e].closer,positions:i}),r}(e,i):function(e,i){if(!(t.quoteState.length>0&&e===t.quoteState[t.quoteState.length-1].closer))return i;t.quoteState.pop()}(e,i)}function l(e,t){var i=e.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(i)return o(i[1],t)}t.doppel.strings.length&&t.doppel.strings[0].trim()&&(t.doppel.strings[0]=t.capitaliseWords(t.doppel.strings[0],0,t.doppel.tags[0]));for(var m=0,u=t.doppel.tags.length;m<u;m++){var c=t.doppel.tags[m],h=t.doppel.strings[m+1];if(null!==t.tagState&&(r[c]?t.tagState.push(r[c]):t.tagState.length&&c===t.tagState[t.tagState.length-1]&&t.tagState.pop()),null!==t.afterPunct&&c.match(/[\!\?\:]$/)&&(t.afterPunct=!0),0===t.tagState.length?t.doppel.strings[m+1]=t.capitaliseWords(h,m+1,t.doppel,t.doppel.tags[m+1]):t.doppel.strings[m+1].trim()&&(t.lastWordPos=null),null!==t.quoteState)if((d=l(c,m))||0===d){var f=t.doppel.origStrings[d+1].slice(0,1);t.doppel.strings[d+1]=f+t.doppel.strings[d+1].slice(1),t.lastWordPos=null}t.isFirst&&h.trim()&&(t.isFirst=!1),t.afterPunct&&h.trim()&&(t.afterPunct=!1)}if(t.quoteState)for(m=0,u=t.quoteState.length;m<u;m++){var d;if(void 0!==(d=t.quoteState[m].pos)){f=t.doppel.origStrings[d+1].slice(0,1);t.doppel.strings[d+1]=f+t.doppel.strings[d+1].slice(1)}}if(t.lastWordPos){var g=i.split(t.doppel.strings[t.lastWordPos.strings]),b=g.strings[t.lastWordPos.words];b.length>1&&p.toLocaleLowerCase.call(this,b).match(t.skipWordsRex)&&(b=s.call(this,b),g.strings[t.lastWordPos.words]=b),t.doppel.strings[t.lastWordPos.strings]=i.join(g)}return e.join(t.doppel)}return{nameDoppel:t,passthrough:function(e,t){return t},lowercase:function(e,t){var i={quoteState:null,capitaliseWords:function(t){for(var i=t.split(" "),r=0,s=i.length;r<s;r++){var a=i[r];a&&(i[r]=p.toLocaleLowerCase.call(e,a))}return i.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return a.call(e,i,t)},uppercase:function(e,t){var i={quoteState:null,capitaliseWords:function(t){for(var i=t.split(" "),r=0,s=i.length;r<s;r++){var a=i[r];a&&(i[r]=p.toLocaleUpperCase.call(e,a))}return i.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return a.call(e,i,t)},sentence:function(e,t){var i={quoteState:[],capitaliseWords:function(t){for(var r=t.split(" "),a=0,n=r.length;a<n;a++){var o=r[a];o&&(i.isFirst?(r[a]=s.call(e,o),i.isFirst=!1):r[a]=p.toLocaleLowerCase.call(e,o))}return r.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return a.call(e,i,t)},title:function(e,t){var r={quoteState:[],capitaliseWords:function(t,a,n){if(t.trim()){for(var o=i.split(t),l=o.strings,m=0,u=l.length;m<u;m++){var c=l[m];if(!c)continue;let t=p.toLocaleLowerCase.call(e,c),i=!1;(c.length>1&&!t.match(r.skipWordsRex)||m===l.length-1&&"-"===n||r.isFirst||r.afterPunct)&&(i=!0),i&&c===t&&(l[m]=s.call(e,c)),r.afterPunct=!1,r.isFirst=!1,r.lastWordPos={strings:a,words:m}}t=i.join(o)}return t},skipWordsRex:e.locale[e.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return a.call(e,r,t)},"capitalize-first":function(e,t){var r={quoteState:[],capitaliseWords:function(t){for(var a=i.split(t),n=a.strings,o=0,l=n.length;o<l;o++){var m=n[o];if(m&&r.isFirst){m===p.toLocaleLowerCase.call(e,m)&&(n[o]=s.call(e,m)),r.isFirst=!1;break}}return i.join(a)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return a.call(e,r,t)},"capitalize-all":function(e,t){var r={quoteState:[],capitaliseWords:function(t){for(var r=i.split(t),a=r.strings,n=0,o=a.length;n<o;n++){var l=a[n];l&&l===p.toLocaleLowerCase.call(e,l)&&(a[n]=s.call(e,l))}return i.join(r)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return a.call(e,r,t)}}}(),p.Output.Formats=function(){},p.Output.Formats.prototype.html={text_escape:function(e){return e||(e=""),e.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"  ").replace(p.SUPERSCRIPTS_REGEXP,(function(e){return"<sup>"+p.SUPERSCRIPTS[e]+"</sup>"}))},bibstart:'<div class="csl-bib-body">\n',bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(e,t){return void 0===t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return void 0===t?"’":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){var i="";return e.sys.embedBibliographyEntry&&(i=e.sys.embedBibliographyEntry(this.item_id)+"\n"),'  <div class="csl-entry">'+t+"</div>\n"+i},"@display/block":function(e,t){return'\n\n    <div class="csl-block">'+t+"</div>\n"},"@display/left-margin":function(e,t){return'\n    <div class="csl-left-margin">'+t+"</div>"},"@display/right-inline":function(e,t){return'<div class="csl-right-inline">'+t+"</div>\n  "},"@display/indent":function(e,t){return'<div class="csl-indent">'+t+"</div>\n  "},"@showid/true":function(e,t,i){if(e.tmp.just_looking||e.tmp.suppress_decorations)return t;if(i)return'<span class="'+e.opt.nodenames[i]+'" cslid="'+i+'">'+t+"</span>";if(this.params&&"string"==typeof t){var r="";if(t){var s=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);r=s[1],t=s[2]}var a="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(a=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,r,t,a)}return t},"@URL/true":function(e,t){return'<a href="'+t+'">'+t+"</a>"},"@DOI/true":function(e,t){var i=t;return t.match(/^https?:\/\//)||(i="https://doi.org/"+t),'<a href="'+i+'">'+t+"</a>"}},p.Output.Formats.prototype.text={text_escape:function(e){return e||(e=""),e},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(e,t){return void 0===t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return void 0===t?"’":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t+"\n"},"@display/block":function(e,t){return"\n"+t},"@display/left-margin":function(e,t){return t},"@display/right-inline":function(e,t){return t},"@display/indent":function(e,t){return"\n    "+t},"@showid/true":function(e,t){return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},p.Output.Formats.prototype.rtf={text_escape:function(e){return e||(e=""),e.replace(/([\\{}])/g,"\\$1").replace(p.SUPERSCRIPTS_REGEXP,(function(e){return"\\super "+p.SUPERSCRIPTS[e]+"\\nosupersub{}"})).replace(/[\u007F-\uFFFF]/g,(function(e){return"\\uc0\\u"+e.charCodeAt(0).toString()+"{}"})).split("\t").join("\\tab{}")},"@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(e,t){return void 0===t?p.Output.Formats.rtf.text_escape(e.getTerm("open-quote")):p.Output.Formats.rtf.text_escape(e.getTerm("open-quote"))+t+p.Output.Formats.rtf.text_escape(e.getTerm("close-quote"))},"@quotes/inner":function(e,t){return void 0===t?p.Output.Formats.rtf.text_escape("’"):p.Output.Formats.rtf.text_escape(e.getTerm("open-inner-quote"))+t+p.Output.Formats.rtf.text_escape(e.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":"\\line{}%%STRING%%\\line\r\n","@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t},"@display/left-margin":function(e,t){return t+"\\tab "},"@display/right-inline":function(e,t){return t+"\r\n"},"@display/indent":function(e,t){return"\n\\tab "+t+"\\line\r\n"},"@showid/true":function(e,t){if(e.tmp.just_looking||e.tmp.suppress_decorations)return t;var i="";if(t){var r=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);i=r[1],t=r[2]}var s="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(s=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,i,t,s)},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},p.Output.Formats.prototype.asciidoc={text_escape:function(e){return e||(e=""),e.replace("*","pass:[*]","g").replace("_","pass:[_]","g").replace("#","pass:[#]","g").replace("^","pass:[^]","g").replace("~","pass:[~]","g").replace("[[","pass:[[[]","g").replace("  ","&#160; ","g").replace(p.SUPERSCRIPTS_REGEXP,(function(e){return"^"+p.SUPERSCRIPTS[e]+"^"}))},bibstart:"",bibend:"","@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":"__%%STRING%%__","@font-style/oblique":"__%%STRING%%__","@font-style/normal":!1,"@font-variant/small-caps":"[small-caps]#%%STRING%%#","@font-variant/normal":!1,"@font-weight/bold":"**%%STRING%%**","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"[underline]##%%STRING%%##","@vertical-align/sup":"^^%%STRING%%^^","@vertical-align/sub":"~~%%STRING%%~~","@vertical-align/baseline":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(e,t){return void 0===t?"``":"``"+t+"''"},"@quotes/inner":function(e,t){return void 0===t?"`":"`"+t+"'"},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t+"\n"},"@display/block":function(e,t){return t},"@display/left-margin":function(e,t){return t},"@display/right-inline":function(e,t){return" "+t},"@display/indent":function(e,t){return" "+t},"@showid/true":function(e,t){if(e.tmp.just_looking||e.tmp.suppress_decorations||!this.params||"string"!=typeof t)return t;var i="";if(t){var r=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);i=r[1],t=r[2]}var s="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(s=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,i,t,s)},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){var i=t;return t.match(/^https?:\/\//)||(i="https://doi.org/"+t),i+"["+t+"]"}},p.Output.Formats.prototype.fo={text_escape:function(e){return e||(e=""),e.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace("  ","&#160; ","g").replace(p.SUPERSCRIPTS_REGEXP,(function(e){return'<fo:inline vertical-align="super">'+p.SUPERSCRIPTS[e]+"</fo:inline>"}))},bibstart:"",bibend:"","@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":'<fo:inline font-style="italic">%%STRING%%</fo:inline>',"@font-style/oblique":'<fo:inline font-style="oblique">%%STRING%%</fo:inline>',"@font-style/normal":'<fo:inline font-style="normal">%%STRING%%</fo:inline>',"@font-variant/small-caps":'<fo:inline font-variant="small-caps">%%STRING%%</fo:inline>',"@font-variant/normal":'<fo:inline font-variant="normal">%%STRING%%</fo:inline>',"@font-weight/bold":'<fo:inline font-weight="bold">%%STRING%%</fo:inline>',"@font-weight/normal":'<fo:inline font-weight="normal">%%STRING%%</fo:inline>',"@font-weight/light":'<fo:inline font-weight="lighter">%%STRING%%</fo:inline>',"@text-decoration/none":'<fo:inline text-decoration="none">%%STRING%%</fo:inline>',"@text-decoration/underline":'<fo:inline text-decoration="underline">%%STRING%%</fo:inline>',"@vertical-align/sup":'<fo:inline vertical-align="super">%%STRING%%</fo:inline>',"@vertical-align/sub":'<fo:inline vertical-align="sub">%%STRING%%</fo:inline>',"@vertical-align/baseline":'<fo:inline vertical-align="baseline">%%STRING%%</fo:inline>',"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(e,t){return void 0===t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return void 0===t?"’":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){var i="";if(e.bibliography&&e.bibliography.opt&&e.bibliography.opt.hangingindent){var r=e.bibliography.opt.hangingindent;i=' start-indent="'+r+'em" text-indent="-'+r+'em"'}var s="";return e.sys.embedBibliographyEntry&&(s=e.sys.embedBibliographyEntry(this.item_id)+"\n"),'<fo:block id="'+this.system_id+'"'+i+">"+t+"</fo:block>\n"+s},"@display/block":function(e,t){return"\n  <fo:block>"+t+"</fo:block>\n"},"@display/left-margin":function(e,t){return'\n  <fo:table table-layout="fixed" width="100%">\n    <fo:table-column column-number="1" column-width="$$$__COLUMN_WIDTH_1__$$$"/>\n    <fo:table-column column-number="2" column-width="proportional-column-width(1)"/>\n    <fo:table-body>\n      <fo:table-row>\n        <fo:table-cell>\n          <fo:block>'+t+"</fo:block>\n        </fo:table-cell>\n        "},"@display/right-inline":function(e,t){return"<fo:table-cell>\n          <fo:block>"+t+"</fo:block>\n        </fo:table-cell>\n      </fo:table-row>\n    </fo:table-body>\n  </fo:table>\n"},"@display/indent":function(e,t){return'<fo:block margin-left="2em">'+t+"</fo:block>\n"},"@showid/true":function(e,t){if(e.tmp.just_looking||e.tmp.suppress_decorations||!this.params||"string"!=typeof t)return t;var i="";if(t){var r=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);i=r[1],t=r[2]}var s="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(s=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,i,t,s)},"@URL/true":function(e,t){return"<fo:basic-link external-destination=\"url('"+t+"')\">"+t+"</fo:basic-link>"},"@DOI/true":function(e,t){var i=t;return t.match(/^https?:\/\//)||(i="https://doi.org/"+t),"<fo:basic-link external-destination=\"url('"+i+"')\">"+t+"</fo:basic-link>"}},p.Output.Formats.prototype.latex={text_escape:function(e){return e||(e=""),e},bibstart:"\\begin{thebibliography}{4}",bibend:"end{thebibliography}","@font-style/italic":"{\\em %%STRING%%}","@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":"{\\bf %%STRING%%}","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(e,t){return void 0===t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return void 0===t?"’":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return"\\bibitem{"+e.sys.embedBibliographyEntry(this.item_id)+"}\n"},"@display/block":function(e,t){return"\n"+t},"@display/left-margin":function(e,t){return t},"@display/right-inline":function(e,t){return t},"@display/indent":function(e,t){return"\n    "+t},"@showid/true":function(e,t,i){return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},p.Output.Formats=new p.Output.Formats,p.Registry=function(e){this.debug=!1,this.state=e,this.registry={},this.reflist=[],this.refhash={},this.namereg=new p.Registry.NameReg(e),this.citationreg=new p.Registry.CitationReg(e),this.authorstrings={},this.masterMap={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new p.Registry.Comparifier(e,"bibliography_sort"),this.getSortedIds=function(){for(var e=[],t=0,i=this.reflist.length;t<i;t+=1)e.push(""+this.reflist[t].id);return e},this.getSortedRegistryItems=function(){for(var e=[],t=0,i=this.reflist.length;t<i;t+=1)e.push(this.reflist[t]);return e}},p.Registry.prototype.init=function(e,t){if(this.oldseq={},t){this.uncited={};for(var i=0,r=e.length;i<r;i+=1)this.myhash[e[i]]||this.mylist.push(""+e[i]),this.uncited[e[i]]=!0,this.myhash[e[i]]=!0}else{for(var s in this.uncited)e.push(s);var a={};for(i=e.length-1;i>-1;i+=-1)a[e[i]]?e=e.slice(0,i).concat(e.slice(i+1)):a[e[i]]=!0;this.mylist=e,this.myhash=a}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},p.Registry.prototype.dopurge=function(e){for(var t=this.mylist.length-1;t>-1;t+=-1)this.citationreg.citationsByItemId&&(this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[this.mylist[t]]||e[this.mylist[t]]||(delete this.myhash[this.mylist[t]],delete this.uncited[this.mylist[t]],this.mylist=this.mylist.slice(0,t).concat(this.mylist.slice(t+1))));this.dodeletes(this.myhash)},p.Registry.prototype.dodeletes=function(e){var t,i,r,s,a,n,o;if("string"==typeof e){var l=e;(e={})[l]=!0}for(var l in this.registry)if(!e[l]){if(this.uncited[l])continue;for(a in this.namereg.delitems(l))this.refreshes[a]=!0;for(t=this.registry[l].ambig,(n=this.ambigcites[t].indexOf(l))>-1&&(s=this.ambigcites[t].slice(),this.ambigcites[t]=s.slice(0,n).concat(s.slice(n+1,s.length)),this.ambigresets[t]=this.ambigcites[t].length),r=this.ambigcites[t].length,i=0;i<r;i+=1)o=""+this.ambigcites[t][i],this.refreshes[o]=!0;if(this.registry[l].siblings)if(1==this.registry[l].siblings.length){var m=this.registry[l].siblings[0];this.registry[m].siblings&&(this.registry[m].siblings.pop(),this.registry[m].master=!0)}else if(this.registry[l].siblings.length>1){var u=[l];if(this.registry[l].master){var p=this.registry[l].siblings[0];this.registry[p].master=!0,u.push(p)}for(var c=[],h=this.registry[l].siblings.length-1;h>-1;h+=-1){var f=this.registry[l].siblings.pop();-1===u.indexOf(f)&&c.push(f)}for(h=c.length-1;h>-1;h+=-1)this.registry[l].siblings.push(c[h])}for(var d=this.reflist.length-1;d>-1;d--)this.reflist[d].id===l&&(this.reflist=this.reflist.slice(0,d).concat(this.reflist.slice(d+1)));delete this.registry[l],delete this.refhash[l],this.return_data.bibchange=!0}},p.Registry.prototype.doinserts=function(e){var t,i,r,s,a;"string"==typeof e&&(e=[e]);for(var n=0,o=e.length;n<o;n+=1)t=e[n],this.registry[t]||(i=this.state.retrieveItem(t),r=p.getAmbiguousCite.call(this.state,i),this.ambigsTouched[r]=!0,i.legislation_id||(this.akeys[r]=!0),s={id:""+t,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:i,newItem:!0},this.registry[t]=s,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[t]&&(this.registry[t]["first-reference-note-number"]=this.citationreg.citationsByItemId[t][0].properties.noteIndex),a=p.getAmbigConfig.call(this.state),this.registerAmbigToken(r,t,a),this.touched[t]=!0,this.return_data.bibchange=!0)},p.Registry.prototype.rebuildlist=function(e){var t,i,r,s;if(e)for(this.reflist=[],t=this.mylist.length,i=0;i<t;i+=1)r=this.mylist[i],s=this.registry[r],this.reflist.push(s),this.oldseq[r]=this.registry[r].seq,this.registry[r].seq=i+1;else for(this.reflist_inserts=[],t=this.mylist.length,i=0;i<t;i+=1)r=this.mylist[i],(s=this.registry[r]).newItem&&this.reflist_inserts.push(s),this.oldseq[r]=this.registry[r].seq,this.registry[r].seq=i+1},p.Registry.prototype.dorefreshes=function(){var e;for(var t in this.refreshes)if(e=this.registry[t]){e.sortkeys=void 0,a=this.state.refetchItem(t);var i=e.ambig;for(var r in void 0===i&&(this.state.tmp.disambig_settings=!1,i=p.getAmbiguousCite.call(this.state,a),n=p.getAmbigConfig.call(this.state),this.registerAmbigToken(i,t,n)),this.ambigresets)if(1===this.ambigresets[r]){var s=this.ambigcites[i][0],a=this.state.refetchItem(s);this.registry[s].disambig=new p.AmbigConfig,this.state.tmp.disambig_settings=!1;i=p.getAmbiguousCite.call(this.state,a);var n=p.getAmbigConfig.call(this.state);this.registerAmbigToken(i,s,n)}this.state.tmp.taintedItemIDs[t]=!0,this.ambigsTouched[i]=!0,a.legislation_id||(this.akeys[i]=!0),this.touched[t]=!0}},p.Registry.prototype.setdisambigs=function(){for(var e in this.ambigsTouched)this.state.disambiguate.run(e);this.ambigsTouched={},this.akeys={}},p.Registry.prototype.renumber=function(){var e,t,i;for(this.state.bibliography_sort.opt.citation_number_sort_direction===p.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map={}),e=this.reflist.length,t=0;t<e;t+=1)(i=this.reflist[t]).seq=t+1,this.state.bibliography_sort.opt.citation_number_sort_direction===p.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map[i.seq]=this.reflist.length-i.seq+1),this.state.opt.update_mode===p.NUMERIC&&i.seq!=this.oldseq[i.id]&&(this.state.tmp.taintedItemIDs[i.id]=!0),i.seq!=this.oldseq[i.id]&&(this.return_data.bibchange=!0)},p.Registry.prototype.setsortkeys=function(){for(var e=0,t=this.mylist.length;e<t;e+=1){var i=this.mylist[e];(this.touched[i]||this.state.tmp.taintedItemIDs[i]||!this.registry[i].sortkeys)&&(this.registry[i].sortkeys=p.getSortKeys.call(this.state,this.state.retrieveItem(i),"bibliography_sort"))}},p.Registry.prototype._insertItem=function(e,t){return t.splice(this._locationOf(e,t)+1,0,e),t},p.Registry.prototype._locationOf=function(e,t,i,r){if(0===t.length)return-1;var s=(i=i||0)+(r=r||t.length)>>1,a=this.sorter.compareKeys(e,t[s]);if(r-i<=1)return-1==a?s-1:s;switch(a){case-1:return this._locationOf(e,t,i,s);case 0:return s;case 1:return this._locationOf(e,t,s,r)}},p.Registry.prototype.sorttokens=function(e){var t,i,r;if(!e){for(this.reflist_inserts=[],t=this.mylist.length,r=0;r<t;r+=1)i=this.mylist[r],(o=this.registry[i]).newItem&&this.reflist_inserts.push(o);for(var s in this.state.tmp.taintedItemIDs)if(this.registry[s]&&!this.registry[s].newItem)for(var a=this.reflist.length-1;a>-1;a--)this.reflist[a].id===s&&(this.reflist_inserts.push(this.reflist[a]),this.reflist=this.reflist.slice(0,a).concat(this.reflist.slice(a+1)));a=0;for(var n=this.reflist_inserts.length;a<n;a++){var o;delete(o=this.reflist_inserts[a]).newItem,this.reflist=this._insertItem(o,this.reflist)}for(r=0;r<t;r+=1)i=this.mylist[r],o=this.registry[i],this.registry[i].seq=r+1}},p.Registry.Comparifier=function(e,t){var i,r,s,a,n=p.getSortCompare.call(e,e.opt["default-locale-sort"]);i=e[t].opt.sort_directions,this.compareKeys=function(e,t){for(r=e.sortkeys?e.sortkeys.length:0,s=0;s<r;s+=1){var a=0;if(0<(a=e.sortkeys[s]===t.sortkeys[s]?0:void 0===e.sortkeys[s]?i[s][1]:void 0===t.sortkeys[s]?i[s][0]:n(e.sortkeys[s],t.sortkeys[s])))return i[s][1];if(0>a)return i[s][0]}return e.seq>t.seq?1:e.seq<t.seq?-1:0},a=this.compareKeys,this.compareCompositeKeys=function(e,t){return a(e[1],t[1])}},p.Registry.prototype.compareRegistryTokens=function(e,t){return e.seq>t.seq?1:e.seq<t.seq?-1:0},p.Registry.prototype.registerAmbigToken=function(e,t,i){if(this.registry[t]||p.debug("Warning: unregistered item: itemID=("+t+"), akey=("+e+")"),this.registry[t]&&this.registry[t].disambig&&this.registry[t].disambig.names)for(var r=0,s=i.names.length;r<s;r+=1){if(i.names[r]!==this.registry[t].disambig.names[r])this.state.tmp.taintedItemIDs[t]=!0;else if(i.givens[r])for(var a=0,n=i.givens[r].length;a<n;a+=1){i.givens[r][a]!==this.registry[t].disambig.givens[r][a]&&(this.state.tmp.taintedItemIDs[t]=!0)}}this.ambigcites[e]||(this.ambigcites[e]=[]),-1===this.ambigcites[e].indexOf(""+t)&&this.ambigcites[e].push(""+t),this.registry[t].ambig=e,this.registry[t].disambig=p.cloneAmbigConfig(i)},p.getSortKeys=function(e,t){var i,r,s,a,n,o;for(i=this.tmp.area,r=this.tmp.root,s=this.tmp.extension,a=p.Util.Sort.strip_prepositions,this.tmp.area=t,this.tmp.root=t.indexOf("_")>-1?t.slice(0,-5):t,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.tmp.suppress_decorations=!0,p.getCite.call(this,e),this.tmp.suppress_decorations=!1,this.tmp.disambig_override=!1,n=this[t].keys.length,o=0;o<n;o+=1)this[t].keys[o]=a(this[t].keys[o]);return this.tmp.area=i,this.tmp.root=r,this.tmp.extension=s,this[t].keys},p.Registry.NameReg=function(e){var t,i,r,s,a,n,o,l,m,u,c,h;this.state=e,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},o=function(e){return e||(e=""),e.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},l=function(e,s,a){t=o(a.family);var n=(r=o(a.given)).match(/[,\!]* ([^,]+)$/);n&&n[1]===n[1].toLowerCase()&&(r=r.replace(/[,\!]* [^,]+$/,"")),i=p.Util.Names.initializeWith(e,r,"%s"),"by-cite"===e.citation.opt["givenname-disambiguation-rule"]&&(t=""+s+t)},m=function(r,n,o,m,u,p){var c;if("bibliography"===e.tmp.area.slice(0,12)&&!u)return"string"==typeof p?1:2;n=e.nameOutput.getName(n,"locale-translit",!0).name,l(this.state,""+r,n),c=2,s=e.opt["disambiguate-add-givenname"];var h=a=e.citation.opt["givenname-disambiguation-rule"];return"by-cite"===a&&(a="all-names"),"short"===u?c=0:"string"==typeof p&&(c=1),void 0===this.namereg[t]||void 0===this.namereg[t].ikey[i]?c:"by-cite"===h&&c<=m?m:s?"string"==typeof a&&"primary-name"===a.slice(0,12)&&o>0?c:(a&&"all-names"!==a&&"primary-name"!==a?"all-names-with-initials"!==a&&"primary-name-with-initials"!==a||(c=this.namereg[t].count>1?1:0):(this.namereg[t].count>1&&(c=1),(this.namereg[t].ikey&&this.namereg[t].ikey[i].count>1||this.namereg[t].count>1&&"string"!=typeof p)&&(c=2)),e.registry.registry[r]?c:"short"==u?0:"string"==typeof p?1:void 0):c},u=function(s){var a,o,l,m,u;"string"!=typeof s&&"number"!=typeof s||(s=[""+s]);for(o=s.length,a=0;a<o;a+=1)if(m=""+s[a],this.nameind[m]){for(u in this.nameind[m])if(this.nameind[m].hasOwnProperty(u)){var p=u.split("::");if(t=p[0],i=p[1],r=p[2],void 0===this.namereg[t])continue;if(n=this.namereg[t].items,r&&this.namereg[t].ikey[i]&&this.namereg[t].ikey[i].skey[r]&&((l=(h=this.namereg[t].ikey[i].skey[r].items).indexOf(""+m))>-1&&(this.namereg[t].ikey[i].skey[r].items=h.slice(0,l).concat(h.slice([l+1]))),0===this.namereg[t].ikey[i].skey[r].items.length&&(delete this.namereg[t].ikey[i].skey[r],this.namereg[t].ikey[i].count+=-1,this.namereg[t].ikey[i].count<2)))for(var c=0,f=this.namereg[t].ikey[i].items.length;c<f;c+=1)e.tmp.taintedItemIDs[this.namereg[t].ikey[i].items[c]]=!0;if(i&&this.namereg[t].ikey[i]&&((l=this.namereg[t].ikey[i].items.indexOf(""+m))>-1&&(n=this.namereg[t].ikey[i].items.slice(),this.namereg[t].ikey[i].items=n.slice(0,l).concat(n.slice([l+1]))),0===this.namereg[t].ikey[i].items.length&&(delete this.namereg[t].ikey[i],this.namereg[t].count+=-1,this.namereg[t].count<2)))for(c=0,f=this.namereg[t].items.length;c<f;c+=1)e.tmp.taintedItemIDs[this.namereg[t].items[c]]=!0;t&&((l=this.namereg[t].items.indexOf(""+m))>-1&&(n=this.namereg[t].items.slice(),this.namereg[t].items=n.slice(0,l).concat(n.slice([l+1],n.length))),this.namereg[t].items.length<2&&delete this.namereg[t]),delete this.nameind[m][u]}delete this.nameind[m],delete this.nameindpkeys[m]}return{}},c=function(s,a,n){if(a=e.nameOutput.getName(a,"locale-translit",!0).name,!e.citation.opt["givenname-disambiguation-rule"]||"primary-"!==e.citation.opt["givenname-disambiguation-rule"].slice(0,8)||0===n){if("never"===e.opt["demote-non-dropping-particle"]&&a["non-dropping-particle"]&&a.family&&(a.family=a["non-dropping-particle"]+" "+a.family),l(this.state,""+s,a),t&&(void 0===this.namereg[t]?(this.namereg[t]={},this.namereg[t].count=0,this.namereg[t].ikey={},this.namereg[t].items=[s]):-1===this.namereg[t].items.indexOf(s)&&this.namereg[t].items.push(s)),t&&i)if(void 0===this.namereg[t].ikey[i]){if(this.namereg[t].ikey[i]={},this.namereg[t].ikey[i].count=0,this.namereg[t].ikey[i].skey={},this.namereg[t].ikey[i].items=[s],this.namereg[t].count+=1,2===this.namereg[t].count)for(var o=0,m=this.namereg[t].items.length;o<m;o+=1)e.tmp.taintedItemIDs[this.namereg[t].items[o]]=!0}else-1===this.namereg[t].ikey[i].items.indexOf(s)&&this.namereg[t].ikey[i].items.push(s);if(t&&i&&r)if(void 0===this.namereg[t].ikey[i].skey[r]){if(this.namereg[t].ikey[i].skey[r]={},this.namereg[t].ikey[i].skey[r].items=[s],this.namereg[t].ikey[i].count+=1,2===this.namereg[t].ikey[i].count)for(o=0,m=this.namereg[t].ikey[i].items.length;o<m;o+=1)e.tmp.taintedItemIDs[this.namereg[t].ikey[i].items[o]]=!0}else-1===this.namereg[t].ikey[i].skey[r].items.indexOf(s)&&this.namereg[t].ikey[i].skey[r].items.push(s);void 0===this.nameind[s]&&(this.nameind[s]={},this.nameindpkeys[s]={}),t&&(this.nameind[s][t+"::"+i+"::"+r]=!0,this.nameindpkeys[s][t]=this.namereg[t])}},this.addname=c,this.delitems=u,this.evalname=m},p.Registry.CitationReg=function(){this.citationById={},this.citationByIndex=[]},p.Disambiguation=function(e){this.state=e,this.sys=this.state.sys,this.registry=e.registry.registry,this.ambigcites=e.registry.ambigcites,this.configModes(),this.debug=!1},p.Disambiguation.prototype.run=function(e){this.modes.length&&(this.debug&&print("[A] === RUN ==="),this.akey=e,this.initVars(e)&&this.runDisambig())},p.Disambiguation.prototype.runDisambig=function(){var e;for(this.debug&&print("[C] === runDisambig() ==="),this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;)this.listpos=0,this.base||(this.base=this.lists[0][0]),e=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(e);this.lists=this.lists.slice(1)}},p.Disambiguation.prototype.scanItems=function(e){var t;this.debug&&print("[2] === scanItems() ==="),this.Item=e[1][0],this.ItemCite=p.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=e[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var i=0,r=1,s=e[1].length;r<s;r+=1){t=e[1][r];var a=p.getAmbiguousCite.call(this.state,t,this.base,!0);this.debug&&r>1&&print("  -----------"),this.ItemCite===a?(this.debug&&(print("  [CLASH]--\x3e "+this.Item.id+": "+this.ItemCite),print("             "+t.id+": "+a)),i+=1,this.partners.push(t)):(this.debug&&(print("  [clear]--\x3e "+this.Item.id+": "+this.ItemCite),print("             "+t.id+": "+a)),this.nonpartners.push(t))}this.clashes[0]=this.clashes[1],this.clashes[1]=i},p.Disambiguation.prototype.evalScan=function(e){this[this.modes[this.modeindex]](e),e&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},p.Disambiguation.prototype.disNames=function(e){if(this.debug&&print("[3] == disNames() =="),0===this.clashes[1]&&1===this.nonpartners.length)this.captureStepToBase(),this.debug&&(print("  ** RESOLUTION [a]: lone partner, one nonpartner"),print("  registering "+this.partners[0].id+" and "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(0===this.clashes[1])this.captureStepToBase(),this.debug&&(print("  ** RESOLUTION [b]: lone partner, unknown number of remaining nonpartners"),print("  registering "+this.partners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(1===this.nonpartners.length)this.captureStepToBase(),this.debug&&(print("  ** RESOLUTION [c]: lone nonpartner, unknown number of partners remaining"),print("  registering "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.debug&&print("  ** RESOLUTION [d]: better result, but no entries safe to register"),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(this.debug&&print("  ** RESOLUTION [e]: no improvement, and clashes remain"),e&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){this.debug&&print("     (registering clashing entries because we've run out of options)");for(var t=0,i=this.partners.length;t<i;t+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[t].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},p.Disambiguation.prototype.disExtraText=function(){this.debug&&print("[3] === disExtraText ==");var e=!1;if(0===this.clashes[1]&&this.nonpartners.length<2&&(e=!0),e||this.base.disambiguate&&this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax){if(e||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(e||this.modeindex===this.modes.length-1){var t=this.lists[this.listpos][0];for(i=0,r=this.lists[this.listpos][1].length;i<r;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][i].id,t);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1,(t=this.lists[this.listpos][0]).disambiguate=!0;for(i=0,r=this.lists[this.listpos][1].length;i<r;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][i].id,t)}}else if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var i=0,r=this.lists[this.listpos][1].length;i<r;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0}},p.Disambiguation.prototype.disYears=function(){var e;this.debug&&print("[3] === disYears =="),e=[];var t=this.lists[this.listpos][0];if(this.clashes[1])for(var i=0,r=this.state.registry.mylist.length;i<r;i+=1)for(var s=this.state.registry.mylist[i],a=0,n=this.lists[this.listpos][1].length;a<n;a+=1){var o;if((o=this.lists[this.listpos][1][a]).id==s){e.push(this.registry[o.id]);break}}e.sort(this.state.registry.sorter.compareKeys);for(var l=0,m=e.length;l<m;l+=1){t.year_suffix=""+l;var u=this.state.registry.registry[e[l].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+e[l].id,t),p.ambigConfigDiff(u,t)&&(this.state.tmp.taintedItemIDs[e[l].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},p.Disambiguation.prototype.incrementDisambig=function(){if(this.debug&&print("\n[1] === incrementDisambig() ==="),this.initGivens)return this.initGivens=!1,!1;var e=!1,t=!0;if("disNames"===this.modes[this.modeindex]){t=!1,"number"!=typeof this.givensMax&&(t=!0);var i=!1;"number"!=typeof this.namesMax&&(i=!0),"number"==typeof this.givensMax&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:t=!0),"number"==typeof this.namesMax&&t&&(this.state.opt["disambiguate-add-names"]?(i=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):i=!0):i=!0),"number"==typeof this.namesetsMax&&i&&this.gnameset<this.namesetsMax&&(this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0),this.debug&&(print("    ------------------"),print("    incremented values"),print("    ------------------"),print("    | gnameset: "+this.gnameset),print("    | gname: "+this.gname),print("    | names value: "+this.base.names[this.gnameset]),this.base.givens.length?print("    | givens value: "+this.base.givens[this.gnameset][this.gname]):print("    | givens value: nil"),print("    | namesetsMax: "+this.namesetsMax),print("    | namesMax: "+this.namesMax),print("    | givensMax: "+this.givensMax)),"number"==typeof this.namesetsMax&&-1!==this.namesetsMax&&this.gnameset!==this.namesetsMax||this.state.opt["disambiguate-add-names"]&&"number"==typeof this.namesMax&&this.gname!==this.namesMax||"number"==typeof this.givensMax&&void 0!==this.base.givens[this.gnameset]&&void 0!==this.base.givens[this.gnameset][this.gname]&&this.base.givens[this.gnameset][this.gname]!==this.givensMax||(e=!0,this.debug&&print("    MAXED"))}else"disExtraText"===this.modes[this.modeindex]&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return e},p.Disambiguation.prototype.initVars=function(e){var t,i,r;if(this.debug&&print("[B] === initVars() ==="),this.lists=[],this.base=!1,this.betterbase=!1,this.akey=e,this.maxNamesByItemId={},i=[],!(t=this.ambigcites[e])||!t.length)return!1;var s=this.state.refetchItem(""+t[0]);if(this.getCiteData(s),this.base=p.getAmbigConfig.call(this.state),t&&t.length>1){i.push([this.maxNamesByItemId[s.id],s]);for(var a=1,n=t.length;a<n;a+=1)s=this.state.refetchItem(""+t[a]),this.getCiteData(s,this.base),i.push([this.maxNamesByItemId[s.id],s]);i.sort((function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:e[1].id>t[1].id?1:e[1].id<t[1].id?-1:0})),r=[];for(var a=0,n=i.length;a<n;a+=1)r.push(i[a][1]);this.lists.push([this.base,r]),this.Item=this.lists[0][1][0]}else this.Item=this.state.refetchItem(""+t[0]);return this.modeindex=0,this.state.citation.opt["disambiguate-add-names"],this.namesMax=this.maxNamesByItemId[this.Item.id][0],this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},p.Disambiguation.prototype.padBase=function(e){for(var t=0,i=e.names.length;t<i;t+=1){e.givens[t]||(e.givens[t]=[]);for(var r=0,s=e.names[t];r<s;r+=1)e.givens[t][r]||(e.givens[t][r]=0)}},p.Disambiguation.prototype.configModes=function(){var e,t;this.modes=[],e=this.state.opt["disambiguate-add-givenname"],t=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||e&&"by-cite"===t)&&this.modes.push("disNames"),this.state.opt.development_extensions.prioritize_disambiguate_condition?(this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")):(this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"))},p.Disambiguation.prototype.getCiteData=function(e,t){if(!this.maxNamesByItemId[e.id]){p.getAmbiguousCite.call(this.state,e,t),t=p.getAmbigConfig.call(this.state),this.maxNamesByItemId[e.id]=p.getMaxVals.call(this.state),this.state.registry.registry[e.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var i=0,r=this.state.registry.registry[e.id].disambig.givens.length;i<r;i+=1)this.state.registry.registry[e.id].disambig.givens[i]=this.state.tmp.disambig_settings.givens[i].slice();this.namesetsMax=this.state.registry.registry[e.id].disambig.names.length-1,this.base||(this.base=t,this.betterbase=p.cloneAmbigConfig(t)),t.names.length<this.base.names.length&&(this.base=t);for(i=0,r=t.names.length;i<r;i+=1)t.names[i]>this.base.names[i]&&(this.base.givens[i]=t.givens[i].slice(),this.base.names[i]=t.names[i],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var s=0,a=this.base.givens.length;s<a;s+=1)this.betterbase.givens[s]=this.base.givens[s].slice()}},p.Disambiguation.prototype.captureStepToBase=function(){"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.base.givens&&this.base.givens.length&&void 0!==this.base.givens[this.gnameset][this.gname]&&(this.betterbase.givens.length<this.base.givens.length&&(this.betterbase.givens=JSON.parse(JSON.stringify(this.base.givens))),this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},p.Engine.prototype.getJurisdictionList=function(e){for(var t=[],i=e.split(":"),r=i.length;r>0;r--){var s=i.slice(0,r).join(":");if(t.push(s),this.opt.jurisdiction_fallbacks[s]){var a=this.opt.jurisdiction_fallbacks[s];t.push(a)}}return-1===t.indexOf("us")&&t.push("us"),t},p.Engine.prototype.loadStyleModule=function(e,t,i){var r=null;this.juris[e]={};var s=p.setupXml(t);s.addMissingNameNodes(s.dataObj),s.addInstitutionNodes(s.dataObj),s.insertPublisherAndPlace(s.dataObj),s.flagDateMacros(s.dataObj);for(var a=0,n=(c=s.getNodesByName(s.dataObj,"law-module")).length;a<n;a++){var o=s.getAttributeValue(c[a],"types");if(o){this.juris[e].types={};for(var l=0,m=(o=o.split(/\s+/)).length;l<m;l++)this.juris[e].types[o[l]]=!0}i||(r=s.getAttributeValue(c[a],"fallback"))&&"us"!==e&&(this.opt.jurisdiction_fallbacks[e]=r)}var u=this.opt.lang?this.opt.lang:this.opt["default-locale"][0];p.SET_COURT_CLASSES(this,u,s,s.dataObj),this.juris[e].types||(this.juris[e].types=p.MODULE_TYPES);var c;for(a=0,n=(c=s.getNodesByName(s.dataObj,"macro")).length;a<n;a++){var h=s.getAttributeValue(c[a],"name");p.MODULE_MACROS[h]?(this.juris[e][h]=[],this.buildTokenLists(c[a],this.juris[e][h]),this.configureTokenList(this.juris[e][h])):p.debug('CSL: skipping non-modular macro name "'+h+'" in module context')}return r},p.Engine.prototype.retrieveAllStyleModules=function(e){for(var t={},i=this.locale[this.opt.lang].opts["jurisdiction-preference"],r=(i=[""].concat(i=i||[])).length-1;r>-1;r--)for(var s=i[r],a=0,n=e.length;a<n;a++){var o=e[a];if(!this.opt.jurisdictions_seen[o]){var l=this.sys.retrieveStyleModule(o,s);(!l&&!s||l)&&(this.opt.jurisdictions_seen[o]=!0),l&&(t[o]=l)}}return t},p.ParticleList=[["'s",r=[[null,[0,1]]]],["'s-",r],["'t",r],["a",r],["aan 't",s=[[null,[0,2]]]],["aan de",s],["aan den",s],["aan der",s],["aan het",s],["aan t",s],["aan",r],["ad-",n=[[null,[0,1]],[[0,1],null]]],["adh-",n],["af",n],["al",n],["al-",n],["am de",s],["am",r],["an-",n],["ar-",n],["as-",n],["ash-",n],["at-",n],["ath-",n],["auf dem",m=[[[0,2],null],[null,[0,2]]]],["auf den",m],["auf der",m],["auf ter",s],["auf",l=[[[0,1],null],[null,[0,1]]]],["aus 'm",m],["aus dem",m],["aus den",m],["aus der",m],["aus m",m],["aus",l],["aus'm",m],["az-",n],["aš-",n],["aḍ-",n],["aḏ-",n],["aṣ-",n],["aṭ-",n],["aṯ-",n],["aẓ-",n],["ben",r],["bij 't",s],["bij de",s],["bij den",s],["bij het",s],["bij t",s],["bij",r],["bin",r],["boven d",s],["boven d'",s],["d",r],["d'",n],["da",n],["dal",r],["dal'",r],["dall'",r],["dalla",r],["das",n],["de die le",a=[[null,[0,3]]]],["de die",s],["de l",s],["de l'",s],["de la",u=[[null,[0,2]],[[0,1],[1,2]]]],["de las",u],["de le",s],["de li",o=[[null,[0,2]],[[0,2],null]]],["de van der",a],["de",n],["de'",n],["deca",r],["degli",n],["dei",n],["del",n],["dela",i=[[[0,1],null]]],["dell'",n],["della",n],["delle",n],["dello",n],["den",n],["der",n],["des",n],["di",n],["die le",s],["do",r],["don",r],["dos",n],["du",n],["ed-",n],["edh-",n],["el",n],["el-",n],["en-",n],["er-",n],["es-",n],["esh-",n],["et-",n],["eth-",n],["ez-",n],["eš-",n],["eḍ-",n],["eḏ-",n],["eṣ-",n],["eṭ-",n],["eṯ-",n],["eẓ-",n],["het",r],["i",r],["il",i],["im",r],["in 't",s],["in de",s],["in den",s],["in der",o],["in het",s],["in t",s],["in",r],["l",r],["l'",r],["la",r],["las",r],["le",r],["les",n],["lo",n],["los",r],["lou",r],["of",r],["onder 't",s],["onder de",s],["onder den",s],["onder het",s],["onder t",s],["onder",r],["op 't",s],["op de",o],["op den",s],["op der",s],["op gen",s],["op het",s],["op t",s],["op ten",s],["op",r],["over 't",s],["over de",s],["over den",s],["over het",s],["over t",s],["over",r],["s",r],["s'",r],["sen",i],["t",r],["te",r],["ten",r],["ter",r],["tho",r],["thoe",r],["thor",r],["to",r],["toe",r],["tot",r],["uijt 't",s],["uijt de",s],["uijt den",s],["uijt te de",a],["uijt ten",s],["uijt",r],["uit 't",s],["uit de",s],["uit den",s],["uit het",s],["uit t",s],["uit te de",a],["uit ten",s],["uit",r],["unter",r],["v",r],["v.",r],["v.d.",r],["van 't",s],["van de l",a],["van de l'",a],["van de",s],["van de",s],["van den",s],["van der",s],["van gen",s],["van het",s],["van la",s],["van t",s],["van ter",s],["van van de",a],["van",n],["vander",r],["vd",r],["ver",r],["vom und zum",[[[0,3],null]]],["vom",n],["von 't",s],["von dem",m],["von den",m],["von der",m],["von t",s],["von und zu",[[[0,3],null],[null,[0,3]]]],["von zu",m],["von",l],["voor 't",s],["voor de",s],["voor den",s],["voor in 't",a],["voor in t",a],["voor",r],["vor der",m],["vor",l],["z",i],["ze",i],["zu",l],["zum",n],["zur",n]],p.parseParticles=function(){function e(e,t,i){var r=e;e=i?e.toLowerCase():e;var s,a,n=[];t?(e=e.split("").reverse().join(""),s=p.PARTICLE_GIVEN_REGEXP):s=p.PARTICLE_FAMILY_REGEXP;for(var o=e.match(s);o;){var l,m=t?o[1].split("").reverse().join(""):o[1];if(!(a=!!(l=!!(l=!!o&&m)&&m.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"))&&l.toUpperCase()!==l))break;t?(n.push(r.slice(-1*m.length)),r=r.slice(0,-1*m.length)):(n.push(r.slice(0,m.length)),r=r.slice(m.length)),o=(e=o[2]).match(s)}if(t){e=e.split("").reverse().join(""),n.reverse();for(var u=1,c=n.length;u<c;u++)" "==n[u].slice(0,1)&&(n[u-1]+=" ");for(u=0,c=n.length;u<c;u++)" "==n[u].slice(0,1)&&(n[u]=n[u].slice(1));e=r.slice(0,e.length)}else e=r.slice(-1*e.length);return[a,e,n]}return function(t){var i=(o=e(t.family))[1],r=o[2];t.family=i;var s,a,n=(s=r.join(""),a=s.slice(-1),s=s.trim()," "===a&&["'","’"].indexOf(s.slice(-1))>-1&&(s+=" "),s);n&&(t["non-dropping-particle"]=n),function(e){if(!e.suffix&&e.given){var t=e.given.match(/(\s*,!*\s*)/);if(t){var i=e.given.indexOf(t[1]),r=e.given.slice(i+t[1].length),s=e.given.slice(i,i+t[1].length).replace(/\s*/g,"");"et al"!==r.replace(/\./g,"")||e["dropping-particle"]?(2===s.length&&(e["comma-suffix"]=!0),e.suffix=r):(e["dropping-particle"]=r,e["comma-dropping-particle"]=","),e.given=e.given.slice(0,i)}}}(t);var o,l=(o=e(t.given,!0))[1],m=o[2];t.given=l;var u=m.join("").trim();u&&(t["dropping-particle"]=u)}}(),e.exports=p}}]);
//# sourceMappingURL=257.bundled.js.map